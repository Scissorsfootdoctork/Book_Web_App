{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/ebook/EbookReder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/ebook/EbookReder.vue","mtime":1586538129002},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGVib29rTWlueCB9IGZyb20gIi4uLy4uL3V0aWxzL21peGluIjsKaW1wb3J0IHsKICBnZXRGb250RmFtaWx5LAogIHNhdmVGb250RmFtaWx5LAogIGdldEZvbnRTaXplLAogIHNhdmVGb250U2l6ZSwKICBnZXRUaGVtZSwKICBzYXZlVGhlbWUsCiAgZ2V0TG9jYXRpb24KfSBmcm9tICIuLi8uLi91dGlscy9sb2NhbHN0b3JhZ2UuanMiOwppbXBvcnQgRXB1YiBmcm9tICJlcHVianMiOwpnbG9iYWwuZXB1YiA9IEVwdWI7CmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFtlYm9va01pbnhdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3VjaFN0YXJ0OiAiIiwKICAgICAgdG91Y2hUaW1lOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG1vdmUoZSkgewogICAgICBsZXQgb2ZmU2V0WSA9IDA7CiAgICAgIGlmICh0aGlzLmZpcnN0T2Zmc2V0WSkgewogICAgICAgIG9mZlNldFkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSB0aGlzLmZpcnN0T2Zmc2V0WTsKICAgICAgICB0aGlzLnNldE9mZnNldFkob2ZmU2V0WSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maXJzdE9mZnNldFkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFk7CiAgICAgIH0KICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgfSwKICAgIG1vdmVFbmQoZSkgewogICAgICB0aGlzLnNldE9mZnNldFkoMCk7CiAgICAgIHRoaXMuZmlyc3RPZmZzZXRZID0gbnVsbDsKICAgIH0sCiAgICBvbk1hc2tDbGljayhlKSB7CiAgICAgIGNvbnN0IG9mZlNldFggPSBlLm9mZnNldFg7CiAgICAgIGNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgIGlmIChvZmZTZXRYID4gMCAmJiBvZmZTZXRYIDwgd2lkdGggKiAwLjMpIHsKICAgICAgICB0aGlzLnByZXZQYWdlKCk7CiAgICAgIH0gZWxzZSBpZiAob2ZmU2V0WCA+IDAgJiYgb2ZmU2V0WCA+IHdpZHRoICogMC43KSB7CiAgICAgICAgdGhpcy5uZXh0UGFnZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd1RpdGxlQW5kTWVudSgpOwogICAgICB9CiAgICB9LAogICAgcHJldlBhZ2UoKSB7CiAgICAgIGlmICh0aGlzLnJlbmRpdGlvbikgewogICAgICAgIHRoaXMucmVuZGl0aW9uLnByZXYoKS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMucmVmcmVzaExvY2F0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5oaWRlVGl0bGVBbmRNZW51KCk7CiAgICAgIH0KICAgIH0sCiAgICBuZXh0UGFnZSgpIHsKICAgICAgaWYgKHRoaXMucmVuZGl0aW9uKSB7CiAgICAgICAgdGhpcy5yZW5kaXRpb24ubmV4dCgpLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5yZWZyZXNoTG9jYXRpb24oKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmhpZGVUaXRsZUFuZE1lbnUoKTsKICAgICAgfQogICAgfSwKICAgIHNob3dUaXRsZUFuZE1lbnUoKSB7CiAgICAgIGlmICh0aGlzLm1lbnVWaXNpYmxlKSB7CiAgICAgICAgdGhpcy5zZXRTZXR0aW5nVmlzaWJsZSgtMSk7CiAgICAgICAgdGhpcy5zZXRGb250RmFtaWx5VmlzaWJsZShmYWxzZSk7CiAgICAgIH0KICAgICAgdGhpcy5zZXRNZW51VmlzaWJsZSghdGhpcy5tZW51VmlzaWJsZSk7CiAgICB9LAogICAgaW5pdEZvbnRTaXplKCkgewogICAgICBjb25zdCBmb250U2l6ZSA9IGdldEZvbnRTaXplKHRoaXMuZmlsZU5hbWUpOwogICAgICBpZiAoIWZvbnRTaXplKSB7CiAgICAgICAgc2F2ZUZvbnRTaXplKHRoaXMuZmlsZU5hbWUsIHRoaXMuZGVmdWx0Rm9udFNpemUpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY3VycmVudEJvb2sucmVuZGl0aW9uLnRoZW1lcy5mb250U2l6ZShmb250U2l6ZSk7CiAgICAgICAgdGhpcy5zZXREZWZhdWx0Rm9udFNpemUoZm9udFNpemUpOwogICAgICB9CiAgICB9LAogICAgaW5pdEZvbnRGYW1pbHkoKSB7CiAgICAgIGNvbnN0IGZvbnQgPSBnZXRGb250RmFtaWx5KHRoaXMuZmlsZU5hbWUpOwogICAgICBpZiAoIWZvbnQpIHsKICAgICAgICBzYXZlRm9udEZhbWlseSh0aGlzLmZpbGVOYW1lLCB0aGlzLmRlZmF1bHRGb250RmFtaWx5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmN1cnJlbnRCb29rLnJlbmRpdGlvbi50aGVtZXMuZm9udChmb250KTsKICAgICAgICB0aGlzLnNldERlZmF1bHRGb250RmFtaWx5KGZvbnQpOwogICAgICB9CiAgICB9LAogICAgaW5pdFRoZW1lKCkgewogICAgICBsZXQgZGVmYXVsdFRoZW1lID0gZ2V0VGhlbWUodGhpcy5maWxlTmFtZSk7CiAgICAgIGlmICghZGVmYXVsdFRoZW1lKSB7CiAgICAgICAgZGVmYXVsdFRoZW1lID0gdGhpcy5UaGVtZUxpc3RbMF0ubmFtZTsKICAgICAgICBzYXZlVGhlbWUodGhpcy5maWxlTmFtZSwgZGVmYXVsdFRoZW1lKTsKICAgICAgfQogICAgICB0aGlzLnNldERlZmF1bHRUaGVtZShkZWZhdWx0VGhlbWUpOwogICAgICB0aGlzLlRoZW1lTGlzdC5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgIHRoaXMucmVuZGl0aW9uLnRoZW1lcy5yZWdpc3RlcihlbGVtZW50Lm5hbWUsIGVsZW1lbnQuc3R5bGUpOwogICAgICB9KTsKICAgICAgdGhpcy5yZW5kaXRpb24udGhlbWVzLnNlbGVjdChkZWZhdWx0VGhlbWUpOwogICAgfSwKICAgIGluaXRSZW5kaXRpb24oKSB7CiAgICAgIHRoaXMucmVuZGl0aW9uID0gdGhpcy5ib29rLnJlbmRlclRvKCJyZWFkIiwgewogICAgICAgIHdpZHRoOiBpbm5lcldpZHRoLAogICAgICAgIGhlaWdodDogaW5uZXJIZWlnaHQsCiAgICAgICAgbWV0aG9kOiAiZGVmYXVsdCIKICAgICAgfSk7CgogICAgICB0aGlzLnJlbmRpdGlvbi5kaXNwbGF5KCkudGhlbigoKSA9PiB7CiAgICAgICAgY29uc3QgbG9jYWx0aW9uID0gZ2V0TG9jYXRpb24odGhpcy5maWxlTmFtZSk7CiAgICAgICAgdGhpcy5kaXNwbGF5KGxvY2FsdGlvbiwgKCkgPT4gewogICAgICAgICAgdGhpcy5pbml0VGhlbWUoKTsKICAgICAgICAgIHRoaXMuaW5pdEZvbnRTaXplKCk7CiAgICAgICAgICB0aGlzLmluaXRGb250RmFtaWx5KCk7CiAgICAgICAgICB0aGlzLmluaXRHbG9ibGVTdHlsZSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5yZW5kaXRpb24uaG9va3MuY29udGVudC5yZWdpc3Rlcihjb250ZW50cyA9PiB7CiAgICAgICAgUHJvbWlzZS5hbGwoWwogICAgICAgICAgY29udGVudHMuYWRkU3R5bGVzaGVldCgKICAgICAgICAgICAgYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMfS9mb250cy9kYXlzT25lLmNzc2AKICAgICAgICAgICksCiAgICAgICAgICBjb250ZW50cy5hZGRTdHlsZXNoZWV0KAogICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkx9L2ZvbnRzL2NhYmluLmNzc2AKICAgICAgICAgICksCiAgICAgICAgICBjb250ZW50cy5hZGRTdHlsZXNoZWV0KAogICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkx9L2ZvbnRzL21vbnRzZXJyYXQuY3NzYAogICAgICAgICAgKSwKICAgICAgICAgIGNvbnRlbnRzLmFkZFN0eWxlc2hlZXQoCiAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfUkVTX1VSTH0vZm9udHMvdGFuZ2VyaW5lLmNzc2AKICAgICAgICAgICkKICAgICAgICBdKS50aGVuKCgpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLlrZfkvZPlhajpg6jliqDovb3lrozmr5UuLi4iKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdEdlc3R1cmUoKSB7CiAgICAgIHRoaXMucmVuZGl0aW9uLm9uKCJ0b3VjaHN0YXJ0IiwgZSA9PiB7CiAgICAgICAgdGhpcy50b3VjaFN0YXJ0ID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYOwogICAgICAgIHRoaXMudG91Y2hUaW1lID0gZS50aW1lU3RhbXA7CiAgICAgIH0pOwogICAgICB0aGlzLnJlbmRpdGlvbi5vbigidG91Y2hlbmQiLCBlID0+IHsKICAgICAgICBjb25zdCBvZmZzZXRYID0gdGhpcy50b3VjaFN0YXJ0IC0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYOwogICAgICAgIGNvbnN0IFRpbWUgPSBlLnRpbWVTdGFtcCAtIHRoaXMudG91Y2hUaW1lOwogICAgICAgIGlmIChUaW1lIDwgNDAwICYmIG9mZnNldFggPiA0MCkgewogICAgICAgICAgdGhpcy5uZXh0UGFnZSgpOwogICAgICAgIH0gZWxzZSBpZiAoVGltZSA8IDQwMCAmJiBvZmZzZXRYIDwgLTQwKSB7CiAgICAgICAgICB0aGlzLnByZXZQYWdlKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2hvd1RpdGxlQW5kTWVudSgpOwogICAgICAgIH0KICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfSk7CiAgICB9LAogICAgcGFyc2VCb29rKCkgewogICAgICB0aGlzLmJvb2subG9hZGVkLmNvdmVyLnRoZW4oY292ZXIgPT4gewogICAgICAgIHRoaXMuYm9vay5hcmNoaXZlLmNyZWF0ZVVybChjb3ZlcikudGhlbih1cmwgPT4gewogICAgICAgICAgdGhpcy5zZXRDb3Zlcih1cmwpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5ib29rLmxvYWRlZC5tZXRhZGF0YS50aGVuKG1ldGFkYXRhID0+IHsKICAgICAgICB0aGlzLnNldE1ldGFkYXRhKG1ldGFkYXRhKTsKICAgICAgfSk7CiAgICAgIHRoaXMuYm9vay5sb2FkZWQubmF2aWdhdGlvbi50aGVuKG5hdmlnID0+IHsKICAgICAgICBjb25zdCBuYXZJdGVtID0gbmF2aWcudG9jOwogICAgICAgIHRoaXMuc2V0TmF2aWdhdGlvbihuYXZJdGVtKTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdEVwdWIoKSB7CiAgICAgIGNvbnN0IFVybCA9CiAgICAgICAgYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMfS9lcHViL2AgKyB0aGlzLmZpbGVOYW1lICsgIi5lcHViIjsKICAgICAgdGhpcy5ib29rID0gbmV3IEVwdWIoVXJsKTsKICAgICAgdGhpcy5zZXRDdXJyZW50Qm9vayh0aGlzLmJvb2spOwogICAgICB0aGlzLmluaXRSZW5kaXRpb24oKTsKICAgICAgdGhpcy5pbml0R2VzdHVyZSgpOwogICAgICB0aGlzLnBhcnNlQm9vaygpOwogICAgICB0aGlzLmJvb2sucmVhZHkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICByZXR1cm4gdGhpcy5ib29rLmxvY2F0aW9ucy5nZW5lcmF0ZSgKICAgICAgICAgICAgNzUwICogKHdpbmRvdy5pbm5lcldpZHRoIC8gMzc1KSAqIChnZXRGb250U2l6ZSh0aGlzLmZpbGVOYW1lKSAvIDE2KQogICAgICAgICAgKTsKICAgICAgICB9KQogICAgICAgIC50aGVuKGxvY2F0aW9ucyA9PiB7CiAgICAgICAgICB0aGlzLnNldEJvb2tBdmFpbGFibGUodHJ1ZSk7CiAgICAgICAgICB0aGlzLnJlZnJlc2hMb2NhdGlvbigpOwogICAgICAgIH0pOwogICAgfQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNldEZpbGVOYW1lKHRoaXMuJHJvdXRlLnBhcmFtcy5maWxlTmFtZS5zcGxpdCgifCIpLmpvaW4oIi8iKSkudGhlbigKICAgICAgKCkgPT4gewogICAgICAgIHRoaXMuaW5pdEVwdWIoKTsKICAgICAgfQogICAgKTsKICB9Cn07Cg=="},{"version":3,"sources":["EbookReder.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EbookReder.vue","sourceRoot":"src/components/ebook","sourcesContent":["<template>\n  <div class=\"Ebook-Reder\">\n    <div id=\"read\"></div>\n    <div class=\"ebook-reader-mask\" @click=\"onMaskClick\" @touchmove=\"move\" @touchend=\"moveEnd\"></div>\n  </div>\n</template>\n\n<script>\nimport { ebookMinx } from \"../../utils/mixin\";\nimport {\n  getFontFamily,\n  saveFontFamily,\n  getFontSize,\n  saveFontSize,\n  getTheme,\n  saveTheme,\n  getLocation\n} from \"../../utils/localstorage.js\";\nimport Epub from \"epubjs\";\nglobal.epub = Epub;\nexport default {\n  mixins: [ebookMinx],\n  data() {\n    return {\n      touchStart: \"\",\n      touchTime: \"\"\n    };\n  },\n  methods: {\n    move(e) {\n      let offSetY = 0;\n      if (this.firstOffsetY) {\n        offSetY = e.changedTouches[0].clientY - this.firstOffsetY;\n        this.setOffsetY(offSetY);\n      } else {\n        this.firstOffsetY = e.changedTouches[0].clientY;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    moveEnd(e) {\n      this.setOffsetY(0);\n      this.firstOffsetY = null;\n    },\n    onMaskClick(e) {\n      const offSetX = e.offsetX;\n      const width = window.innerWidth;\n      if (offSetX > 0 && offSetX < width * 0.3) {\n        this.prevPage();\n      } else if (offSetX > 0 && offSetX > width * 0.7) {\n        this.nextPage();\n      } else {\n        this.showTitleAndMenu();\n      }\n    },\n    prevPage() {\n      if (this.rendition) {\n        this.rendition.prev().then(() => {\n          this.refreshLocation();\n        });\n        this.hideTitleAndMenu();\n      }\n    },\n    nextPage() {\n      if (this.rendition) {\n        this.rendition.next().then(() => {\n          this.refreshLocation();\n        });\n        this.hideTitleAndMenu();\n      }\n    },\n    showTitleAndMenu() {\n      if (this.menuVisible) {\n        this.setSettingVisible(-1);\n        this.setFontFamilyVisible(false);\n      }\n      this.setMenuVisible(!this.menuVisible);\n    },\n    initFontSize() {\n      const fontSize = getFontSize(this.fileName);\n      if (!fontSize) {\n        saveFontSize(this.fileName, this.defultFontSize);\n      } else {\n        this.currentBook.rendition.themes.fontSize(fontSize);\n        this.setDefaultFontSize(fontSize);\n      }\n    },\n    initFontFamily() {\n      const font = getFontFamily(this.fileName);\n      if (!font) {\n        saveFontFamily(this.fileName, this.defaultFontFamily);\n      } else {\n        this.currentBook.rendition.themes.font(font);\n        this.setDefaultFontFamily(font);\n      }\n    },\n    initTheme() {\n      let defaultTheme = getTheme(this.fileName);\n      if (!defaultTheme) {\n        defaultTheme = this.ThemeList[0].name;\n        saveTheme(this.fileName, defaultTheme);\n      }\n      this.setDefaultTheme(defaultTheme);\n      this.ThemeList.forEach(element => {\n        this.rendition.themes.register(element.name, element.style);\n      });\n      this.rendition.themes.select(defaultTheme);\n    },\n    initRendition() {\n      this.rendition = this.book.renderTo(\"read\", {\n        width: innerWidth,\n        height: innerHeight,\n        method: \"default\"\n      });\n\n      this.rendition.display().then(() => {\n        const localtion = getLocation(this.fileName);\n        this.display(localtion, () => {\n          this.initTheme();\n          this.initFontSize();\n          this.initFontFamily();\n          this.initGlobleStyle();\n        });\n      });\n      this.rendition.hooks.content.register(contents => {\n        Promise.all([\n          contents.addStylesheet(\n            `${process.env.VUE_APP_RES_URL}/fonts/daysOne.css`\n          ),\n          contents.addStylesheet(\n            `${process.env.VUE_APP_RES_URL}/fonts/cabin.css`\n          ),\n          contents.addStylesheet(\n            `${process.env.VUE_APP_RES_URL}/fonts/montserrat.css`\n          ),\n          contents.addStylesheet(\n            `${process.env.VUE_APP_RES_URL}/fonts/tangerine.css`\n          )\n        ]).then(() => {\n          console.log(\"字体全部加载完毕...\");\n        });\n      });\n    },\n    initGesture() {\n      this.rendition.on(\"touchstart\", e => {\n        this.touchStart = e.changedTouches[0].clientX;\n        this.touchTime = e.timeStamp;\n      });\n      this.rendition.on(\"touchend\", e => {\n        const offsetX = this.touchStart - e.changedTouches[0].clientX;\n        const Time = e.timeStamp - this.touchTime;\n        if (Time < 400 && offsetX > 40) {\n          this.nextPage();\n        } else if (Time < 400 && offsetX < -40) {\n          this.prevPage();\n        } else {\n          this.showTitleAndMenu();\n        }\n        e.preventDefault();\n        e.stopPropagation();\n      });\n    },\n    parseBook() {\n      this.book.loaded.cover.then(cover => {\n        this.book.archive.createUrl(cover).then(url => {\n          this.setCover(url);\n        });\n      });\n      this.book.loaded.metadata.then(metadata => {\n        this.setMetadata(metadata);\n      });\n      this.book.loaded.navigation.then(navig => {\n        const navItem = navig.toc;\n        this.setNavigation(navItem);\n      });\n    },\n    initEpub() {\n      const Url =\n        `${process.env.VUE_APP_RES_URL}/epub/` + this.fileName + \".epub\";\n      this.book = new Epub(Url);\n      this.setCurrentBook(this.book);\n      this.initRendition();\n      this.initGesture();\n      this.parseBook();\n      this.book.ready\n        .then(() => {\n          return this.book.locations.generate(\n            750 * (window.innerWidth / 375) * (getFontSize(this.fileName) / 16)\n          );\n        })\n        .then(locations => {\n          this.setBookAvailable(true);\n          this.refreshLocation();\n        });\n    }\n  },\n\n  mounted() {\n    this.setFileName(this.$route.params.fileName.split(\"|\").join(\"/\")).then(\n      () => {\n        this.initEpub();\n      }\n    );\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.Ebook-Reder {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  .ebook-reader-mask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    z-index: 150;\n    background: transparent;\n  }\n}\n</style>\n"]}]}