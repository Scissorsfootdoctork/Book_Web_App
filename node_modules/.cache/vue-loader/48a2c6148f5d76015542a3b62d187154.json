{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/views/store/soreShelfCategory.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/views/store/soreShelfCategory.vue","mtime":1590872889845},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTaGVsZlRpdGxlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc2hlbGYvc2hlbGZUaXRsZScKaW1wb3J0IHsgc3RvcmVTaGVsZk1peGluIH0gZnJvbSAnLi4vLi4vdXRpbHMvbWl4aW4nCmltcG9ydCBTY3JvbGwgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb21tb24vc2Nyb2xsJwppbXBvcnQgU2hlbGZMaXN0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc2hlbGYvc2hlbGZMaXN0JwppbXBvcnQgU2hlbGZGb290ZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zaGVsZi9zaGVsZkZvb3RlcicKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG1peGluczogW3N0b3JlU2hlbGZNaXhpbl0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgU2hlbGZGb290ZXIsCiAgICAgICAgU2Nyb2xsLAogICAgICAgIFNoZWxmVGl0bGUsCiAgICAgICAgU2hlbGZMaXN0CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICAvLyDnm5HlkKzmmK/lkKbkuLrnvJbovpHmqKHlvI8KICAgICAgICBpc0VkaXRNb2RlKGlzRWRpdE1vZGUpIHsKICAgICAgICAgICAgLy8g5aaC5p6c5piv57yW6L6R5qih5byP77yM5rua5Yqo5p2h6ZyA6KaB6Led5bqV6YOoNDjlg4/ntKDvvIjpnIDopoHmjaLnrpfmiJDlrp7pmYVweO+8jOe7hOS7tui0n+i0o+i/kOeul++8iQogICAgICAgICAgICB0aGlzLnNjcm9sbEJvdHRvbSA9IGlzRWRpdE1vZGUgPyA0OCA6IDAKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgLy8g5Yi35paw5rua5Yqo5p2h77yM5L2/5b6X6K6+572u55Sf5pWICiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnNjcm9sbC5yZWZyZXNoKCkKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBpZlNob3dMaXN0KCkgewogICAgICAgICAgICAvLyDliIbnsbvliJfooajlsZXnpLrnmoTmnaHku7YKICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hlbGZDYXRlZ29yeS5pdGVtTGlzdCAmJgogICAgICAgICAgICAgICAgICB0aGlzLnNoZWxmQ2F0ZWdvcnkuaXRlbUxpc3QubGVuZ3RoID4gMAogICAgICAgIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNjcm9sbEJvdHRvbTogMAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLy8g5YiX6KGo5rua5Yqo55uR5ZCs5LqL5Lu2CiAgICAgICAgb25TY3JvbGwob2Zmc2V0WSkgewogICAgICAgICAgICAvLyDlvZPliJfooajlj5HnlJ/mu5rliqjml7bvvIzorr7nva52dWV45Lit55qEb2Zmc2V0WQogICAgICAgICAgICAvLyBvZmZzZXRZ55qE5Y+Y5pu05Lya6Kem5Y+RU2hlbGZUaXRsZee7hOS7tueahHdhdGNo55Sf5pWICiAgICAgICAgICAgIHRoaXMuc2V0T2Zmc2V0WShvZmZzZXRZKQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIC8vIOiOt+WPluWIhuexu+WIl+ihqOaVsOaNrgogICAgICAgIHRoaXMuZ2V0Q2F0ZWdvcnlMaXN0KHRoaXMuJHJvdXRlLnF1ZXJ5LnRpdGxlKQogICAgICAgIC8vIOagh+iusGN1cnJlbnRUeXBl5Li6Mu+8jOWvueS6juS4jeWQjOeahGN1cnJlbnRUeXBl77yMU2hlbGZUaXRsZeWwhuWRiOeOsOS4jeWQjOeKtuaAgQogICAgICAgIHRoaXMuc2V0Q3VycmVudFR5cGUoMikKICAgIH0KfQo="},{"version":3,"sources":["soreShelfCategory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"soreShelfCategory.vue","sourceRoot":"src/views/store","sourcesContent":["<template>\n    <div class=\"store-shelf\">\n        <!-- 标题 -->\n        <shelf-title :title=\"shelfCategory.title\" :show-back=\"true\"></shelf-title>\n        <scroll class=\"store-shelf-scroll-wrapper\"\n                :top=\"0\"\n                :bottom=\"scrollBottom\"\n                @onScroll=\"onScroll\"\n                ref=\"scroll\"\n                v-if=\"ifShowList\">\n            <!-- 分类列表 -->\n            <shelf-list :top=\"42\" :data=\"shelfCategory.itemList\"></shelf-list>\n        </scroll>\n        <!-- 分类列表数据为空时展示内容 -->\n        <div class=\"store-shelf-empty-view\" v-else>\n            {{$t('shelf.groupNone')}}\n        </div>\n        <!-- 底部菜单组件 -->\n        <shelf-footer></shelf-footer>\n    </div>\n</template>\n\n<script>\n    import ShelfTitle from '../../components/shelf/shelfTitle'\n    import { storeShelfMixin } from '../../utils/mixin'\n    import Scroll from '../../components/common/scroll'\n    import ShelfList from '../../components/shelf/shelfList'\n    import ShelfFooter from '../../components/shelf/shelfFooter'\n\n    export default {\n        mixins: [storeShelfMixin],\n        components: {\n            ShelfFooter,\n            Scroll,\n            ShelfTitle,\n            ShelfList\n        },\n        watch: {\n            // 监听是否为编辑模式\n            isEditMode(isEditMode) {\n                // 如果是编辑模式，滚动条需要距底部48像素（需要换算成实际px，组件负责运算）\n                this.scrollBottom = isEditMode ? 48 : 0\n                this.$nextTick(() => {\n                    // 刷新滚动条，使得设置生效\n                    this.$refs.scroll.refresh()\n                })\n            }\n        },\n        computed: {\n            ifShowList() {\n                // 分类列表展示的条件\n                return this.shelfCategory.itemList &&\n                      this.shelfCategory.itemList.length > 0\n            }\n        },\n        data() {\n            return {\n                scrollBottom: 0\n            }\n        },\n        methods: {\n            // 列表滚动监听事件\n            onScroll(offsetY) {\n                // 当列表发生滚动时，设置vuex中的offsetY\n                // offsetY的变更会触发ShelfTitle组件的watch生效\n                this.setOffsetY(offsetY)\n            }\n        },\n        mounted() {\n            // 获取分类列表数据\n            this.getCategoryList(this.$route.query.title)\n            // 标记currentType为2，对于不同的currentType，ShelfTitle将呈现不同状态\n            this.setCurrentType(2)\n        }\n    }\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n    @import \"../../assets/styles/global\";\n\n    .store-shelf {\n        position: relative;\n        z-index: 100;\n        width: 100%;\n        height: 100%;\n        background: white;\n\n        .store-shelf-scroll-wrapper {\n            position: absolute;\n            top: 0;\n            left: 0;\n            z-index: 101;\n        }\n\n        .store-shelf-empty-view {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            font-size: px2rem(14);\n            color: #333;\n            @include center;\n        }\n    }\n</style>\n"]}]}