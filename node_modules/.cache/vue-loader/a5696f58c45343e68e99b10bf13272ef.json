{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/views/ebook/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/views/ebook/index.vue","mtime":1587238174255},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFYm9va1JlZGVyIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvZWJvb2svRWJvb2tSZWRlciI7CmltcG9ydCBFYm9va1RpdGxlIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvZWJvb2svRWJvb2tUaXRsZS52dWUiOwppbXBvcnQgRWJvb2tNZW51IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvZWJvb2svRWJvb2tNZW51LnZ1ZSI7CmltcG9ydCBFYm9va0Jva01hcmsgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9lYm9vay9FYm9va0Jvb2tNYXJrLnZ1ZSI7CmltcG9ydCB7IGdldFJlYWRUaW1lLCBzYXZlUmVhZFRpbWUgfSBmcm9tICIuLi8uLi91dGlscy9sb2NhbHN0b3JhZ2UuanMiOwppbXBvcnQgeyBlYm9va01pbnggfSBmcm9tICIuLi8uLi91dGlscy9taXhpbi5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFtlYm9va01pbnhdLAogIGNvbXBvbmVudHM6IHsgRWJvb2tSZWRlciwgRWJvb2tUaXRsZSwgRWJvb2tNZW51LCBFYm9va0Jva01hcmsgfSwKICBtZXRob2RzOiB7CiAgICBzdGFydExvb3BSZWFkVGltZSgpIHsKICAgICAgbGV0IHJlYWRUaW1lID0gZ2V0UmVhZFRpbWUodGhpcy5maWxlTmFtZSk7CiAgICAgIGlmIChyZWFkVGltZSkgewogICAgICAgIHJlYWRUaW1lID0gMDsKICAgICAgfQogICAgICB0aGlzLnRhc2sgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgcmVhZFRpbWUrKzsKICAgICAgICBpZiAocmVhZFRpbWUgJSAzMCA9PT0gMCkgewogICAgICAgICAgc2F2ZVJlYWRUaW1lKHRoaXMuZmlsZU5hbWUsIHJlYWRUaW1lKTsKICAgICAgICB9CiAgICAgIH0sIDEwMDApOwogICAgfSwKICAgIG1vdmUodikgewogICAgICB0aGlzLiRyZWZzLmVib29rLnN0eWxlLnRvcCA9IHYgKyAicHgiOwogICAgfSwKICAgIHJlc3RvcmUoKSB7CiAgICAgIHRoaXMuJHJlZnMuZWJvb2suc3R5bGUudG9wID0gMDsKICAgICAgdGhpcy4kcmVmcy5lYm9vay5zdHlsZS50cmFuc2l0aW9uID0gImFsbCAuMnMgbGluZWFyIjsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5lYm9vay5zdHlsZS50cmFuc2l0aW9uID0gIiI7CiAgICAgIH0sIDIwMCk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zdGFydExvb3BSZWFkVGltZSgpOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0aGlzLnRhc2spIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRhc2spOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG9mZnNldFkodikgewogICAgICBpZiAoIXRoaXMubWVudVZpc2libGUgJiYgdGhpcy5ib29rQXZhaWxhYmxlKSB7CiAgICAgICAgaWYgKHYgPiAwKSB7CiAgICAgICAgICB0aGlzLm1vdmUodik7CiAgICAgICAgfSBlbHNlIGlmICh2ID09PSAwKSB7CiAgICAgICAgICB0aGlzLnJlc3RvcmUoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/ebook","sourcesContent":["<template>\n  <div class=\"ebook\" ref=\"ebook\">\n    <EbookBokMark></EbookBokMark>\n    <EbookTitle></EbookTitle>\n    <EbookReder></EbookReder>\n    <EbookMenu></EbookMenu>\n  </div>\n</template>\n\n<script>\nimport EbookReder from \"../../components/ebook/EbookReder\";\nimport EbookTitle from \"../../components/ebook/EbookTitle.vue\";\nimport EbookMenu from \"../../components/ebook/EbookMenu.vue\";\nimport EbookBokMark from \"../../components/ebook/EbookBookMark.vue\";\nimport { getReadTime, saveReadTime } from \"../../utils/localstorage.js\";\nimport { ebookMinx } from \"../../utils/mixin.js\";\nexport default {\n  mixins: [ebookMinx],\n  components: { EbookReder, EbookTitle, EbookMenu, EbookBokMark },\n  methods: {\n    startLoopReadTime() {\n      let readTime = getReadTime(this.fileName);\n      if (readTime) {\n        readTime = 0;\n      }\n      this.task = setInterval(() => {\n        readTime++;\n        if (readTime % 30 === 0) {\n          saveReadTime(this.fileName, readTime);\n        }\n      }, 1000);\n    },\n    move(v) {\n      this.$refs.ebook.style.top = v + \"px\";\n    },\n    restore() {\n      this.$refs.ebook.style.top = 0;\n      this.$refs.ebook.style.transition = \"all .2s linear\";\n      setTimeout(() => {\n        this.$refs.ebook.style.transition = \"\";\n      }, 200);\n    }\n  },\n  mounted() {\n    this.startLoopReadTime();\n  },\n  beforeDestroy() {\n    if (this.task) {\n      clearInterval(this.task);\n    }\n  },\n  watch: {\n    offsetY(v) {\n      if (!this.menuVisible && this.bookAvailable) {\n        if (v > 0) {\n          this.move(v);\n        } else if (v === 0) {\n          this.restore();\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/styles/global.scss\";\n.ebook {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>\n"]}]}