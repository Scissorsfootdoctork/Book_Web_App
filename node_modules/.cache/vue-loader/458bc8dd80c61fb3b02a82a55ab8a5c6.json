{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/views/ebook/index.vue?vue&type=style&index=0&id=4b3e28b2&lang=scss&scoped=true&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/views/ebook/index.vue","mtime":1589128565214},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAiLi4vLi4vYXNzZXRzL3N0eWxlcy9nbG9iYWwuc2NzcyI7Ci5lYm9vayB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogMDsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/ebook","sourcesContent":["<template>\n  <div class=\"ebook\" ref=\"ebook\">\n    <EbookBokMark></EbookBokMark>\n    <EbookTitle></EbookTitle>\n    <EbookReder></EbookReder>\n    <EbookMenu></EbookMenu>\n  </div>\n</template>\n\n<script>\nimport EbookReder from '../../components/ebook/EbookReder'\nimport EbookTitle from '../../components/ebook/EbookTitle.vue'\nimport EbookMenu from '../../components/ebook/EbookMenu.vue'\nimport EbookBokMark from '../../components/ebook/EbookBookMark.vue'\nimport { getReadTime, saveReadTime } from '../../utils/localstorage.js'\nimport { ebookMinx } from '../../utils/mixin.js'\nexport default {\n  mixins: [ebookMinx],\n  components: { EbookReder, EbookTitle, EbookMenu, EbookBokMark },\n  methods: {\n    startLoopReadTime () {\n      let readTime = getReadTime(this.fileName)\n      if (readTime) {\n        readTime = 0\n      }\n      this.task = setInterval(() => {\n        readTime++\n        if (readTime % 30 === 0) {\n          saveReadTime(this.fileName, readTime)\n        }\n      }, 1000)\n    },\n    move (v) {\n      this.$refs.ebook.style.top = v + 'px'\n    },\n    restore () {\n      this.$refs.ebook.style.top = 0\n      this.$refs.ebook.style.transition = 'all .2s linear'\n      setTimeout(() => {\n        this.$refs.ebook.style.transition = ''\n      }, 200)\n    }\n  },\n  mounted () {\n    this.startLoopReadTime()\n  },\n  beforeDestroy () {\n    if (this.task) {\n      clearInterval(this.task)\n    }\n  },\n  watch: {\n    offsetY (v) {\n      if (!this.menuVisible && this.bookAvailable) {\n        if (v > 0) {\n          this.move(v)\n        } else if (v === 0) {\n          this.restore()\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/styles/global.scss\";\n.ebook {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>\n"]}]}