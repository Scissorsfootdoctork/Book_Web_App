{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/src/views/store/storeShelf.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/src/views/store/storeShelf.vue","mtime":1590117999145},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTaGVsZlRpdGxlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc2hlbGYvc2hlbGZUaXRsZScKaW1wb3J0IHsgc3RvcmVTaGVsZk1peGluIH0gZnJvbSAnLi4vLi4vdXRpbHMvbWl4aW4nCmltcG9ydCBTY3JvbGwgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb21tb24vc2Nyb2xsJwppbXBvcnQgU2hlbGZTZWFyY2ggZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zaGVsZi9zaGVsZlNlYXJjaCcKaW1wb3J0IFNoZWxmTGlzdCBmcm9tICcuLi8uLi9jb21wb25lbnRzL3NoZWxmL3NoZWxmTGlzdCcKaW1wb3J0IHsgc2hlbGYgfSBmcm9tICcuLi8uLi9hcGkvc3RvcmUnCmltcG9ydCB7IGFwcGVuZEFkZFRvU2hlbGYgfSBmcm9tICcuLi8uLi91dGlscy9zdG9yZScKaW1wb3J0IFNoZWxmRm9vdGVyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc2hlbGYvc2hlbGZGb290ZXInCgpleHBvcnQgZGVmYXVsdCB7CiAgICBtaXhpbnM6IFtzdG9yZVNoZWxmTWl4aW5dLAogICAgY29tcG9uZW50czogewogICAgICAgIFNoZWxmRm9vdGVyLAogICAgICAgIFNoZWxmTGlzdCwKICAgICAgICBTY3JvbGwsCiAgICAgICAgU2hlbGZUaXRsZSwKICAgICAgICBTaGVsZlNlYXJjaAogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgLy8g55uR5ZCs57yW6L6R5qih5byP77yM57yW6L6R5qih5byP5LiL5rua5Yqo5p2h6Led5bqV6YOo6ZyA6KaB5Lqn55SfNDjlg4/ntKDnmoTot53nprsKICAgICAgICBpc0VkaXRNb2RlKGlzRWRpdE1vZGUpIHsKICAgICAgICAgICAgdGhpcy5zY3JvbGxCb3R0b20gPSBpc0VkaXRNb2RlID8gNDggOiAwCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsLnJlZnJlc2goKQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNjcm9sbEJvdHRvbTogMAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0U2hlbGZMaXN0KCkgewogICAgICAgICAgICBzaGVsZigpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuc2V0U2hlbGZMaXN0KGFwcGVuZEFkZFRvU2hlbGYocmVzLmRhdGEuYm9va0xpc3QpKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8g5rua5Yqo6aG16Z2i55qE55uR5ZCs5LqL5Lu277yMU2hlbGZUaXRsZeWSjFNoZWxmU2VhcmNo57uE5Lu25Lya6L+b6KGM55uR5ZCsCiAgICAgICAgb25TY3JvbGwob2Zmc2V0WSkgewogICAgICAgICAgICB0aGlzLnNldE9mZnNldFkob2Zmc2V0WSkKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmdldFNoZWxmTGlzdCgpCiAgICAgICAgLy8g6I635Y+W5Lmm5p625YiX6KGo5pWw5o2uCiAgICAgICAgLy8gdGhpcy5nZXRTaGVsZkxpc3QoKQogICAgICAgIC8vIC8vIOWIneWni+WMluS5puaetuWIhuexu+aVsOaNrgogICAgICAgIC8vIHRoaXMuc2V0U2hlbGZDYXRlZ29yeShbXSkKICAgICAgICAvLyAvLyDorr7nva52dWV455qEY3VycmVudFR5cGXkuLox77yM6KGo56S65b2T5YmN5L2N5LqO5Lmm5p6277yM5b2x5ZONU2hlbGZUaXRsZeeKtuaAgQogICAgICAgIC8vIHRoaXMuc2V0Q3VycmVudFR5cGUoMSkKICAgIH0KfQo="},{"version":3,"sources":["storeShelf.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"storeShelf.vue","sourceRoot":"src/views/store","sourcesContent":["<template>\n    <div class=\"store-shelf\">\n        <shelf-title :title=\"$t('shelf.title')\"></shelf-title>\n        <scroll class=\"store-shelf-scroll-wrapper\"\n                :top=\"0\"\n                :bottom=\"scrollBottom\"\n                @onScroll=\"onScroll\"\n                ref=\"scroll\">\n            <shelf-search></shelf-search>\n            <shelf-list></shelf-list>\n        </scroll>\n        <shelf-footer></shelf-footer>\n    </div>\n</template>\n\n<script>\n    import ShelfTitle from '../../components/shelf/shelfTitle'\n    import { storeShelfMixin } from '../../utils/mixin'\n    import Scroll from '../../components/common/scroll'\n    import ShelfSearch from '../../components/shelf/shelfSearch'\n    import ShelfList from '../../components/shelf/shelfList'\n    import { shelf } from '../../api/store'\n    import { appendAddToShelf } from '../../utils/store'\n    import ShelfFooter from '../../components/shelf/shelfFooter'\n\n    export default {\n        mixins: [storeShelfMixin],\n        components: {\n            ShelfFooter,\n            ShelfList,\n            Scroll,\n            ShelfTitle,\n            ShelfSearch\n        },\n        watch: {\n            // 监听编辑模式，编辑模式下滚动条距底部需要产生48像素的距离\n            isEditMode(isEditMode) {\n                this.scrollBottom = isEditMode ? 48 : 0\n                this.$nextTick(() => {\n                    this.$refs.scroll.refresh()\n                })\n            }\n        },\n        data() {\n            return {\n                scrollBottom: 0\n            }\n        },\n        methods: {\n            getShelfList() {\n                shelf().then(res => {\n                    this.setShelfList(appendAddToShelf(res.data.bookList))\n                })\n            },\n            // 滚动页面的监听事件，ShelfTitle和ShelfSearch组件会进行监听\n            onScroll(offsetY) {\n                this.setOffsetY(offsetY)\n            }\n        },\n        mounted() {\n            this.getShelfList()\n            // 获取书架列表数据\n            // this.getShelfList()\n            // // 初始化书架分类数据\n            // this.setShelfCategory([])\n            // // 设置vuex的currentType为1，表示当前位于书架，影响ShelfTitle状态\n            // this.setCurrentType(1)\n        }\n    }\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n    @import \"../../assets/styles/global\";\n\n    .store-shelf {\n        position: relative;\n        z-index: 100;\n        width: 100%;\n        height: 100%;\n        background: white;\n\n        .store-shelf-scroll-wrapper {\n            position: absolute;\n            top: 0;\n            left: 0;\n            z-index: 101;\n        }\n    }\n</style>\n"]}]}