{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/src/views/ebook/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/src/views/ebook/index.vue","mtime":1589128565214},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFYm9va1JlZGVyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZWJvb2svRWJvb2tSZWRlcicKaW1wb3J0IEVib29rVGl0bGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9lYm9vay9FYm9va1RpdGxlLnZ1ZScKaW1wb3J0IEVib29rTWVudSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2Vib29rL0Vib29rTWVudS52dWUnCmltcG9ydCBFYm9va0Jva01hcmsgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9lYm9vay9FYm9va0Jvb2tNYXJrLnZ1ZScKaW1wb3J0IHsgZ2V0UmVhZFRpbWUsIHNhdmVSZWFkVGltZSB9IGZyb20gJy4uLy4uL3V0aWxzL2xvY2Fsc3RvcmFnZS5qcycKaW1wb3J0IHsgZWJvb2tNaW54IH0gZnJvbSAnLi4vLi4vdXRpbHMvbWl4aW4uanMnCmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFtlYm9va01pbnhdLAogIGNvbXBvbmVudHM6IHsgRWJvb2tSZWRlciwgRWJvb2tUaXRsZSwgRWJvb2tNZW51LCBFYm9va0Jva01hcmsgfSwKICBtZXRob2RzOiB7CiAgICBzdGFydExvb3BSZWFkVGltZSAoKSB7CiAgICAgIGxldCByZWFkVGltZSA9IGdldFJlYWRUaW1lKHRoaXMuZmlsZU5hbWUpCiAgICAgIGlmIChyZWFkVGltZSkgewogICAgICAgIHJlYWRUaW1lID0gMAogICAgICB9CiAgICAgIHRoaXMudGFzayA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICByZWFkVGltZSsrCiAgICAgICAgaWYgKHJlYWRUaW1lICUgMzAgPT09IDApIHsKICAgICAgICAgIHNhdmVSZWFkVGltZSh0aGlzLmZpbGVOYW1lLCByZWFkVGltZSkKICAgICAgICB9CiAgICAgIH0sIDEwMDApCiAgICB9LAogICAgbW92ZSAodikgewogICAgICB0aGlzLiRyZWZzLmVib29rLnN0eWxlLnRvcCA9IHYgKyAncHgnCiAgICB9LAogICAgcmVzdG9yZSAoKSB7CiAgICAgIHRoaXMuJHJlZnMuZWJvb2suc3R5bGUudG9wID0gMAogICAgICB0aGlzLiRyZWZzLmVib29rLnN0eWxlLnRyYW5zaXRpb24gPSAnYWxsIC4ycyBsaW5lYXInCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMuZWJvb2suc3R5bGUudHJhbnNpdGlvbiA9ICcnCiAgICAgIH0sIDIwMCkKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5zdGFydExvb3BSZWFkVGltZSgpCiAgfSwKICBiZWZvcmVEZXN0cm95ICgpIHsKICAgIGlmICh0aGlzLnRhc2spIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRhc2spCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgb2Zmc2V0WSAodikgewogICAgICBpZiAoIXRoaXMubWVudVZpc2libGUgJiYgdGhpcy5ib29rQXZhaWxhYmxlKSB7CiAgICAgICAgaWYgKHYgPiAwKSB7CiAgICAgICAgICB0aGlzLm1vdmUodikKICAgICAgICB9IGVsc2UgaWYgKHYgPT09IDApIHsKICAgICAgICAgIHRoaXMucmVzdG9yZSgpCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/ebook","sourcesContent":["<template>\n  <div class=\"ebook\" ref=\"ebook\">\n    <EbookBokMark></EbookBokMark>\n    <EbookTitle></EbookTitle>\n    <EbookReder></EbookReder>\n    <EbookMenu></EbookMenu>\n  </div>\n</template>\n\n<script>\nimport EbookReder from '../../components/ebook/EbookReder'\nimport EbookTitle from '../../components/ebook/EbookTitle.vue'\nimport EbookMenu from '../../components/ebook/EbookMenu.vue'\nimport EbookBokMark from '../../components/ebook/EbookBookMark.vue'\nimport { getReadTime, saveReadTime } from '../../utils/localstorage.js'\nimport { ebookMinx } from '../../utils/mixin.js'\nexport default {\n  mixins: [ebookMinx],\n  components: { EbookReder, EbookTitle, EbookMenu, EbookBokMark },\n  methods: {\n    startLoopReadTime () {\n      let readTime = getReadTime(this.fileName)\n      if (readTime) {\n        readTime = 0\n      }\n      this.task = setInterval(() => {\n        readTime++\n        if (readTime % 30 === 0) {\n          saveReadTime(this.fileName, readTime)\n        }\n      }, 1000)\n    },\n    move (v) {\n      this.$refs.ebook.style.top = v + 'px'\n    },\n    restore () {\n      this.$refs.ebook.style.top = 0\n      this.$refs.ebook.style.transition = 'all .2s linear'\n      setTimeout(() => {\n        this.$refs.ebook.style.transition = ''\n      }, 200)\n    }\n  },\n  mounted () {\n    this.startLoopReadTime()\n  },\n  beforeDestroy () {\n    if (this.task) {\n      clearInterval(this.task)\n    }\n  },\n  watch: {\n    offsetY (v) {\n      if (!this.menuVisible && this.bookAvailable) {\n        if (v > 0) {\n          this.move(v)\n        } else if (v === 0) {\n          this.restore()\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/styles/global.scss\";\n.ebook {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>\n"]}]}