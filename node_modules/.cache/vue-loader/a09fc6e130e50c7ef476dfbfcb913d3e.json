{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/shelf/shelfItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/shelf/shelfItem.vue","mtime":1589471440193},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzaGVsZkFkZCBmcm9tICcuL3NoZWxmQWRkJwppbXBvcnQgc2hlbGZDYXRlZ29yeSBmcm9tICcuL3NoZWxmQ2F0ZWdvcnknCmltcG9ydCBzaGVsZkltYWdlIGZyb20gJy4vc2hlbGZJbWFnZScKaW1wb3J0IHsgZ290b1N0b3JlSG9tZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0b3JlJwppbXBvcnQgeyBzdG9yZVNoZWxmTWl4aW4gfSBmcm9tICcuLi8uLi91dGlscy9taXhpbicKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG1peGluczogW3N0b3JlU2hlbGZNaXhpbl0sCiAgICBwcm9wczogewogICAgICAgIGRhdGE6IE9iamVjdAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYWRkOiBzaGVsZkFkZCwKICAgICAgICAgICAgY2F0ZWdvcnk6IHNoZWxmQ2F0ZWdvcnksCiAgICAgICAgICAgIGJvb2s6IHNoZWxmSW1hZ2UKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIG9uSXRlbUNsaWNrKCkgewogICAgICAgICAgICBpZiAodGhpcy5pc0VkaXRNb2RlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc2VsZWN0ZWQgPSAhdGhpcy5kYXRhLnNlbGVjdGVkCiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhLnNlbGVjdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hlbGZTZWxlY3RlZC5pbmRleE9mKHRoaXMuZGF0YSkgPT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hlbGZTZWxlY3RlZC5wdXNoKHRoaXMuZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zaGVsZlNlbGVjdGVkKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTaGVsZlNlbGVjdGVkKHRoaXMuc2hlbGZTZWxlY3RlZC5maWx0ZXIoaXRlbSA9PiBpdGVtLmlkICE9PSB0aGlzLmRhdGEuaWQpKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS50eXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93Qm9va0RldGFpbCh0aGlzLmRhdGEpCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS50eXBlID09PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL3N0b3JlL2NhdGVnb3J5JywKICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLmRhdGEudGl0bGUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGdvdG9TdG9yZUhvbWUodGhpcykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIGl0ZW0oKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gMSA/IHRoaXMuYm9vayA6ICh0aGlzLmRhdGEudHlwZSA9PT0gMiA/IHRoaXMuY2F0ZWdvcnkgOiB0aGlzLmFkZCkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["shelfItem.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"shelfItem.vue","sourceRoot":"src/components/shelf","sourcesContent":["<template>\n    <div class=\"shelf-item\" :class=\"{ 'shelf-item-shadow' : data.type === 1 || data.type === 2 }\" @click=\"onItemClick\">\n        <component :is=\"item\" :data=\"data\" class=\"shelf-item-comp\"\n                   :class=\"{'is-edit': isEditMode && data.type === 2}\"></component>\n        <div class=\"icon-selected\"\n             :class=\"{'is-selected': data.selected}\"\n             v-show=\"isEditMode && data.type === 1\"></div>\n    </div>\n</template>\n\n<script>\n    import shelfAdd from './shelfAdd'\n    import shelfCategory from './shelfCategory'\n    import shelfImage from './shelfImage'\n    import { gotoStoreHome } from '../../utils/store'\n    import { storeShelfMixin } from '../../utils/mixin'\n\n    export default {\n        mixins: [storeShelfMixin],\n        props: {\n            data: Object\n        },\n        data() {\n            return {\n                add: shelfAdd,\n                category: shelfCategory,\n                book: shelfImage\n            }\n        },\n        methods: {\n            onItemClick() {\n                if (this.isEditMode) {\n                    this.data.selected = !this.data.selected\n                    if (this.data.selected) {\n                        if (this.shelfSelected.indexOf(this.data) === -1) {\n                            this.shelfSelected.push(this.data)\n                            console.log(this.shelfSelected)\n                        }\n                    } else {\n                        this.setShelfSelected(this.shelfSelected.filter(item => item.id !== this.data.id))\n                    }\n                } else {\n                    if (this.data.type === 1) {\n                        this.showBookDetail(this.data)\n                    } else if (this.data.type === 2) {\n                        this.$router.push({\n                            path: '/store/category',\n                            query: {\n                                title: this.data.title\n                            }\n                        })\n                    } else {\n                        gotoStoreHome(this)\n                    }\n                }\n            }\n        },\n        computed: {\n            item() {\n                return this.data.type === 1 ? this.book : (this.data.type === 2 ? this.category : this.add)\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    @import \"../../assets/styles/global\";\n\n    .shelf-item {\n        position: relative;\n        width: 100%;\n        height: 100%;\n\n        &.shelf-item-shadow {\n            box-shadow: px2rem(2) px2rem(2) px2rem(6) px2rem(2) rgba(200, 200, 200, .3);\n        }\n\n        .shelf-item-comp {\n            opacity: 1;\n\n            &.is-edit {\n                opacity: .5;\n            }\n        }\n\n        .icon-selected {\n            position: absolute;\n            bottom: px2rem(2);\n            right: px2rem(2);\n            font-size: px2rem(18);\n            color: rgba(0, 0, 0, .4);\n\n            &.is-selected {\n                color: $color-blue;\n            }\n        }\n    }\n</style>\n"]}]}