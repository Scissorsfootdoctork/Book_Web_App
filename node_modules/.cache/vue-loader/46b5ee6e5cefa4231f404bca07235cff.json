{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/src/components/shelf/shelfFooter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/src/components/shelf/shelfFooter.vue","mtime":1590357271906},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHN0b3JlU2hlbGZNaXhpbiB9IGZyb20gJy4uLy4uL3V0aWxzL21peGluJwppbXBvcnQgeyBzYXZlQm9va1NoZWxmIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9jYWxzdG9yYWdlJwovLyBpbXBvcnQgeyBkb3dubG9hZCB9IGZyb20gJy4uLy4uL2FwaS9zdG9yZScKLy8gaW1wb3J0IHsgcmVtb3ZlTG9jYWxGb3JhZ2UgfSBmcm9tICcuLi8uLi91dGlscy9sb2NhbEZvcmFnZScKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG1peGluczogW3N0b3JlU2hlbGZNaXhpbl0sCiAgICBjb21wdXRlZDogewogICAgICAgIGlzU2VsZWN0ZWQoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoZWxmU2VsZWN0ZWQgJiYgdGhpcy5zaGVsZlNlbGVjdGVkLmxlbmd0aCA+IDAKICAgICAgICB9LAogICAgICAgIHRhYnMoKSB7CiAgICAgICAgICAgIHJldHVybiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ3NoZWxmLnByaXZhdGUnKSwKICAgICAgICAgICAgICAgICAgICBsYWJlbDI6IHRoaXMuJHQoJ3NoZWxmLm5vUHJpdmF0ZScpLAogICAgICAgICAgICAgICAgICAgIGluZGV4OiAxCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdzaGVsZi5kb3dubG9hZCcpLAogICAgICAgICAgICAgICAgICAgIGxhYmVsMjogdGhpcy4kdCgnc2hlbGYuZGVsZXRlJyksCiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ3NoZWxmLm1vdmUnKSwKICAgICAgICAgICAgICAgICAgICBpbmRleDogMwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnc2hlbGYucmVtb3ZlJyksCiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0sCiAgICAgICAgaXNQcml2YXRlKCkgewogICAgICAgICAgICBpZiAoIXRoaXMuaXNTZWxlY3RlZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaGVsZlNlbGVjdGVkLmV2ZXJ5KGl0ZW0gPT4gaXRlbS5wcml2YXRlKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBpc0Rvd25sb2FkKCkgewogICAgICAgICAgICBpZiAoIXRoaXMuaXNTZWxlY3RlZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaGVsZlNlbGVjdGVkLmV2ZXJ5KGl0ZW0gPT4gaXRlbS5jYWNoZSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHBvcHVwTWVudTogbnVsbAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgZG93bmxvYWRTZWxlY3RlZEJvb2soKSB7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaGVsZlNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRvd25sb2FkQm9vayh0aGlzLnNoZWxmU2VsZWN0ZWRbaV0pLnRoZW4oYm9vayA9PiB7CiAgICAgICAgICAgICAgICAgICAgYm9vay5jYWNoZSA9IHRydWUKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIGRvd25sb2FkQm9vayhib29rKSB7CiAgICAgICAgLy8gICAgIGxldCB0ZXh0ID0gJycKICAgICAgICAvLyAgICAgY29uc3QgdG9hc3QgPSB0aGlzLnRvYXN0KHsKICAgICAgICAvLyAgICAgICAgIHRleHQKICAgICAgICAvLyAgICAgfSkKICAgICAgICAvLyAgICAgdG9hc3QuY29udGludWVTaG93KCkKICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAvLyAgICAgICAgIGRvd25sb2FkKGJvb2ssIGJvb2sgPT4gewogICAgICAgIC8vICAgICAgICAgICAgIHRvYXN0LnJlbW92ZSgpCiAgICAgICAgLy8gICAgICAgICAgICAgcmVzb2x2ZShib29rKQogICAgICAgIC8vICAgICAgICAgfSwgcmVqZWN0LCBwcm9ncmVzc0V2ZW50ID0+IHsKICAgICAgICAvLyAgICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGguZmxvb3IocHJvZ3Jlc3NFdmVudC5sb2FkZWQgLyBwcm9ncmVzc0V2ZW50LnRvdGFsICogMTAwKSArICclJwogICAgICAgIC8vICAgICAgICAgICAgIHRleHQgPSB0aGlzLiR0KCdzaGVsZi5wcm9ncmVzc0Rvd25sb2FkJykucmVwbGFjZSgnJDEnLCBgJHtib29rLmZpbGVOYW1lfS5lcHViKCR7cHJvZ3Jlc3N9KWApCiAgICAgICAgLy8gICAgICAgICAgICAgdG9hc3QudXBkYXRlVGV4dCh0ZXh0KQogICAgICAgIC8vICAgICAgICAgfSkKICAgICAgICAvLyAgICAgfSkKICAgICAgICAvLyB9LAogICAgICAgIHJlbW92ZVNlbGVjdGVkQm9vaygpIHsKICAgICAgICAgICAgUHJvbWlzZS5hbGwodGhpcy5zaGVsZlNlbGVjdGVkLm1hcChib29rID0+IHRoaXMucmVtb3ZlQm9vayhib29rKSkpLnRoZW4oYm9va3MgPT4gewogICAgICAgICAgICAgICAgYm9va3MubWFwKGJvb2sgPT4gewogICAgICAgICAgICAgICAgICAgIGJvb2suY2FjaGUgPSBmYWxzZQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIHNhdmVCb29rU2hlbGYodGhpcy5zaGVsZkxpc3QpCiAgICAgICAgICAgICAgICB0aGlzLnNpbXBsZVRvYXN0KHRoaXMuJHQoJ3NoZWxmLnJlbW92ZURvd25sb2FkU3VjY2VzcycpKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8gcmVtb3ZlQm9vayhib29rKSB7CiAgICAgICAgLy8gICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgLy8gICAgICAgICByZW1vdmVMb2NhbFN0b3JhZ2UoYCR7Ym9vay5jYXRlZ29yeVRleHR9LyR7Ym9vay5maWxlTmFtZX0taW5mb2ApCiAgICAgICAgLy8gICAgICAgICByZW1vdmVMb2NhbEZvcmFnZShgJHtib29rLmZpbGVOYW1lfWApCiAgICAgICAgLy8gICAgICAgICByZXNvbHZlKGJvb2spCiAgICAgICAgLy8gICAgIH0pCiAgICAgICAgLy8gfSwKICAgICAgICBoaWRlUG9wdXAoKSB7CiAgICAgICAgICAgIHRoaXMucG9wdXBNZW51LmhpZGUoKQogICAgICAgIH0sCiAgICAgICAgb25Db21wbGV0ZSgpIHsKICAgICAgICAgICAgdGhpcy5oaWRlUG9wdXAoKQogICAgICAgICAgICB0aGlzLnNldElzRWRpdE1vZGUoZmFsc2UpCiAgICAgICAgICAgIHNhdmVCb29rU2hlbGYodGhpcy5zaGVsZkxpc3QpCiAgICAgICAgfSwKICAgICAgICBzZXRQcml2YXRlKCkgewogICAgICAgICAgICBsZXQgaXNQcml2YXRlCiAgICAgICAgICAgIGlmICh0aGlzLmlzUHJpdmF0ZSkgewogICAgICAgICAgICAgICAgaXNQcml2YXRlID0gZmFsc2UKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlzUHJpdmF0ZSA9IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnNoZWxmU2VsZWN0ZWQuZm9yRWFjaChib29rID0+IHsKICAgICAgICAgICAgICAgIGJvb2sucHJpdmF0ZSA9IGlzUHJpdmF0ZQogICAgICAgICAgICB9KQogICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKQogICAgICAgICAgICBpZiAoaXNQcml2YXRlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNpbXBsZVRvYXN0KHRoaXMuJHQoJ3NoZWxmLnNldFByaXZhdGVTdWNjZXNzJykpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnNpbXBsZVRvYXN0KHRoaXMuJHQoJ3NoZWxmLmNsb3NlUHJpdmF0ZVN1Y2Nlc3MnKSkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgc2V0RG93bmxvYWQoKSB7CiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpCiAgICAgICAgICAgIGlmICh0aGlzLmlzRG93bmxvYWQpIHsKICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlU2VsZWN0ZWRCb29rKCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZG93bmxvYWRTZWxlY3RlZEJvb2soKQogICAgICAgICAgICAgICAgc2F2ZUJvb2tTaGVsZih0aGlzLnNoZWxmTGlzdCkKICAgICAgICAgICAgICAgIHRoaXMuc2ltcGxlVG9hc3QodGhpcy4kdCgnc2hlbGYuc2V0RG93bmxvYWRTdWNjZXNzJykpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHJlbW92ZVNlbGVjdGVkKCkgewogICAgICAgICAgICB0aGlzLnNoZWxmU2VsZWN0ZWQuZm9yRWFjaChzZWxlY3RlZCA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnNldFNoZWxmTGlzdCh0aGlzLnNoZWxmTGlzdC5maWx0ZXIoYm9vayA9PiBib29rICE9PSBzZWxlY3RlZCkpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMuc2V0U2hlbGZTZWxlY3RlZChbXSkKICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCkKICAgICAgICB9LAogICAgICAgIHNob3dQcml2YXRlKCkgewogICAgICAgICAgICB0aGlzLnBvcHVwTWVudSA9IHRoaXMucG9wdXAoewogICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuaXNQcml2YXRlID8gdGhpcy4kdCgnc2hlbGYuY2xvc2VQcml2YXRlVGl0bGUnKSA6IHRoaXMuJHQoJ3NoZWxmLnNldFByaXZhdGVUaXRsZScpLAogICAgICAgICAgICAgICAgYnRuOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLmlzUHJpdmF0ZSA/IHRoaXMuJHQoJ3NoZWxmLmNsb3NlJykgOiB0aGlzLiR0KCdzaGVsZi5vcGVuJyksCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuJHQoJ3NoZWxmLmNhbmNlbCcpLAogICAgICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlUG9wdXAoKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9KS5zaG93KCkKICAgICAgICB9LAogICAgICAgIHNob3dEb3dubG9hZCgpIHsKICAgICAgICAgICAgdGhpcy5wb3B1cE1lbnUgPSB0aGlzLnBvcHVwKHsKICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLmlzRG93bmxvYWQgPyB0aGlzLiR0KCdzaGVsZi5yZW1vdmVEb3dubG9hZFRpdGxlJykgOiB0aGlzLiR0KCdzaGVsZi5zZXREb3dubG9hZFRpdGxlJyksCiAgICAgICAgICAgICAgICBidG46IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuaXNEb3dubG9hZCA/IHRoaXMuJHQoJ3NoZWxmLmRlbGV0ZScpIDogdGhpcy4kdCgnc2hlbGYub3BlbicpLAogICAgICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREb3dubG9hZCgpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnc2hlbGYuY2FuY2VsJyksCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGVQb3B1cCgpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0pLnNob3coKQogICAgICAgIH0sCiAgICAgICAgc2hvd1JlbW92ZSgpIHsKICAgICAgICAgICAgbGV0IHRpdGxlCiAgICAgICAgICAgIGlmICh0aGlzLnNoZWxmU2VsZWN0ZWQubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICB0aXRsZSA9IHRoaXMuJHQoJ3NoZWxmLnJlbW92ZUJvb2tUaXRsZScpLnJlcGxhY2UoJyQxJywgYOOAiiR7dGhpcy5zaGVsZlNlbGVjdGVkWzBdLnRpdGxlfeOAi2ApCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aXRsZSA9IHRoaXMuJHQoJ3NoZWxmLnJlbW92ZUJvb2tUaXRsZScpLnJlcGxhY2UoJyQxJywgdGhpcy4kdCgnc2hlbGYuc2VsZWN0ZWRCb29rcycpKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMucG9wdXBNZW51ID0gdGhpcy5wb3B1cCh7CiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgICAgICAgICBidG46IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuJHQoJ3NoZWxmLnJlbW92ZUJvb2snKSwKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVNlbGVjdGVkKCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdzaGVsZi5jYW5jZWwnKSwKICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZVBvcHVwKCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSkuc2hvdygpCiAgICAgICAgfSwKICAgICAgICBvblRhYkNsaWNrKGl0ZW0pIHsKICAgICAgICAgICAgaWYgKCF0aGlzLmlzU2VsZWN0ZWQpIHsKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIHN3aXRjaCAoaXRlbS5pbmRleCkgewogICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1ByaXZhdGUoKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RG93bmxvYWQoKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2coKS5zaG93KCkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1JlbW92ZSgpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbGFiZWwoaXRlbSkgewogICAgICAgICAgICBzd2l0Y2ggKGl0ZW0uaW5kZXgpIHsKICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pc1ByaXZhdGUgPyBpdGVtLmxhYmVsMiA6IGl0ZW0ubGFiZWwKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pc0Rvd25sb2FkID8gaXRlbS5sYWJlbDIgOiBpdGVtLmxhYmVsCiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmxhYmVsCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["shelfFooter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"shelfFooter.vue","sourceRoot":"src/components/shelf","sourcesContent":["<template>\n    <div class=\"shelf-footer\" v-show=\"isEditMode\">\n        <div class=\"shelf-footer-tab-wrapper\" v-for=\"item in tabs\" :key=\"item.index\" @click=\"onTabClick(item)\">\n            <div class=\"shelf-footer-tab\" :class=\"{'is-selected': isSelected}\">\n                <div class=\"icon-private tab-icon\" v-if=\"item.index === 1 && !isPrivate\"></div>\n                <div class=\"icon-private-see tab-icon\" v-if=\"item.index === 1 && isPrivate\"></div>\n                <div class=\"icon-download tab-icon\" v-if=\"item.index === 2 && !isDownload\"></div>\n                <div class=\"icon-download-remove tab-icon\" v-if=\"item.index === 2 && isDownload\"></div>\n                <div class=\"icon-move tab-icon\" v-if=\"item.index === 3\"></div>\n                <div class=\"icon-shelf tab-icon\" v-if=\"item.index === 4\"></div>\n                <div class=\"tab-text\" :class=\"{'remove-text': item.index === 4}\">{{label(item)}}</div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import { storeShelfMixin } from '../../utils/mixin'\n    import { saveBookShelf } from '../../utils/localstorage'\n    // import { download } from '../../api/store'\n    // import { removeLocalForage } from '../../utils/localForage'\n\n    export default {\n        mixins: [storeShelfMixin],\n        computed: {\n            isSelected() {\n                return this.shelfSelected && this.shelfSelected.length > 0\n            },\n            tabs() {\n                return [\n                    {\n                        label: this.$t('shelf.private'),\n                        label2: this.$t('shelf.noPrivate'),\n                        index: 1\n                    },\n                    {\n                        label: this.$t('shelf.download'),\n                        label2: this.$t('shelf.delete'),\n                        index: 2\n                    },\n                    {\n                        label: this.$t('shelf.move'),\n                        index: 3\n                    },\n                    {\n                        label: this.$t('shelf.remove'),\n                        index: 4\n                    }\n                ]\n            },\n            isPrivate() {\n                if (!this.isSelected) {\n                    return false\n                } else {\n                    return this.shelfSelected.every(item => item.private)\n                }\n            },\n            isDownload() {\n                if (!this.isSelected) {\n                    return false\n                } else {\n                    return this.shelfSelected.every(item => item.cache)\n                }\n            }\n        },\n        data() {\n            return {\n                popupMenu: null\n            }\n        },\n        methods: {\n            async downloadSelectedBook() {\n                for (let i = 0; i < this.shelfSelected.length; i++) {\n                    await this.downloadBook(this.shelfSelected[i]).then(book => {\n                        book.cache = true\n                    })\n                }\n            },\n            // downloadBook(book) {\n            //     let text = ''\n            //     const toast = this.toast({\n            //         text\n            //     })\n            //     toast.continueShow()\n            //     return new Promise((resolve, reject) => {\n            //         download(book, book => {\n            //             toast.remove()\n            //             resolve(book)\n            //         }, reject, progressEvent => {\n            //             const progress = Math.floor(progressEvent.loaded / progressEvent.total * 100) + '%'\n            //             text = this.$t('shelf.progressDownload').replace('$1', `${book.fileName}.epub(${progress})`)\n            //             toast.updateText(text)\n            //         })\n            //     })\n            // },\n            removeSelectedBook() {\n                Promise.all(this.shelfSelected.map(book => this.removeBook(book))).then(books => {\n                    books.map(book => {\n                        book.cache = false\n                    })\n                    saveBookShelf(this.shelfList)\n                    this.simpleToast(this.$t('shelf.removeDownloadSuccess'))\n                })\n            },\n            // removeBook(book) {\n            //     return new Promise((resolve, reject) => {\n            //         removeLocalStorage(`${book.categoryText}/${book.fileName}-info`)\n            //         removeLocalForage(`${book.fileName}`)\n            //         resolve(book)\n            //     })\n            // },\n            hidePopup() {\n                this.popupMenu.hide()\n            },\n            onComplete() {\n                this.hidePopup()\n                this.setIsEditMode(false)\n                saveBookShelf(this.shelfList)\n            },\n            setPrivate() {\n                let isPrivate\n                if (this.isPrivate) {\n                    isPrivate = false\n                } else {\n                    isPrivate = true\n                }\n                this.shelfSelected.forEach(book => {\n                    book.private = isPrivate\n                })\n                this.onComplete()\n                if (isPrivate) {\n                    this.simpleToast(this.$t('shelf.setPrivateSuccess'))\n                } else {\n                    this.simpleToast(this.$t('shelf.closePrivateSuccess'))\n                }\n            },\n            async setDownload() {\n                this.onComplete()\n                if (this.isDownload) {\n                    this.removeSelectedBook()\n                } else {\n                    await this.downloadSelectedBook()\n                    saveBookShelf(this.shelfList)\n                    this.simpleToast(this.$t('shelf.setDownloadSuccess'))\n                }\n            },\n            removeSelected() {\n                this.shelfSelected.forEach(selected => {\n                    this.setShelfList(this.shelfList.filter(book => book !== selected))\n                })\n                this.setShelfSelected([])\n                this.onComplete()\n            },\n            showPrivate() {\n                this.popupMenu = this.popup({\n                    title: this.isPrivate ? this.$t('shelf.closePrivateTitle') : this.$t('shelf.setPrivateTitle'),\n                    btn: [\n                        {\n                            text: this.isPrivate ? this.$t('shelf.close') : this.$t('shelf.open'),\n                            click: () => {\n                                this.setPrivate()\n                            }\n                        },\n                        {\n                            text: this.$t('shelf.cancel'),\n                            click: () => {\n                                this.hidePopup()\n                            }\n                        }\n                    ]\n                }).show()\n            },\n            showDownload() {\n                this.popupMenu = this.popup({\n                    title: this.isDownload ? this.$t('shelf.removeDownloadTitle') : this.$t('shelf.setDownloadTitle'),\n                    btn: [\n                        {\n                            text: this.isDownload ? this.$t('shelf.delete') : this.$t('shelf.open'),\n                            click: () => {\n                                this.setDownload()\n                            }\n                        },\n                        {\n                            text: this.$t('shelf.cancel'),\n                            click: () => {\n                                this.hidePopup()\n                            }\n                        }\n                    ]\n                }).show()\n            },\n            showRemove() {\n                let title\n                if (this.shelfSelected.length === 1) {\n                    title = this.$t('shelf.removeBookTitle').replace('$1', `《${this.shelfSelected[0].title}》`)\n                } else {\n                    title = this.$t('shelf.removeBookTitle').replace('$1', this.$t('shelf.selectedBooks'))\n                }\n                this.popupMenu = this.popup({\n                    title: title,\n                    btn: [\n                        {\n                            text: this.$t('shelf.removeBook'),\n                            type: 'danger',\n                            click: () => {\n                                this.removeSelected()\n                            }\n                        },\n                        {\n                            text: this.$t('shelf.cancel'),\n                            click: () => {\n                                this.hidePopup()\n                            }\n                        }\n                    ]\n                }).show()\n            },\n            onTabClick(item) {\n                if (!this.isSelected) {\n                    return\n                }\n                switch (item.index) {\n                    case 1:\n                        this.showPrivate()\n                        break\n                    case 2:\n                        this.showDownload()\n                        break\n                    case 3:\n                        this.dialog().show()\n                        break\n                    case 4:\n                        this.showRemove()\n                        break\n                    default:\n                        break\n                }\n            },\n            label(item) {\n                switch (item.index) {\n                    case 1:\n                        return this.isPrivate ? item.label2 : item.label\n                    case 2:\n                        return this.isDownload ? item.label2 : item.label\n                    default:\n                        return item.label\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    @import \"../../assets/styles/global\";\n\n    .shelf-footer {\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        z-index: 120;\n        display: flex;\n        width: 100%;\n        height: px2rem(48);\n        background: white;\n        box-shadow: 0 px2rem(-2) px2rem(4) 0 rgba(0, 0, 0, .1);\n\n        .shelf-footer-tab-wrapper {\n            flex: 1;\n            width: 25%;\n            height: 100%;\n\n            .shelf-footer-tab {\n                width: 100%;\n                height: 100%;\n                opacity: .5;\n                @include columnCenter;\n\n                &.is-selected {\n                    opacity: 1;\n                }\n\n                .tab-icon {\n                    font-size: px2rem(20);\n                    color: #666;\n                }\n\n                .tab-text {\n                    margin-top: px2rem(5);\n                    font-size: px2rem(12);\n                    color: #666;\n\n                    &.remove-text {\n                        color: $color-pink;\n                    }\n                }\n\n                .icon-shelf {\n                    color: $color-pink;\n                }\n            }\n        }\n    }\n</style>\n"]}]}