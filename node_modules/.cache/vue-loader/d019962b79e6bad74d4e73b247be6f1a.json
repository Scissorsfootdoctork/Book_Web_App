{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/shelf/ShelfGroupDialog.vue?vue&type=style&index=0&id=4add3a92&lang=scss&rel=stylesheet%2Fscss&scoped=true&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/shelf/ShelfGroupDialog.vue","mtime":1590868216822},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICIuLi8uLi9hc3NldHMvc3R5bGVzL2dsb2JhbCI7CgouZGlhbG9nLWxpc3Qtd3JhcHBlciB7CiAgICB3aWR0aDogMTAwJTsKICAgIHBhZGRpbmc6IDAgcHgycmVtKDIwKTsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBmb250LXNpemU6IHB4MnJlbSgxNCk7CiAgICBAaW5jbHVkZSBzY3JvbGw7CgogICAgLmRpYWxvZy1saXN0LWl0ZW0gewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgcGFkZGluZzogcHgycmVtKDE1KSAwOwogICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgY29sb3I6ICM2NjY7CgogICAgICAgICYuaXMtYWRkIHsKICAgICAgICAgICAgY29sb3I6ICRjb2xvci1ibHVlOwoKICAgICAgICAgICAgJjphY3RpdmUgewogICAgICAgICAgICAgICAgY29sb3I6ICRjb2xvci1ibHVlLXRyYW5zcGFyZW50OwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAmOmFjdGl2ZSB7CiAgICAgICAgICAgIGNvbG9yOiByZ2JhKDEwMiwgMTAyLCAxMDIsIC41KQogICAgICAgIH0KCiAgICAgICAgLmRpYWxvZy1saXN0LWl0ZW0tdGV4dCB7CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgfQoKICAgICAgICAuZGlhbG9nLWxpc3QtaWNvbi13cmFwcGVyIHsKICAgICAgICAgICAgZmxleDogMCAwIHB4MnJlbSgzMCk7CiAgICAgICAgICAgIGNvbG9yOiAkY29sb3ItYmx1ZTsKICAgICAgICAgICAgQGluY2x1ZGUgcmlnaHQ7CiAgICAgICAgfQogICAgfQp9CgouZGlhbG9nLW5ldy1ncm91cC13cmFwcGVyIHsKICAgIHdpZHRoOiAxMDAlOwogICAgcGFkZGluZzogMCBweDJyZW0oMjApOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKCiAgICAuZGlhbG9nLWlucHV0LXRpdGxlLXdyYXBwZXIgewogICAgICAgIGZvbnQtc2l6ZTogcHgycmVtKDEwKTsKICAgICAgICBtYXJnaW4tdG9wOiBweDJyZW0oMjApOwogICAgfQoKICAgIC5kaWFsb2ctaW5wdXQtd3JhcHBlciB7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgcGFkZGluZzogMCAwIHB4MnJlbSgzMCkgMDsKICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwoKICAgICAgICAuZGlhbG9nLWlucHV0LWlubmVyLXdyYXBwZXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgcGFkZGluZzogcHgycmVtKDEwKSAwOwogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiBweDJyZW0oMSkgc29saWQgI2VlZTsKICAgICAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTQpOwogICAgICAgICAgICBjb2xvcjogIzY2NjsKCiAgICAgICAgICAgIC5kaWFsb2ctaW5wdXQgewogICAgICAgICAgICAgICAgZmxleDogMTsKICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKCiAgICAgICAgICAgICAgICAmOmZvY3VzIHsKICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAuZGlhbG9nLWlucHV0LWNsZWFyLXdyYXBwZXIgewogICAgICAgICAgICAgICAgZmxleDogMCAwIHB4MnJlbSgzMCk7CiAgICAgICAgICAgICAgICBjb2xvcjogI2NjYzsKICAgICAgICAgICAgICAgIEBpbmNsdWRlIGNlbnRlcjsKCiAgICAgICAgICAgICAgICAmOmFjdGl2ZSB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM5OTk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCi5ncm91cC1kaWFsb2ctYnRuLXdyYXBwZXIgewogICAgd2lkdGg6IDEwMCU7CiAgICBAaW5jbHVkZSBjZW50ZXI7Cn0KCi5kaWFsb2ctYnRuIHsKICAgIGZsZXg6IDE7CgogICAgJi5pcy1lbXB0eSB7CiAgICAgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjUpOwogICAgfQoKICAgICY6YWN0aXZlIHsKICAgICAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAuNSkKICAgIH0KfQo="},{"version":3,"sources":["ShelfGroupDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ShelfGroupDialog.vue","sourceRoot":"src/components/shelf","sourcesContent":["<template>\n    <ebook-dialog :title=\"title\" ref=\"dialog\">\n        <div class=\"dialog-list-wrapper\" v-if=\"!ifNewGroup\">\n            <div class=\"dialog-list-item\"\n                 :class=\"{'is-add': item.edit  ? item.edit === 1 : false}\"\n                 v-for=\"(item, index) in categoryList\"\n                 :key=\"index\"\n                 @click=\"onGroupClick(item)\"\n                 v-show=\"(item.edit === 2 && isInGroup) || item.edit !== 2 || !item.edit\">\n                <div class=\"dialog-list-item-text\">{{item.title}}</div>\n                <div class=\"dialog-list-icon-wrapper\" v-if=\"category && item.id ? category.id === item.id : false\">\n                    <span class=\"icon-check\"></span>\n                </div>\n            </div>\n        </div>\n        <div class=\"dialog-new-group-wrapper\" v-else>\n            <div class=\"dialog-input-title-wrapper\">\n                <span class=\"dialog-input-title\">{{$t('shelf.groupName')}}</span>\n            </div>\n            <div class=\"dialog-input-wrapper\">\n                <div class=\"dialog-input-inner-wrapper\">\n                    <input type=\"text\" class=\"dialog-input\" v-model=\"newGroupName\" ref=\"dialogInput\">\n                    <div class=\"dialog-input-clear-wrapper\" @click=\"clear\" v-show=\"newGroupName.length > 0\">\n                        <span class=\"icon-close-circle-fill\"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div slot=\"btn\" class=\"group-dialog-btn-wrapper\">\n            <div class=\"dialog-btn\" @click=\"hide\">{{$t('shelf.cancel')}}</div>\n            <div class=\"dialog-btn\" @click=\"createNewGroup\" :class=\"{'is-empty': newGroupName.length === 0}\"\n                 v-if=\"ifNewGroup\">{{$t('shelf.confirm')}}\n            </div>\n        </div>\n    </ebook-dialog>\n</template>\n\n<script>\n    import EbookDialog from '../common/Dialog'\n    import { storeShelfMixin } from '../../utils/mixin'\n    import { removeAddFromShelf, appendAddToShelf } from '../../utils/store'\n    import { saveBookShelf } from '../../utils/localstorage'\n\n    export default {\n        name: 'group-dialog',\n        mixins: [storeShelfMixin],\n        components: {\n            EbookDialog\n        },\n        props: {\n            isInGroup: {\n                type: Boolean,\n                default: false\n            }\n        },\n        computed: {\n            defaultCategory() {\n                return [\n                    {\n                        title: this.$t('shelf.newGroup'),\n                        edit: 1\n                    },\n                    {\n                        title: this.$t('shelf.groupOut'),\n                        edit: 2\n                    }\n                ]\n            },\n            category() {\n                return this.shelfList.filter(item => item.type === 2)\n            },\n            categoryList() {\n                return [...this.defaultCategory, ...this.category]\n            },\n            title() {\n                return !this.ifNewGroup ? this.$t('shelf.moveBook') : this.$t('shelf.newGroup')\n            }\n        },\n        data() {\n            return {\n                ifNewGroup: false,\n                newGroupName: ''\n            }\n        },\n        methods: {\n            show() {\n                this.$refs.dialog.show()\n            },\n            hide() {\n                this.$refs.dialog.hide()\n                this.ifNewGroup = false\n            },\n            onGroupClick(item) {\n                if (item.edit && item.edit === 1) {\n                    this.ifNewGroup = true\n                } else if (item.edit && item.edit === 2) {\n                    this.moveOutFromGroup(item)\n                } else {\n                    this.moveToGroup(item)\n                }\n            },\n            clear() {\n                this.newGroupName = ''\n            },\n            moveToGroup(group) {\n                this.setShelfList(this.shelfList\n                .filter(book => this.shelfSelected.indexOf(book) < 0))\n                .then(() => {\n                    if (group && group.itemList) {\n                        group.itemList = [...group.itemList, ...this.shelfSelected]\n                    }\n                    group.itemList.forEach((item, index) => {\n                        item.id = index + 1\n                    })\n                    this.simpleToast(this.$t('shelf.moveBookInSuccess').replace('$1', group.title))\n                    this.onComplete()\n                })\n            },\n            moveOutFromGroup(item) {\n            },\n            createNewGroup() {\n                if (!this.newGroupName && this.newGroupName.length === 0) {\n                    return\n                }\n                const group = {\n                    id: this.shelfList[this.shelfList.length - 2].id + 1,\n                    itemList: [],\n                    selected: false,\n                    title: this.newGroupName,\n                    type: 2\n                }\n                const list = removeAddFromShelf(this.shelfList)\n                list.push(group)\n                this.setShelfList(appendAddToShelf(list))\n                this.onComplete()\n            },\n            onComplete() {\n                saveBookShelf(this.shelfList)\n                this.hide()\n                this.setIsEditMode(false)\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n    @import \"../../assets/styles/global\";\n\n    .dialog-list-wrapper {\n        width: 100%;\n        padding: 0 px2rem(20);\n        box-sizing: border-box;\n        font-size: px2rem(14);\n        @include scroll;\n\n        .dialog-list-item {\n            display: flex;\n            padding: px2rem(15) 0;\n            box-sizing: border-box;\n            color: #666;\n\n            &.is-add {\n                color: $color-blue;\n\n                &:active {\n                    color: $color-blue-transparent;\n                }\n            }\n\n            &:active {\n                color: rgba(102, 102, 102, .5)\n            }\n\n            .dialog-list-item-text {\n                flex: 1;\n            }\n\n            .dialog-list-icon-wrapper {\n                flex: 0 0 px2rem(30);\n                color: $color-blue;\n                @include right;\n            }\n        }\n    }\n\n    .dialog-new-group-wrapper {\n        width: 100%;\n        padding: 0 px2rem(20);\n        box-sizing: border-box;\n\n        .dialog-input-title-wrapper {\n            font-size: px2rem(10);\n            margin-top: px2rem(20);\n        }\n\n        .dialog-input-wrapper {\n            width: 100%;\n            padding: 0 0 px2rem(30) 0;\n            box-sizing: border-box;\n\n            .dialog-input-inner-wrapper {\n                display: flex;\n                width: 100%;\n                padding: px2rem(10) 0;\n                box-sizing: border-box;\n                border-bottom: px2rem(1) solid #eee;\n                font-size: px2rem(14);\n                color: #666;\n\n                .dialog-input {\n                    flex: 1;\n                    border: none;\n\n                    &:focus {\n                        outline: none;\n                    }\n                }\n\n                .dialog-input-clear-wrapper {\n                    flex: 0 0 px2rem(30);\n                    color: #ccc;\n                    @include center;\n\n                    &:active {\n                        color: #999;\n                    }\n                }\n            }\n        }\n    }\n\n    .group-dialog-btn-wrapper {\n        width: 100%;\n        @include center;\n    }\n\n    .dialog-btn {\n        flex: 1;\n\n        &.is-empty {\n            color: rgba(255, 255, 255, .5);\n        }\n\n        &:active {\n            color: rgba(255, 255, 255, .5)\n        }\n    }\n</style>\n"]}]}