{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/eslint-loader/index.js??ref--13-0!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/utils/mixin.js","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/utils/mixin.js","mtime":1584208293896},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9rc2Npc3NvcmZvb3Rkb2N0b3IvRGVza3RvcC9Cb29rX1dlYl9BcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IFRoZW1lTGlzdCBhcyBfVGhlbWVMaXN0LCBhZGRDc3MsIHJlbW92ZUFsbENzcywgZ2V0UmVhZFRpbWVCeU1pbnV0ZSB9IGZyb20gJy4vYm9vay5qcyc7CmltcG9ydCB7IHNhdmVMb2NhdGlvbiB9IGZyb20gJy4vbG9jYWxzdG9yYWdlLmpzJzsKZXhwb3J0IHZhciBlYm9va01pbnggPSB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJmaWxlTmFtZSIsICJtZW51VmlzaWJsZSIsICJzZXR0aW5nVmlzaWJsZSIsICJkZWZ1bHRGb250U2l6ZSIsICJjdXJyZW50Qm9vayIsICJkZWZhdWx0Rm9udFNpemUiLCAiZGVmYXVsdEZvbnRGYW1pbHkiLCAiZm9udEZhbWlseVZpc2libGUiLCAiZGVmYXVsdFRoZW1lIiwgImJvb2tBdmFpbGFibGUiLCAicHJvZ3Jlc3MiLCAic2VjdGlvbiIsICJpc1BhZ2luYXRpbmciLCAibmF2aWdhdGlvbiIsICJjb3ZlciIsICJtZXRhZGF0YSIsICJwYWdpbmF0ZSIsICJwYWdlbGlzdCIsICJvZmZzZXRZIiwgImlzQm9va21hcmsiXSksIHsKICAgIFRoZW1lTGlzdDogZnVuY3Rpb24gVGhlbWVMaXN0KCkgewogICAgICByZXR1cm4gX1RoZW1lTGlzdCh0aGlzKTsKICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsic2V0Rm9udEZhbWlseVZpc2libGUiLCAic2V0RGVmYXVsdEZvbnRGYW1pbHkiLCAic2V0RGVmYXVsdEZvbnRTaXplIiwgInNldFNldHRpbmdWaXNpYmxlIiwgInNldE1lbnVWaXNpYmxlIiwgInNldEZpbGVOYW1lIiwgInNldERlZmF1bHRUaGVtZSIsICJzZXRCb29rQXZhaWxhYmxlIiwgInNldFByb2dyZXNzIiwgInNldFNlY3Rpb24iLCAic2V0SXNQYWdpbmF0aW5nIiwgInNldEN1cnJlbnRCb29rIiwgInNldE5hdmlnYXRpb24iLCAic2V0Q292ZXIiLCAic2V0TWV0YWRhdGEiLCAic2V0UGFnaW5hdGUiLCAic2V0UGFnZWxpc3QiLCAic2V0SXNCb29rbWFyayIsICJzZXRPZmZzZXRZIl0pLCB7CiAgICBpbml0R2xvYmxlU3R5bGU6IGZ1bmN0aW9uIGluaXRHbG9ibGVTdHlsZSgpIHsKICAgICAgcmVtb3ZlQWxsQ3NzKCk7CgogICAgICBzd2l0Y2ggKHRoaXMuZGVmYXVsdFRoZW1lKSB7CiAgICAgICAgY2FzZSAiRGVmYXVsdCI6CiAgICAgICAgICBhZGRDc3MoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfUkVTX1VSTCwgIi90aGVtZS90aGVtZV9kZWZhdWx0LmNzcyIpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJFeWUiOgogICAgICAgICAgYWRkQ3NzKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvdGhlbWUvdGhlbWVfZXllLmNzcyIpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJHb2xkIjoKICAgICAgICAgIGFkZENzcygiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL3RoZW1lL3RoZW1lX2dvbGQuY3NzIikpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIk5pZ2h0IjoKICAgICAgICAgIGFkZENzcygiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL3RoZW1lL3RoZW1lX25pZ2h0LmNzcyIpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYWRkQ3NzKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvdGhlbWUvdGhlbWVfZGVmYXVsdC5jc3MiKSk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIHJlZnJlc2hMb2NhdGlvbjogZnVuY3Rpb24gcmVmcmVzaExvY2F0aW9uKCkgewogICAgICB2YXIgY3VycmVudExvY2F0aW9uID0gdGhpcy5jdXJyZW50Qm9vay5yZW5kaXRpb24uY3VycmVudExvY2F0aW9uKCk7CiAgICAgIHZhciBzdGFydENmaSA9IGN1cnJlbnRMb2NhdGlvbi5zdGFydC5jZmk7CiAgICAgIHZhciBwcm9ncmVzcyA9IHRoaXMuY3VycmVudEJvb2subG9jYXRpb25zLnBlcmNlbnRhZ2VGcm9tQ2ZpKGN1cnJlbnRMb2NhdGlvbi5zdGFydC5jZmkpOwogICAgICB0aGlzLnNldFByb2dyZXNzKE1hdGguZmxvb3IocHJvZ3Jlc3MgKiAxMDApKTsKICAgICAgc2F2ZUxvY2F0aW9uKHRoaXMuZmlsZU5hbWUsIHN0YXJ0Q2ZpKTsKICAgIH0sCiAgICBkaXNwbGF5OiBmdW5jdGlvbiBkaXNwbGF5KHRhcmdldCwgY2IpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0YXJnZXQpIHsKICAgICAgICB0aGlzLmN1cnJlbnRCb29rLnJlbmRpdGlvbi5kaXNwbGF5KHRhcmdldCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5yZWZyZXNoTG9jYXRpb24oKTsKCiAgICAgICAgICBpZiAoY2IpIGNiKCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJyZW50Qm9vay5yZW5kaXRpb24uZGlzcGxheSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMucmVmcmVzaExvY2F0aW9uKCk7CgogICAgICAgICAgaWYgKGNiKSBjYigpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaGlkZVRpdGxlQW5kTWVudTogZnVuY3Rpb24gaGlkZVRpdGxlQW5kTWVudSgpIHsKICAgICAgdGhpcy5zZXRNZW51VmlzaWJsZShmYWxzZSk7CiAgICAgIHRoaXMuc2V0Rm9udEZhbWlseVZpc2libGUoZmFsc2UpOwogICAgICB0aGlzLnNldFNldHRpbmdWaXNpYmxlKC0xKTsKICAgIH0sCiAgICBnZXRSZWFkVGltZVRleHQ6IGZ1bmN0aW9uIGdldFJlYWRUaW1lVGV4dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHQoImJvb2suaGF2ZVJlYWQiKS5yZXBsYWNlKCIkMSIsIGdldFJlYWRUaW1lQnlNaW51dGUodGhpcy5maWxlTmFtZSkpOwogICAgfQogIH0pCn07"},{"version":3,"sources":["/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/utils/mixin.js"],"names":["mapGetters","mapActions","ThemeList","addCss","removeAllCss","getReadTimeByMinute","saveLocation","ebookMinx","computed","methods","initGlobleStyle","defaultTheme","process","env","VUE_APP_RES_URL","refreshLocation","currentLocation","currentBook","rendition","startCfi","start","cfi","progress","locations","percentageFromCfi","setProgress","Math","floor","fileName","display","target","cb","then","hideTitleAndMenu","setMenuVisible","setFontFamilyVisible","setSettingVisible","getReadTimeText","$t","replace"],"mappings":"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","sourcesContent":["import {\n  mapGetters,\n  mapActions\n} from \"vuex\"\nimport {\n  ThemeList,\n  addCss,\n  removeAllCss,\n  getReadTimeByMinute\n} from './book.js';\nimport {\n  saveLocation\n} from './localstorage.js'\nexport const ebookMinx = {\n  computed: {\n    ...mapGetters([\n      \"fileName\",\n      \"menuVisible\",\n      \"settingVisible\",\n      \"defultFontSize\",\n      \"currentBook\",\n      \"defaultFontSize\",\n      \"defaultFontFamily\",\n      \"fontFamilyVisible\",\n      \"defaultTheme\",\n      \"bookAvailable\",\n      \"progress\",\n      \"section\",\n      \"isPaginating\",\n      \"navigation\",\n      \"cover\",\n      \"metadata\",\n      \"paginate\",\n      \"pagelist\",\n      \"offsetY\",\n      \"isBookmark\"\n    ]),\n    ThemeList() {\n      return ThemeList(this);\n    }\n  },\n  methods: {\n    ...mapActions([\n      \"setFontFamilyVisible\",\n      \"setDefaultFontFamily\",\n      \"setDefaultFontSize\",\n      \"setSettingVisible\",\n      \"setMenuVisible\",\n      \"setFileName\",\n      \"setDefaultTheme\",\n      \"setBookAvailable\",\n      \"setProgress\",\n      \"setSection\",\n      \"setIsPaginating\",\n      \"setCurrentBook\",\n      \"setNavigation\",\n      \"setCover\",\n      \"setMetadata\",\n      \"setPaginate\",\n      \"setPagelist\",\n      \"setIsBookmark\",\n      \"setOffsetY\"\n    ]),\n    initGlobleStyle() {\n      removeAllCss()\n      switch (this.defaultTheme) {\n        case \"Default\":\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_default.css`);\n          break;\n        case \"Eye\":\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_eye.css`);\n          break;\n        case \"Gold\":\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_gold.css`);\n          break;\n        case \"Night\":\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_night.css`);\n          break;\n        default:\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_default.css`);\n          break;\n      }\n    },\n    refreshLocation() {\n      const currentLocation = this.currentBook.rendition.currentLocation();\n      const startCfi = currentLocation.start.cfi;\n      const progress = this.currentBook.locations.percentageFromCfi(\n        currentLocation.start.cfi\n      );\n      this.setProgress(Math.floor(progress * 100));\n      saveLocation(this.fileName, startCfi);\n    },\n    display(target, cb) {\n      if (target) {\n        this.currentBook.rendition.display(target).then(() => {\n          this.refreshLocation()\n          if (cb) cb()\n        })\n      } else {\n        this.currentBook.rendition.display().then(() => {\n          this.refreshLocation()\n          if (cb) cb()\n        })\n      }\n    },\n    hideTitleAndMenu() {\n      this.setMenuVisible(false);\n      this.setFontFamilyVisible(false);\n      this.setSettingVisible(-1);\n    },\n    getReadTimeText() {\n      return this.$t(\"book.haveRead\")\n      .replace(\n        \"$1\",\n         getReadTimeByMinute(this.fileName)\n      );\n    }\n  }\n}\n"]}]}