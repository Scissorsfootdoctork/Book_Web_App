{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/ebook/EbookReder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/ebook/EbookReder.vue","mtime":1586538129002},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZWJvb2tNaW54IH0gZnJvbSAiLi4vLi4vdXRpbHMvbWl4aW4iOwppbXBvcnQgeyBnZXRGb250RmFtaWx5LCBzYXZlRm9udEZhbWlseSwgZ2V0Rm9udFNpemUsIHNhdmVGb250U2l6ZSwgZ2V0VGhlbWUsIHNhdmVUaGVtZSwgZ2V0TG9jYXRpb24gfSBmcm9tICIuLi8uLi91dGlscy9sb2NhbHN0b3JhZ2UuanMiOwppbXBvcnQgRXB1YiBmcm9tICJlcHVianMiOwpnbG9iYWwuZXB1YiA9IEVwdWI7CmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFtlYm9va01pbnhdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3VjaFN0YXJ0OiAiIiwKICAgICAgdG91Y2hUaW1lOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG1vdmU6IGZ1bmN0aW9uIG1vdmUoZSkgewogICAgICB2YXIgb2ZmU2V0WSA9IDA7CgogICAgICBpZiAodGhpcy5maXJzdE9mZnNldFkpIHsKICAgICAgICBvZmZTZXRZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gdGhpcy5maXJzdE9mZnNldFk7CiAgICAgICAgdGhpcy5zZXRPZmZzZXRZKG9mZlNldFkpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlyc3RPZmZzZXRZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZOwogICAgICB9CgogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9LAogICAgbW92ZUVuZDogZnVuY3Rpb24gbW92ZUVuZChlKSB7CiAgICAgIHRoaXMuc2V0T2Zmc2V0WSgwKTsKICAgICAgdGhpcy5maXJzdE9mZnNldFkgPSBudWxsOwogICAgfSwKICAgIG9uTWFza0NsaWNrOiBmdW5jdGlvbiBvbk1hc2tDbGljayhlKSB7CiAgICAgIHZhciBvZmZTZXRYID0gZS5vZmZzZXRYOwogICAgICB2YXIgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKCiAgICAgIGlmIChvZmZTZXRYID4gMCAmJiBvZmZTZXRYIDwgd2lkdGggKiAwLjMpIHsKICAgICAgICB0aGlzLnByZXZQYWdlKCk7CiAgICAgIH0gZWxzZSBpZiAob2ZmU2V0WCA+IDAgJiYgb2ZmU2V0WCA+IHdpZHRoICogMC43KSB7CiAgICAgICAgdGhpcy5uZXh0UGFnZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd1RpdGxlQW5kTWVudSgpOwogICAgICB9CiAgICB9LAogICAgcHJldlBhZ2U6IGZ1bmN0aW9uIHByZXZQYWdlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMucmVuZGl0aW9uKSB7CiAgICAgICAgdGhpcy5yZW5kaXRpb24ucHJldigpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMucmVmcmVzaExvY2F0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5oaWRlVGl0bGVBbmRNZW51KCk7CiAgICAgIH0KICAgIH0sCiAgICBuZXh0UGFnZTogZnVuY3Rpb24gbmV4dFBhZ2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMucmVuZGl0aW9uKSB7CiAgICAgICAgdGhpcy5yZW5kaXRpb24ubmV4dCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLnJlZnJlc2hMb2NhdGlvbigpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuaGlkZVRpdGxlQW5kTWVudSgpOwogICAgICB9CiAgICB9LAogICAgc2hvd1RpdGxlQW5kTWVudTogZnVuY3Rpb24gc2hvd1RpdGxlQW5kTWVudSgpIHsKICAgICAgaWYgKHRoaXMubWVudVZpc2libGUpIHsKICAgICAgICB0aGlzLnNldFNldHRpbmdWaXNpYmxlKC0xKTsKICAgICAgICB0aGlzLnNldEZvbnRGYW1pbHlWaXNpYmxlKGZhbHNlKTsKICAgICAgfQoKICAgICAgdGhpcy5zZXRNZW51VmlzaWJsZSghdGhpcy5tZW51VmlzaWJsZSk7CiAgICB9LAogICAgaW5pdEZvbnRTaXplOiBmdW5jdGlvbiBpbml0Rm9udFNpemUoKSB7CiAgICAgIHZhciBmb250U2l6ZSA9IGdldEZvbnRTaXplKHRoaXMuZmlsZU5hbWUpOwoKICAgICAgaWYgKCFmb250U2l6ZSkgewogICAgICAgIHNhdmVGb250U2l6ZSh0aGlzLmZpbGVOYW1lLCB0aGlzLmRlZnVsdEZvbnRTaXplKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmN1cnJlbnRCb29rLnJlbmRpdGlvbi50aGVtZXMuZm9udFNpemUoZm9udFNpemUpOwogICAgICAgIHRoaXMuc2V0RGVmYXVsdEZvbnRTaXplKGZvbnRTaXplKTsKICAgICAgfQogICAgfSwKICAgIGluaXRGb250RmFtaWx5OiBmdW5jdGlvbiBpbml0Rm9udEZhbWlseSgpIHsKICAgICAgdmFyIGZvbnQgPSBnZXRGb250RmFtaWx5KHRoaXMuZmlsZU5hbWUpOwoKICAgICAgaWYgKCFmb250KSB7CiAgICAgICAgc2F2ZUZvbnRGYW1pbHkodGhpcy5maWxlTmFtZSwgdGhpcy5kZWZhdWx0Rm9udEZhbWlseSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJyZW50Qm9vay5yZW5kaXRpb24udGhlbWVzLmZvbnQoZm9udCk7CiAgICAgICAgdGhpcy5zZXREZWZhdWx0Rm9udEZhbWlseShmb250KTsKICAgICAgfQogICAgfSwKICAgIGluaXRUaGVtZTogZnVuY3Rpb24gaW5pdFRoZW1lKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBkZWZhdWx0VGhlbWUgPSBnZXRUaGVtZSh0aGlzLmZpbGVOYW1lKTsKCiAgICAgIGlmICghZGVmYXVsdFRoZW1lKSB7CiAgICAgICAgZGVmYXVsdFRoZW1lID0gdGhpcy5UaGVtZUxpc3RbMF0ubmFtZTsKICAgICAgICBzYXZlVGhlbWUodGhpcy5maWxlTmFtZSwgZGVmYXVsdFRoZW1lKTsKICAgICAgfQoKICAgICAgdGhpcy5zZXREZWZhdWx0VGhlbWUoZGVmYXVsdFRoZW1lKTsKICAgICAgdGhpcy5UaGVtZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIF90aGlzMy5yZW5kaXRpb24udGhlbWVzLnJlZ2lzdGVyKGVsZW1lbnQubmFtZSwgZWxlbWVudC5zdHlsZSk7CiAgICAgIH0pOwogICAgICB0aGlzLnJlbmRpdGlvbi50aGVtZXMuc2VsZWN0KGRlZmF1bHRUaGVtZSk7CiAgICB9LAogICAgaW5pdFJlbmRpdGlvbjogZnVuY3Rpb24gaW5pdFJlbmRpdGlvbigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLnJlbmRpdGlvbiA9IHRoaXMuYm9vay5yZW5kZXJUbygicmVhZCIsIHsKICAgICAgICB3aWR0aDogaW5uZXJXaWR0aCwKICAgICAgICBoZWlnaHQ6IGlubmVySGVpZ2h0LAogICAgICAgIG1ldGhvZDogImRlZmF1bHQiCiAgICAgIH0pOwogICAgICB0aGlzLnJlbmRpdGlvbi5kaXNwbGF5KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGxvY2FsdGlvbiA9IGdldExvY2F0aW9uKF90aGlzNC5maWxlTmFtZSk7CgogICAgICAgIF90aGlzNC5kaXNwbGF5KGxvY2FsdGlvbiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM0LmluaXRUaGVtZSgpOwoKICAgICAgICAgIF90aGlzNC5pbml0Rm9udFNpemUoKTsKCiAgICAgICAgICBfdGhpczQuaW5pdEZvbnRGYW1pbHkoKTsKCiAgICAgICAgICBfdGhpczQuaW5pdEdsb2JsZVN0eWxlKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLnJlbmRpdGlvbi5ob29rcy5jb250ZW50LnJlZ2lzdGVyKGZ1bmN0aW9uIChjb250ZW50cykgewogICAgICAgIFByb21pc2UuYWxsKFtjb250ZW50cy5hZGRTdHlsZXNoZWV0KCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvZm9udHMvZGF5c09uZS5jc3MiKSksIGNvbnRlbnRzLmFkZFN0eWxlc2hlZXQoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfUkVTX1VSTCwgIi9mb250cy9jYWJpbi5jc3MiKSksIGNvbnRlbnRzLmFkZFN0eWxlc2hlZXQoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfUkVTX1VSTCwgIi9mb250cy9tb250c2VycmF0LmNzcyIpKSwgY29udGVudHMuYWRkU3R5bGVzaGVldCgiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL2ZvbnRzL3RhbmdlcmluZS5jc3MiKSldKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLlrZfkvZPlhajpg6jliqDovb3lrozmr5UuLi4iKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdEdlc3R1cmU6IGZ1bmN0aW9uIGluaXRHZXN0dXJlKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMucmVuZGl0aW9uLm9uKCJ0b3VjaHN0YXJ0IiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczUudG91Y2hTdGFydCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WDsKICAgICAgICBfdGhpczUudG91Y2hUaW1lID0gZS50aW1lU3RhbXA7CiAgICAgIH0pOwogICAgICB0aGlzLnJlbmRpdGlvbi5vbigidG91Y2hlbmQiLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciBvZmZzZXRYID0gX3RoaXM1LnRvdWNoU3RhcnQgLSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7CiAgICAgICAgdmFyIFRpbWUgPSBlLnRpbWVTdGFtcCAtIF90aGlzNS50b3VjaFRpbWU7CgogICAgICAgIGlmIChUaW1lIDwgNDAwICYmIG9mZnNldFggPiA0MCkgewogICAgICAgICAgX3RoaXM1Lm5leHRQYWdlKCk7CiAgICAgICAgfSBlbHNlIGlmIChUaW1lIDwgNDAwICYmIG9mZnNldFggPCAtNDApIHsKICAgICAgICAgIF90aGlzNS5wcmV2UGFnZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczUuc2hvd1RpdGxlQW5kTWVudSgpOwogICAgICAgIH0KCiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIH0pOwogICAgfSwKICAgIHBhcnNlQm9vazogZnVuY3Rpb24gcGFyc2VCb29rKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMuYm9vay5sb2FkZWQuY292ZXIudGhlbihmdW5jdGlvbiAoY292ZXIpIHsKICAgICAgICBfdGhpczYuYm9vay5hcmNoaXZlLmNyZWF0ZVVybChjb3ZlcikudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICBfdGhpczYuc2V0Q292ZXIodXJsKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuYm9vay5sb2FkZWQubWV0YWRhdGEudGhlbihmdW5jdGlvbiAobWV0YWRhdGEpIHsKICAgICAgICBfdGhpczYuc2V0TWV0YWRhdGEobWV0YWRhdGEpOwogICAgICB9KTsKICAgICAgdGhpcy5ib29rLmxvYWRlZC5uYXZpZ2F0aW9uLnRoZW4oZnVuY3Rpb24gKG5hdmlnKSB7CiAgICAgICAgdmFyIG5hdkl0ZW0gPSBuYXZpZy50b2M7CgogICAgICAgIF90aGlzNi5zZXROYXZpZ2F0aW9uKG5hdkl0ZW0pOwogICAgICB9KTsKICAgIH0sCiAgICBpbml0RXB1YjogZnVuY3Rpb24gaW5pdEVwdWIoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIFVybCA9ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvZXB1Yi8iKSArIHRoaXMuZmlsZU5hbWUgKyAiLmVwdWIiOwogICAgICB0aGlzLmJvb2sgPSBuZXcgRXB1YihVcmwpOwogICAgICB0aGlzLnNldEN1cnJlbnRCb29rKHRoaXMuYm9vayk7CiAgICAgIHRoaXMuaW5pdFJlbmRpdGlvbigpOwogICAgICB0aGlzLmluaXRHZXN0dXJlKCk7CiAgICAgIHRoaXMucGFyc2VCb29rKCk7CiAgICAgIHRoaXMuYm9vay5yZWFkeS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXM3LmJvb2subG9jYXRpb25zLmdlbmVyYXRlKDc1MCAqICh3aW5kb3cuaW5uZXJXaWR0aCAvIDM3NSkgKiAoZ2V0Rm9udFNpemUoX3RoaXM3LmZpbGVOYW1lKSAvIDE2KSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGxvY2F0aW9ucykgewogICAgICAgIF90aGlzNy5zZXRCb29rQXZhaWxhYmxlKHRydWUpOwoKICAgICAgICBfdGhpczcucmVmcmVzaExvY2F0aW9uKCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgIHRoaXMuc2V0RmlsZU5hbWUodGhpcy4kcm91dGUucGFyYW1zLmZpbGVOYW1lLnNwbGl0KCJ8Iikuam9pbigiLyIpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXM4LmluaXRFcHViKCk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["EbookReder.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"Ebook-Reder\">\n    <div id=\"read\"></div>\n    <div class=\"ebook-reader-mask\" @click=\"onMaskClick\" @touchmove=\"move\" @touchend=\"moveEnd\"></div>\n  </div>\n</template>\n\n<script>\nimport { ebookMinx } from \"../../utils/mixin\";\nimport {\n  getFontFamily,\n  saveFontFamily,\n  getFontSize,\n  saveFontSize,\n  getTheme,\n  saveTheme,\n  getLocation\n} from \"../../utils/localstorage.js\";\nimport Epub from \"epubjs\";\nglobal.epub = Epub;\nexport default {\n  mixins: [ebookMinx],\n  data() {\n    return {\n      touchStart: \"\",\n      touchTime: \"\"\n    };\n  },\n  methods: {\n    move(e) {\n      let offSetY = 0;\n      if (this.firstOffsetY) {\n        offSetY = e.changedTouches[0].clientY - this.firstOffsetY;\n        this.setOffsetY(offSetY);\n      } else {\n        this.firstOffsetY = e.changedTouches[0].clientY;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    moveEnd(e) {\n      this.setOffsetY(0);\n      this.firstOffsetY = null;\n    },\n    onMaskClick(e) {\n      const offSetX = e.offsetX;\n      const width = window.innerWidth;\n      if (offSetX > 0 && offSetX < width * 0.3) {\n        this.prevPage();\n      } else if (offSetX > 0 && offSetX > width * 0.7) {\n        this.nextPage();\n      } else {\n        this.showTitleAndMenu();\n      }\n    },\n    prevPage() {\n      if (this.rendition) {\n        this.rendition.prev().then(() => {\n          this.refreshLocation();\n        });\n        this.hideTitleAndMenu();\n      }\n    },\n    nextPage() {\n      if (this.rendition) {\n        this.rendition.next().then(() => {\n          this.refreshLocation();\n        });\n        this.hideTitleAndMenu();\n      }\n    },\n    showTitleAndMenu() {\n      if (this.menuVisible) {\n        this.setSettingVisible(-1);\n        this.setFontFamilyVisible(false);\n      }\n      this.setMenuVisible(!this.menuVisible);\n    },\n    initFontSize() {\n      const fontSize = getFontSize(this.fileName);\n      if (!fontSize) {\n        saveFontSize(this.fileName, this.defultFontSize);\n      } else {\n        this.currentBook.rendition.themes.fontSize(fontSize);\n        this.setDefaultFontSize(fontSize);\n      }\n    },\n    initFontFamily() {\n      const font = getFontFamily(this.fileName);\n      if (!font) {\n        saveFontFamily(this.fileName, this.defaultFontFamily);\n      } else {\n        this.currentBook.rendition.themes.font(font);\n        this.setDefaultFontFamily(font);\n      }\n    },\n    initTheme() {\n      let defaultTheme = getTheme(this.fileName);\n      if (!defaultTheme) {\n        defaultTheme = this.ThemeList[0].name;\n        saveTheme(this.fileName, defaultTheme);\n      }\n      this.setDefaultTheme(defaultTheme);\n      this.ThemeList.forEach(element => {\n        this.rendition.themes.register(element.name, element.style);\n      });\n      this.rendition.themes.select(defaultTheme);\n    },\n    initRendition() {\n      this.rendition = this.book.renderTo(\"read\", {\n        width: innerWidth,\n        height: innerHeight,\n        method: \"default\"\n      });\n\n      this.rendition.display().then(() => {\n        const localtion = getLocation(this.fileName);\n        this.display(localtion, () => {\n          this.initTheme();\n          this.initFontSize();\n          this.initFontFamily();\n          this.initGlobleStyle();\n        });\n      });\n      this.rendition.hooks.content.register(contents => {\n        Promise.all([\n          contents.addStylesheet(\n            `${process.env.VUE_APP_RES_URL}/fonts/daysOne.css`\n          ),\n          contents.addStylesheet(\n            `${process.env.VUE_APP_RES_URL}/fonts/cabin.css`\n          ),\n          contents.addStylesheet(\n            `${process.env.VUE_APP_RES_URL}/fonts/montserrat.css`\n          ),\n          contents.addStylesheet(\n            `${process.env.VUE_APP_RES_URL}/fonts/tangerine.css`\n          )\n        ]).then(() => {\n          console.log(\"字体全部加载完毕...\");\n        });\n      });\n    },\n    initGesture() {\n      this.rendition.on(\"touchstart\", e => {\n        this.touchStart = e.changedTouches[0].clientX;\n        this.touchTime = e.timeStamp;\n      });\n      this.rendition.on(\"touchend\", e => {\n        const offsetX = this.touchStart - e.changedTouches[0].clientX;\n        const Time = e.timeStamp - this.touchTime;\n        if (Time < 400 && offsetX > 40) {\n          this.nextPage();\n        } else if (Time < 400 && offsetX < -40) {\n          this.prevPage();\n        } else {\n          this.showTitleAndMenu();\n        }\n        e.preventDefault();\n        e.stopPropagation();\n      });\n    },\n    parseBook() {\n      this.book.loaded.cover.then(cover => {\n        this.book.archive.createUrl(cover).then(url => {\n          this.setCover(url);\n        });\n      });\n      this.book.loaded.metadata.then(metadata => {\n        this.setMetadata(metadata);\n      });\n      this.book.loaded.navigation.then(navig => {\n        const navItem = navig.toc;\n        this.setNavigation(navItem);\n      });\n    },\n    initEpub() {\n      const Url =\n        `${process.env.VUE_APP_RES_URL}/epub/` + this.fileName + \".epub\";\n      this.book = new Epub(Url);\n      this.setCurrentBook(this.book);\n      this.initRendition();\n      this.initGesture();\n      this.parseBook();\n      this.book.ready\n        .then(() => {\n          return this.book.locations.generate(\n            750 * (window.innerWidth / 375) * (getFontSize(this.fileName) / 16)\n          );\n        })\n        .then(locations => {\n          this.setBookAvailable(true);\n          this.refreshLocation();\n        });\n    }\n  },\n\n  mounted() {\n    this.setFileName(this.$route.params.fileName.split(\"|\").join(\"/\")).then(\n      () => {\n        this.initEpub();\n      }\n    );\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.Ebook-Reder {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  .ebook-reader-mask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    z-index: 150;\n    background: transparent;\n  }\n}\n</style>\n"],"sourceRoot":"src/components/ebook"}]}