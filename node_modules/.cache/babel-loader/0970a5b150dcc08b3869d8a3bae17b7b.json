{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/babel-loader/lib/index.js!/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/src/views/store/storeShelf.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/src/views/store/storeShelf.vue","mtime":1590117999145},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNoZWxmVGl0bGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zaGVsZi9zaGVsZlRpdGxlJzsKaW1wb3J0IHsgc3RvcmVTaGVsZk1peGluIH0gZnJvbSAnLi4vLi4vdXRpbHMvbWl4aW4nOwppbXBvcnQgU2Nyb2xsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29tbW9uL3Njcm9sbCc7CmltcG9ydCBTaGVsZlNlYXJjaCBmcm9tICcuLi8uLi9jb21wb25lbnRzL3NoZWxmL3NoZWxmU2VhcmNoJzsKaW1wb3J0IFNoZWxmTGlzdCBmcm9tICcuLi8uLi9jb21wb25lbnRzL3NoZWxmL3NoZWxmTGlzdCc7CmltcG9ydCB7IHNoZWxmIH0gZnJvbSAnLi4vLi4vYXBpL3N0b3JlJzsKaW1wb3J0IHsgYXBwZW5kQWRkVG9TaGVsZiB9IGZyb20gJy4uLy4uL3V0aWxzL3N0b3JlJzsKaW1wb3J0IFNoZWxmRm9vdGVyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc2hlbGYvc2hlbGZGb290ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbc3RvcmVTaGVsZk1peGluXSwKICBjb21wb25lbnRzOiB7CiAgICBTaGVsZkZvb3RlcjogU2hlbGZGb290ZXIsCiAgICBTaGVsZkxpc3Q6IFNoZWxmTGlzdCwKICAgIFNjcm9sbDogU2Nyb2xsLAogICAgU2hlbGZUaXRsZTogU2hlbGZUaXRsZSwKICAgIFNoZWxmU2VhcmNoOiBTaGVsZlNlYXJjaAogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOebkeWQrOe8lui+keaooeW8j++8jOe8lui+keaooeW8j+S4i+a7muWKqOadoei3neW6lemDqOmcgOimgeS6p+eUnzQ45YOP57Sg55qE6Led56a7CiAgICBpc0VkaXRNb2RlOiBmdW5jdGlvbiBpc0VkaXRNb2RlKF9pc0VkaXRNb2RlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnNjcm9sbEJvdHRvbSA9IF9pc0VkaXRNb2RlID8gNDggOiAwOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHJlZnMuc2Nyb2xsLnJlZnJlc2goKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2Nyb2xsQm90dG9tOiAwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0U2hlbGZMaXN0OiBmdW5jdGlvbiBnZXRTaGVsZkxpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgc2hlbGYoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuc2V0U2hlbGZMaXN0KGFwcGVuZEFkZFRvU2hlbGYocmVzLmRhdGEuYm9va0xpc3QpKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5rua5Yqo6aG16Z2i55qE55uR5ZCs5LqL5Lu277yMU2hlbGZUaXRsZeWSjFNoZWxmU2VhcmNo57uE5Lu25Lya6L+b6KGM55uR5ZCsCiAgICBvblNjcm9sbDogZnVuY3Rpb24gb25TY3JvbGwob2Zmc2V0WSkgewogICAgICB0aGlzLnNldE9mZnNldFkob2Zmc2V0WSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRTaGVsZkxpc3QoKTsgLy8g6I635Y+W5Lmm5p625YiX6KGo5pWw5o2uCiAgICAvLyB0aGlzLmdldFNoZWxmTGlzdCgpCiAgICAvLyAvLyDliJ3lp4vljJbkuabmnrbliIbnsbvmlbDmja4KICAgIC8vIHRoaXMuc2V0U2hlbGZDYXRlZ29yeShbXSkKICAgIC8vIC8vIOiuvue9rnZ1ZXjnmoRjdXJyZW50VHlwZeS4ujHvvIzooajnpLrlvZPliY3kvY3kuo7kuabmnrbvvIzlvbHlk41TaGVsZlRpdGxl54q25oCBCiAgICAvLyB0aGlzLnNldEN1cnJlbnRUeXBlKDEpCiAgfQp9Ow=="},{"version":3,"sources":["storeShelf.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAgBA,OAAA,UAAA,MAAA,mCAAA;AACA,SAAA,eAAA,QAAA,mBAAA;AACA,OAAA,MAAA,MAAA,gCAAA;AACA,OAAA,WAAA,MAAA,oCAAA;AACA,OAAA,SAAA,MAAA,kCAAA;AACA,SAAA,KAAA,QAAA,iBAAA;AACA,SAAA,gBAAA,QAAA,mBAAA;AACA,OAAA,WAAA,MAAA,oCAAA;AAEA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,eAAA,CADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA,WADA;AAEA,IAAA,SAAA,EAAA,SAFA;AAGA,IAAA,MAAA,EAAA,MAHA;AAIA,IAAA,UAAA,EAAA,UAJA;AAKA,IAAA,WAAA,EAAA;AALA,GAFA;AASA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,UAFA,sBAEA,WAFA,EAEA;AAAA;;AACA,WAAA,YAAA,GAAA,WAAA,GAAA,EAAA,GAAA,CAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAAA;AACA,OAFA;AAGA;AAPA,GATA;AAkBA,EAAA,IAlBA,kBAkBA;AACA,WAAA;AACA,MAAA,YAAA,EAAA;AADA,KAAA;AAGA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,MAAA,KAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,YAAA,CAAA,gBAAA,CAAA,GAAA,CAAA,IAAA,CAAA,QAAA,CAAA;AACA,OAFA;AAGA,KALA;AAMA;AACA,IAAA,QAPA,oBAOA,OAPA,EAOA;AACA,WAAA,UAAA,CAAA,OAAA;AACA;AATA,GAvBA;AAkCA,EAAA,OAlCA,qBAkCA;AACA,SAAA,YAAA,GADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AA1CA,CAAA","sourcesContent":["<template>\n    <div class=\"store-shelf\">\n        <shelf-title :title=\"$t('shelf.title')\"></shelf-title>\n        <scroll class=\"store-shelf-scroll-wrapper\"\n                :top=\"0\"\n                :bottom=\"scrollBottom\"\n                @onScroll=\"onScroll\"\n                ref=\"scroll\">\n            <shelf-search></shelf-search>\n            <shelf-list></shelf-list>\n        </scroll>\n        <shelf-footer></shelf-footer>\n    </div>\n</template>\n\n<script>\n    import ShelfTitle from '../../components/shelf/shelfTitle'\n    import { storeShelfMixin } from '../../utils/mixin'\n    import Scroll from '../../components/common/scroll'\n    import ShelfSearch from '../../components/shelf/shelfSearch'\n    import ShelfList from '../../components/shelf/shelfList'\n    import { shelf } from '../../api/store'\n    import { appendAddToShelf } from '../../utils/store'\n    import ShelfFooter from '../../components/shelf/shelfFooter'\n\n    export default {\n        mixins: [storeShelfMixin],\n        components: {\n            ShelfFooter,\n            ShelfList,\n            Scroll,\n            ShelfTitle,\n            ShelfSearch\n        },\n        watch: {\n            // 监听编辑模式，编辑模式下滚动条距底部需要产生48像素的距离\n            isEditMode(isEditMode) {\n                this.scrollBottom = isEditMode ? 48 : 0\n                this.$nextTick(() => {\n                    this.$refs.scroll.refresh()\n                })\n            }\n        },\n        data() {\n            return {\n                scrollBottom: 0\n            }\n        },\n        methods: {\n            getShelfList() {\n                shelf().then(res => {\n                    this.setShelfList(appendAddToShelf(res.data.bookList))\n                })\n            },\n            // 滚动页面的监听事件，ShelfTitle和ShelfSearch组件会进行监听\n            onScroll(offsetY) {\n                this.setOffsetY(offsetY)\n            }\n        },\n        mounted() {\n            this.getShelfList()\n            // 获取书架列表数据\n            // this.getShelfList()\n            // // 初始化书架分类数据\n            // this.setShelfCategory([])\n            // // 设置vuex的currentType为1，表示当前位于书架，影响ShelfTitle状态\n            // this.setCurrentType(1)\n        }\n    }\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n    @import \"../../assets/styles/global\";\n\n    .store-shelf {\n        position: relative;\n        z-index: 100;\n        width: 100%;\n        height: 100%;\n        background: white;\n\n        .store-shelf-scroll-wrapper {\n            position: absolute;\n            top: 0;\n            left: 0;\n            z-index: 101;\n        }\n    }\n</style>\n"],"sourceRoot":"src/views/store"}]}