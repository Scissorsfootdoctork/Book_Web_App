{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/eslint-loader/index.js??ref--13-0!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/api/book.js","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/api/book.js","mtime":1541580605000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import axios from 'axios';\nimport { setLocalForage } from '@/utils/localForage';\nimport { getCategoryName } from '@/utils/book';\nexport function home2() {\n  return axios({\n    method: 'get',\n    url: \"\".concat(process.env.VUE_APP_BOOK_URL, \"/book/home2\")\n  });\n}\nexport function detail(book) {\n  return axios({\n    method: 'get',\n    url: \"\".concat(process.env.VUE_APP_BOOK_URL, \"/book/detail\"),\n    params: {\n      fileName: book.fileName\n    }\n  });\n}\nexport function flatList() {\n  return axios({\n    method: 'get',\n    url: \"\".concat(process.env.VUE_APP_BOOK_URL, \"/book/flat-list\")\n  });\n}\nexport function list() {\n  return axios({\n    method: 'get',\n    url: \"\".concat(process.env.VUE_APP_BASE_URL, \"/book/list\")\n  });\n}\nexport function home() {\n  return axios({\n    method: 'get',\n    url: \"\".concat(process.env.VUE_APP_BASE_URL, \"/book/home\")\n  });\n}\nexport function shelf() {\n  return axios({\n    method: 'get',\n    url: \"\".concat(process.env.VUE_APP_BASE_URL, \"/book/shelf\")\n  });\n}\nexport function downloadMp3(url, cb, cb2) {\n  axios.create({\n    baseURL: url,\n    method: 'get',\n    responseType: 'blob',\n    timeout: 30 * 1000,\n    onDownloadProgress: function onDownloadProgress(progressEvent) {\n      console.log(progressEvent);\n    }\n  }).get().then(function (response) {\n    var blob = new Blob([response.data]);\n    if (cb) cb(blob);\n  }).catch(function (err) {\n    if (cb2) cb2(err);\n  });\n}\nexport function download(item, onSuccess, onFailed, onError, onProgress) {\n  axios.create({\n    baseURL: process.env.VUE_APP_EPUB_URL,\n    method: 'get',\n    responseType: 'blob',\n    timeout: 180 * 1000,\n    onDownloadProgress: function onDownloadProgress(progressEvent) {\n      if (onProgress) onProgress(progressEvent);\n    }\n  }).get(\"\".concat(getCategoryName(item.category), \"/\").concat(item.fileName, \".epub\")).then(function (res) {\n    var blob = new Blob([res.data]);\n    setLocalForage(item.fileName, blob, function () {\n      if (onSuccess) onSuccess(item);\n    }, function (err) {\n      if (onFailed) onFailed(err);\n    });\n  }).catch(function (err) {\n    if (onError) onError(err);\n  });\n}\nexport function downloadWithoutCache(item, cb, cb2, cb3) {\n  axios.create({\n    baseURL: process.env.VUE_APP_EPUB_URL,\n    method: 'get',\n    responseType: 'blob',\n    timeout: 30 * 1000,\n    onDownloadProgress: function onDownloadProgress(progressEvent) {\n      if (cb3) cb3(progressEvent);\n    }\n  }).get(\"\".concat(getCategoryName(item.category), \"/\").concat(item.fileName, \".epub\")).then(function (res) {\n    var blob = new Blob([res.data]);\n    if (cb) cb(blob);\n  }).catch(function (err) {\n    if (cb2) cb2(err);\n  });\n}",{"version":3,"sources":["/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/api/book.js"],"names":["axios","setLocalForage","getCategoryName","home2","method","url","process","env","VUE_APP_BOOK_URL","detail","book","params","fileName","flatList","list","VUE_APP_BASE_URL","home","shelf","downloadMp3","cb","cb2","create","baseURL","responseType","timeout","onDownloadProgress","progressEvent","console","log","get","then","response","blob","Blob","data","catch","err","download","item","onSuccess","onFailed","onError","onProgress","VUE_APP_EPUB_URL","category","res","downloadWithoutCache","cb3"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,qBAA/B;AACA,SAASC,eAAT,QAAgC,cAAhC;AAEA,OAAO,SAASC,KAAT,GAAiB;AACtB,SAAOH,KAAK,CAAC;AACXI,IAAAA,MAAM,EAAE,KADG;AAEXC,IAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,gBAAjB;AAFQ,GAAD,CAAZ;AAID;AAED,OAAO,SAASC,MAAT,CAAgBC,IAAhB,EAAsB;AAC3B,SAAOV,KAAK,CAAC;AACXI,IAAAA,MAAM,EAAE,KADG;AAEXC,IAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,gBAAjB,iBAFQ;AAGXG,IAAAA,MAAM,EAAE;AACNC,MAAAA,QAAQ,EAAEF,IAAI,CAACE;AADT;AAHG,GAAD,CAAZ;AAOD;AAED,OAAO,SAASC,QAAT,GAAoB;AACzB,SAAOb,KAAK,CAAC;AACXI,IAAAA,MAAM,EAAE,KADG;AAEXC,IAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,gBAAjB;AAFQ,GAAD,CAAZ;AAID;AAED,OAAO,SAASM,IAAT,GAAgB;AACrB,SAAOd,KAAK,CAAC;AACXI,IAAAA,MAAM,EAAE,KADG;AAEXC,IAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYQ,gBAAjB;AAFQ,GAAD,CAAZ;AAID;AAED,OAAO,SAASC,IAAT,GAAgB;AACrB,SAAOhB,KAAK,CAAC;AACXI,IAAAA,MAAM,EAAE,KADG;AAEXC,IAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYQ,gBAAjB;AAFQ,GAAD,CAAZ;AAID;AAED,OAAO,SAASE,KAAT,GAAiB;AACtB,SAAOjB,KAAK,CAAC;AACXI,IAAAA,MAAM,EAAE,KADG;AAEXC,IAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYQ,gBAAjB;AAFQ,GAAD,CAAZ;AAID;AAED,OAAO,SAASG,WAAT,CAAqBb,GAArB,EAA0Bc,EAA1B,EAA8BC,GAA9B,EAAmC;AACxCpB,EAAAA,KAAK,CAACqB,MAAN,CAAa;AACXC,IAAAA,OAAO,EAAEjB,GADE;AAEXD,IAAAA,MAAM,EAAE,KAFG;AAGXmB,IAAAA,YAAY,EAAE,MAHH;AAIXC,IAAAA,OAAO,EAAE,KAAK,IAJH;AAKXC,IAAAA,kBAAkB,EAAE,4BAAAC,aAAa,EAAI;AACnCC,MAAAA,OAAO,CAACC,GAAR,CAAYF,aAAZ;AACD;AAPU,GAAb,EAQGG,GARH,GAQSC,IART,CAQc,UAAAC,QAAQ,EAAI;AACxB,QAAMC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACF,QAAQ,CAACG,IAAV,CAAT,CAAb;AACA,QAAIf,EAAJ,EAAQA,EAAE,CAACa,IAAD,CAAF;AACT,GAXD,EAWGG,KAXH,CAWS,UAAAC,GAAG,EAAI;AACd,QAAIhB,GAAJ,EAASA,GAAG,CAACgB,GAAD,CAAH;AACV,GAbD;AAcD;AAED,OAAO,SAASC,QAAT,CAAkBC,IAAlB,EAAwBC,SAAxB,EAAmCC,QAAnC,EAA6CC,OAA7C,EAAsDC,UAAtD,EAAkE;AACvE1C,EAAAA,KAAK,CAACqB,MAAN,CAAa;AACXC,IAAAA,OAAO,EAAEhB,OAAO,CAACC,GAAR,CAAYoC,gBADV;AAEXvC,IAAAA,MAAM,EAAE,KAFG;AAGXmB,IAAAA,YAAY,EAAE,MAHH;AAIXC,IAAAA,OAAO,EAAE,MAAM,IAJJ;AAKXC,IAAAA,kBAAkB,EAAE,4BAAAC,aAAa,EAAI;AACnC,UAAIgB,UAAJ,EAAgBA,UAAU,CAAChB,aAAD,CAAV;AACjB;AAPU,GAAb,EAQGG,GARH,WAQU3B,eAAe,CAACoC,IAAI,CAACM,QAAN,CARzB,cAQ4CN,IAAI,CAAC1B,QARjD,YASGkB,IATH,CASQ,UAAAe,GAAG,EAAI;AACX,QAAMb,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACY,GAAG,CAACX,IAAL,CAAT,CAAb;AACAjC,IAAAA,cAAc,CAACqC,IAAI,CAAC1B,QAAN,EAAgBoB,IAAhB,EAAsB,YAAM;AACxC,UAAIO,SAAJ,EAAeA,SAAS,CAACD,IAAD,CAAT;AAChB,KAFa,EAEX,UAAAF,GAAG,EAAI;AACR,UAAII,QAAJ,EAAcA,QAAQ,CAACJ,GAAD,CAAR;AACf,KAJa,CAAd;AAKD,GAhBH,EAiBGD,KAjBH,CAiBS,UAAAC,GAAG,EAAI;AACZ,QAAIK,OAAJ,EAAaA,OAAO,CAACL,GAAD,CAAP;AACd,GAnBH;AAoBD;AAED,OAAO,SAASU,oBAAT,CAA8BR,IAA9B,EAAoCnB,EAApC,EAAwCC,GAAxC,EAA6C2B,GAA7C,EAAkD;AACvD/C,EAAAA,KAAK,CAACqB,MAAN,CAAa;AACXC,IAAAA,OAAO,EAAEhB,OAAO,CAACC,GAAR,CAAYoC,gBADV;AAEXvC,IAAAA,MAAM,EAAE,KAFG;AAGXmB,IAAAA,YAAY,EAAE,MAHH;AAIXC,IAAAA,OAAO,EAAE,KAAK,IAJH;AAKXC,IAAAA,kBAAkB,EAAE,4BAAAC,aAAa,EAAI;AACnC,UAAIqB,GAAJ,EAASA,GAAG,CAACrB,aAAD,CAAH;AACV;AAPU,GAAb,EAQGG,GARH,WAQU3B,eAAe,CAACoC,IAAI,CAACM,QAAN,CARzB,cAQ4CN,IAAI,CAAC1B,QARjD,YASGkB,IATH,CASQ,UAAAe,GAAG,EAAI;AACX,QAAMb,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACY,GAAG,CAACX,IAAL,CAAT,CAAb;AACA,QAAIf,EAAJ,EAAQA,EAAE,CAACa,IAAD,CAAF;AACT,GAZH,EAaGG,KAbH,CAaS,UAAAC,GAAG,EAAI;AACZ,QAAIhB,GAAJ,EAASA,GAAG,CAACgB,GAAD,CAAH;AACV,GAfH;AAgBD","sourcesContent":["import axios from 'axios'\nimport { setLocalForage } from '@/utils/localForage'\nimport { getCategoryName } from '@/utils/book'\n\nexport function home2() {\n  return axios({\n    method: 'get',\n    url: `${process.env.VUE_APP_BOOK_URL}/book/home2`\n  })\n}\n\nexport function detail(book) {\n  return axios({\n    method: 'get',\n    url: `${process.env.VUE_APP_BOOK_URL}/book/detail`,\n    params: {\n      fileName: book.fileName\n    }\n  })\n}\n\nexport function flatList() {\n  return axios({\n    method: 'get',\n    url: `${process.env.VUE_APP_BOOK_URL}/book/flat-list`\n  })\n}\n\nexport function list() {\n  return axios({\n    method: 'get',\n    url: `${process.env.VUE_APP_BASE_URL}/book/list`\n  })\n}\n\nexport function home() {\n  return axios({\n    method: 'get',\n    url: `${process.env.VUE_APP_BASE_URL}/book/home`\n  })\n}\n\nexport function shelf() {\n  return axios({\n    method: 'get',\n    url: `${process.env.VUE_APP_BASE_URL}/book/shelf`\n  })\n}\n\nexport function downloadMp3(url, cb, cb2) {\n  axios.create({\n    baseURL: url,\n    method: 'get',\n    responseType: 'blob',\n    timeout: 30 * 1000,\n    onDownloadProgress: progressEvent => {\n      console.log(progressEvent)\n    }\n  }).get().then(response => {\n    const blob = new Blob([response.data])\n    if (cb) cb(blob)\n  }).catch(err => {\n    if (cb2) cb2(err)\n  })\n}\n\nexport function download(item, onSuccess, onFailed, onError, onProgress) {\n  axios.create({\n    baseURL: process.env.VUE_APP_EPUB_URL,\n    method: 'get',\n    responseType: 'blob',\n    timeout: 180 * 1000,\n    onDownloadProgress: progressEvent => {\n      if (onProgress) onProgress(progressEvent)\n    }\n  }).get(`${getCategoryName(item.category)}/${item.fileName}.epub`)\n    .then(res => {\n      const blob = new Blob([res.data])\n      setLocalForage(item.fileName, blob, () => {\n        if (onSuccess) onSuccess(item)\n      }, err => {\n        if (onFailed) onFailed(err)\n      })\n    })\n    .catch(err => {\n      if (onError) onError(err)\n    })\n}\n\nexport function downloadWithoutCache(item, cb, cb2, cb3) {\n  axios.create({\n    baseURL: process.env.VUE_APP_EPUB_URL,\n    method: 'get',\n    responseType: 'blob',\n    timeout: 30 * 1000,\n    onDownloadProgress: progressEvent => {\n      if (cb3) cb3(progressEvent)\n    }\n  }).get(`${getCategoryName(item.category)}/${item.fileName}.epub`)\n    .then(res => {\n      const blob = new Blob([res.data])\n      if (cb) cb(blob)\n    })\n    .catch(err => {\n      if (cb2) cb2(err)\n    })\n}\n"]}]}