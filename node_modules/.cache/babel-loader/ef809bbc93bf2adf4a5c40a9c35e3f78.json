{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/eslint-loader/index.js??ref--13-0!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/utils/mixin.js","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/utils/mixin.js","mtime":1590871392784},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMva3NjaXNzb3Jmb290ZG9jdG9yL0Rlc2t0b3AvQm9va19XZWJfQXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBUaGVtZUxpc3QgYXMgX1RoZW1lTGlzdCwgYWRkQ3NzLCByZW1vdmVBbGxDc3MsIGdldFJlYWRUaW1lQnlNaW51dGUgfSBmcm9tICcuL2Jvb2suanMnOwppbXBvcnQgeyBzYXZlTG9jYXRpb24sIGdldEJvb2ttYXJrLCBnZXRCb29rU2hlbGYsIHNhdmVCb29rU2hlbGYgfSBmcm9tICcuL2xvY2Fsc3RvcmFnZS5qcyc7CmltcG9ydCB7IGFwcGVuZEFkZFRvU2hlbGYsIGdvdG9Cb29rRGV0YWlsIH0gZnJvbSAnLi9zdG9yZSc7CmltcG9ydCB7IHNoZWxmIH0gZnJvbSAnLi4vYXBpL3N0b3JlJzsKZXhwb3J0IHZhciBlYm9va01pbnggPSB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydmaWxlTmFtZScsICdtZW51VmlzaWJsZScsICdzZXR0aW5nVmlzaWJsZScsICdkZWZ1bHRGb250U2l6ZScsICdjdXJyZW50Qm9vaycsICdkZWZhdWx0Rm9udFNpemUnLCAnZGVmYXVsdEZvbnRGYW1pbHknLCAnZm9udEZhbWlseVZpc2libGUnLCAnZGVmYXVsdFRoZW1lJywgJ2Jvb2tBdmFpbGFibGUnLCAncHJvZ3Jlc3MnLCAnc2VjdGlvbicsICdpc1BhZ2luYXRpbmcnLCAnbmF2aWdhdGlvbicsICdjb3ZlcicsICdtZXRhZGF0YScsICdwYWdpbmF0ZScsICdwYWdlbGlzdCcsICdvZmZzZXRZJywgJ2lzQm9va21hcmsnXSksIHsKICAgIFRoZW1lTGlzdDogZnVuY3Rpb24gVGhlbWVMaXN0KCkgewogICAgICByZXR1cm4gX1RoZW1lTGlzdCh0aGlzKTsKICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsnc2V0Rm9udEZhbWlseVZpc2libGUnLCAnc2V0RGVmYXVsdEZvbnRGYW1pbHknLCAnc2V0RGVmYXVsdEZvbnRTaXplJywgJ3NldFNldHRpbmdWaXNpYmxlJywgJ3NldE1lbnVWaXNpYmxlJywgJ3NldEZpbGVOYW1lJywgJ3NldERlZmF1bHRUaGVtZScsICdzZXRCb29rQXZhaWxhYmxlJywgJ3NldFByb2dyZXNzJywgJ3NldFNlY3Rpb24nLCAnc2V0SXNQYWdpbmF0aW5nJywgJ3NldEN1cnJlbnRCb29rJywgJ3NldE5hdmlnYXRpb24nLCAnc2V0Q292ZXInLCAnc2V0TWV0YWRhdGEnLCAnc2V0UGFnaW5hdGUnLCAnc2V0UGFnZWxpc3QnLCAnc2V0SXNCb29rbWFyaycsICdzZXRPZmZzZXRZJ10pLCB7CiAgICBpbml0R2xvYmxlU3R5bGU6IGZ1bmN0aW9uIGluaXRHbG9ibGVTdHlsZSgpIHsKICAgICAgcmVtb3ZlQWxsQ3NzKCk7CgogICAgICBzd2l0Y2ggKHRoaXMuZGVmYXVsdFRoZW1lKSB7CiAgICAgICAgY2FzZSAnRGVmYXVsdCc6CiAgICAgICAgICBhZGRDc3MoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfUkVTX1VSTCwgIi90aGVtZS90aGVtZV9kZWZhdWx0LmNzcyIpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdFeWUnOgogICAgICAgICAgYWRkQ3NzKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvdGhlbWUvdGhlbWVfZXllLmNzcyIpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdHb2xkJzoKICAgICAgICAgIGFkZENzcygiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL3RoZW1lL3RoZW1lX2dvbGQuY3NzIikpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ05pZ2h0JzoKICAgICAgICAgIGFkZENzcygiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL3RoZW1lL3RoZW1lX25pZ2h0LmNzcyIpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYWRkQ3NzKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvdGhlbWUvdGhlbWVfZGVmYXVsdC5jc3MiKSk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIHJlZnJlc2hMb2NhdGlvbjogZnVuY3Rpb24gcmVmcmVzaExvY2F0aW9uKCkgewogICAgICB2YXIgY3VycmVudExvY2F0aW9uID0gdGhpcy5jdXJyZW50Qm9vay5yZW5kaXRpb24uY3VycmVudExvY2F0aW9uKCk7CiAgICAgIHZhciBzdGFydENmaSA9IGN1cnJlbnRMb2NhdGlvbi5zdGFydC5jZmk7CiAgICAgIHZhciBwcm9ncmVzcyA9IHRoaXMuY3VycmVudEJvb2subG9jYXRpb25zLnBlcmNlbnRhZ2VGcm9tQ2ZpKGN1cnJlbnRMb2NhdGlvbi5zdGFydC5jZmkpOwogICAgICB0aGlzLnNldFByb2dyZXNzKE1hdGguZmxvb3IocHJvZ3Jlc3MgKiAxMDApKTsKICAgICAgc2F2ZUxvY2F0aW9uKHRoaXMuZmlsZU5hbWUsIHN0YXJ0Q2ZpKTsKICAgICAgdmFyIGJvb2ttYXJrID0gZ2V0Qm9va21hcmsodGhpcy5maWxlTmFtZSk7CgogICAgICBpZiAoYm9va21hcmspIHsKICAgICAgICBpZiAoYm9va21hcmsuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uY2ZpID09PSBzdGFydENmaTsKICAgICAgICB9KSkgewogICAgICAgICAgdGhpcy5zZXRJc0Jvb2ttYXJrKHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNldElzQm9va21hcmsoZmFsc2UpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNldElzQm9va21hcmsoZmFsc2UpOwogICAgICB9CiAgICB9LAogICAgZGlzcGxheTogZnVuY3Rpb24gZGlzcGxheSh0YXJnZXQsIGNiKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgdGhpcy5jdXJyZW50Qm9vay5yZW5kaXRpb24uZGlzcGxheSh0YXJnZXQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMucmVmcmVzaExvY2F0aW9uKCk7CgogICAgICAgICAgaWYgKGNiKSBjYigpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY3VycmVudEJvb2sucmVuZGl0aW9uLmRpc3BsYXkoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnJlZnJlc2hMb2NhdGlvbigpOwoKICAgICAgICAgIGlmIChjYikgY2IoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGhpZGVUaXRsZUFuZE1lbnU6IGZ1bmN0aW9uIGhpZGVUaXRsZUFuZE1lbnUoKSB7CiAgICAgIHRoaXMuc2V0TWVudVZpc2libGUoZmFsc2UpOwogICAgICB0aGlzLnNldEZvbnRGYW1pbHlWaXNpYmxlKGZhbHNlKTsKICAgICAgdGhpcy5zZXRTZXR0aW5nVmlzaWJsZSgtMSk7CiAgICB9LAogICAgZ2V0UmVhZFRpbWVUZXh0OiBmdW5jdGlvbiBnZXRSZWFkVGltZVRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLiR0KCdib29rLmhhdmVSZWFkJykucmVwbGFjZSgnJDEnLCBnZXRSZWFkVGltZUJ5TWludXRlKHRoaXMuZmlsZU5hbWUpKTsKICAgIH0KICB9KQp9OwpleHBvcnQgdmFyIHN0b3JlSG9tZU1pbnggPSB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydvZmZzZXRZJywgJ2hvdFNlYXJjaE9mZnNldFknLCAnRmxhcENhcmRWaXNpYmxlJ10pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsnc2V0T2Zmc2V0WScsICdzZXRIb3RTZWFyY2hPZmZzZXRZJywgJ3NldEZsYXBDYXJkVmlzaWJsZSddKSwgewogICAgc2hvd0Jvb2tEZXRhaWw6IGZ1bmN0aW9uIHNob3dCb29rRGV0YWlsKGJvb2spIHsKICAgICAgZ290b0Jvb2tEZXRhaWwodGhpcywgYm9vayk7CiAgICB9CiAgfSkKfTsKZXhwb3J0IHZhciBzdG9yZVNoZWxmTWl4aW4gPSB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydvZmZzZXRZJywgJ2lzRWRpdE1vZGUnLCAnc2hlbGZMaXN0JywgJ3NoZWxmU2VsZWN0ZWQnLCAnc2hlbGZUaXRsZVZpc2libGUnLCAnY3VycmVudFR5cGUnLCAnc2hlbGZDYXRlZ29yeSddKSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ3NldElzRWRpdE1vZGUnLCAnc2V0U2hlbGZMaXN0JywgJ3NldFNoZWxmU2VsZWN0ZWQnLCAnc2V0U2hlbGZUaXRsZVZpc2libGUnLCAnc2V0T2Zmc2V0WScsICdDbGVhckNob29zZVN0YXRlJywgJ3NldEN1cnJlbnRUeXBlJywgJ3NldFNoZWxmQ2F0ZWdvcnknXSksIHsKICAgIGdldENhdGVnb3J5TGlzdDogZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlMaXN0KHRpdGxlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5nZXRTaGVsZkxpc3QoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgY2F0ZWdvcnlMaXN0ID0gX3RoaXMyLnNoZWxmTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGJvb2spIHsKICAgICAgICAgIHJldHVybiBib29rLnR5cGUgPT09IDIgJiYgYm9vay50aXRsZSA9PT0gdGl0bGU7CiAgICAgICAgfSlbMF07CgogICAgICAgIF90aGlzMi5zZXRTaGVsZkNhdGVnb3J5KGNhdGVnb3J5TGlzdCk7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dCb29rRGV0YWlsOiBmdW5jdGlvbiBzaG93Qm9va0RldGFpbChib29rKSB7CiAgICAgIGdvdG9Cb29rRGV0YWlsKHRoaXMsIGJvb2spOwogICAgfSwKICAgIGdldFNoZWxmTGlzdDogZnVuY3Rpb24gZ2V0U2hlbGZMaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBzaGVsZkxpc3QgPSBnZXRCb29rU2hlbGYoKTsKCiAgICAgIGlmICghc2hlbGZMaXN0KSB7CiAgICAgICAgc2hlbGYoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5ib29rTGlzdCkgewogICAgICAgICAgICBzaGVsZkxpc3QgPSBhcHBlbmRBZGRUb1NoZWxmKHJlc3BvbnNlLmRhdGEuYm9va0xpc3QpOwogICAgICAgICAgICBzYXZlQm9va1NoZWxmKHNoZWxmTGlzdCk7CiAgICAgICAgICAgIHJldHVybiBfdGhpczMuc2V0U2hlbGZMaXN0KHNoZWxmTGlzdCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc2V0U2hlbGZMaXN0KHNoZWxmTGlzdCk7CiAgICAgIH0KICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/utils/mixin.js"],"names":["mapGetters","mapActions","ThemeList","addCss","removeAllCss","getReadTimeByMinute","saveLocation","getBookmark","getBookShelf","saveBookShelf","appendAddToShelf","gotoBookDetail","shelf","ebookMinx","computed","methods","initGlobleStyle","defaultTheme","process","env","VUE_APP_RES_URL","refreshLocation","currentLocation","currentBook","rendition","startCfi","start","cfi","progress","locations","percentageFromCfi","setProgress","Math","floor","fileName","bookmark","some","item","setIsBookmark","display","target","cb","then","hideTitleAndMenu","setMenuVisible","setFontFamilyVisible","setSettingVisible","getReadTimeText","$t","replace","storeHomeMinx","showBookDetail","book","storeShelfMixin","getCategoryList","title","getShelfList","categoryList","shelfList","filter","type","setShelfCategory","response","status","data","bookList","setShelfList"],"mappings":"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","sourcesContent":["import { mapGetters, mapActions } from 'vuex'\nimport {\n    ThemeList,\n    addCss,\n    removeAllCss,\n    getReadTimeByMinute\n} from './book.js'\nimport {\n    saveLocation,\n    getBookmark,\n    getBookShelf,\n    saveBookShelf\n} from './localstorage.js'\nimport { appendAddToShelf, gotoBookDetail } from './store'\nimport { shelf } from '../api/store'\n\nexport const ebookMinx = {\n    computed: {\n        ...mapGetters([\n            'fileName',\n            'menuVisible',\n            'settingVisible',\n            'defultFontSize',\n            'currentBook',\n            'defaultFontSize',\n            'defaultFontFamily',\n            'fontFamilyVisible',\n            'defaultTheme',\n            'bookAvailable',\n            'progress',\n            'section',\n            'isPaginating',\n            'navigation',\n            'cover',\n            'metadata',\n            'paginate',\n            'pagelist',\n            'offsetY',\n            'isBookmark'\n        ]),\n        ThemeList() {\n            return ThemeList(this)\n        }\n    },\n    methods: {\n        ...mapActions([\n            'setFontFamilyVisible',\n            'setDefaultFontFamily',\n            'setDefaultFontSize',\n            'setSettingVisible',\n            'setMenuVisible',\n            'setFileName',\n            'setDefaultTheme',\n            'setBookAvailable',\n            'setProgress',\n            'setSection',\n            'setIsPaginating',\n            'setCurrentBook',\n            'setNavigation',\n            'setCover',\n            'setMetadata',\n            'setPaginate',\n            'setPagelist',\n            'setIsBookmark',\n            'setOffsetY'\n        ]),\n        initGlobleStyle() {\n            removeAllCss()\n            switch (this.defaultTheme) {\n                case 'Default':\n                    addCss(\n                          `${process.env.VUE_APP_RES_URL}/theme/theme_default.css`)\n                    break\n                case 'Eye':\n                    addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_eye.css`)\n                    break\n                case 'Gold':\n                    addCss(\n                          `${process.env.VUE_APP_RES_URL}/theme/theme_gold.css`)\n                    break\n                case 'Night':\n                    addCss(\n                          `${process.env.VUE_APP_RES_URL}/theme/theme_night.css`)\n                    break\n                default:\n                    addCss(\n                          `${process.env.VUE_APP_RES_URL}/theme/theme_default.css`)\n                    break\n            }\n        },\n        refreshLocation() {\n            const currentLocation = this.currentBook.rendition.currentLocation()\n            const startCfi = currentLocation.start.cfi\n            const progress = this.currentBook.locations.percentageFromCfi(\n                  currentLocation.start.cfi\n            )\n            this.setProgress(Math.floor(progress * 100))\n            saveLocation(this.fileName, startCfi)\n            const bookmark = getBookmark(this.fileName)\n            if (bookmark) {\n                if (bookmark.some(item => item.cfi === startCfi)) {\n                    this.setIsBookmark(true)\n                } else {\n                    this.setIsBookmark(false)\n                }\n            } else {\n                this.setIsBookmark(false)\n            }\n        },\n        display(target, cb) {\n            if (target) {\n                this.currentBook.rendition.display(target).then(() => {\n                    this.refreshLocation()\n                    if (cb) cb()\n                })\n            } else {\n                this.currentBook.rendition.display().then(() => {\n                    this.refreshLocation()\n                    if (cb) cb()\n                })\n            }\n        },\n        hideTitleAndMenu() {\n            this.setMenuVisible(false)\n            this.setFontFamilyVisible(false)\n            this.setSettingVisible(-1)\n        },\n        getReadTimeText() {\n            return this.$t('book.haveRead').replace(\n                  '$1',\n                  getReadTimeByMinute(this.fileName)\n            )\n        }\n    }\n}\nexport const storeHomeMinx = {\n    computed: {\n        ...mapGetters(['offsetY', 'hotSearchOffsetY', 'FlapCardVisible'])\n    },\n    methods: {\n        ...mapActions(\n              ['setOffsetY', 'setHotSearchOffsetY', 'setFlapCardVisible']),\n        showBookDetail(book) {\n            gotoBookDetail(this, book)\n        }\n    }\n}\nexport const storeShelfMixin = {\n    computed: {\n        ...mapGetters([\n            'offsetY',\n            'isEditMode',\n            'shelfList',\n            'shelfSelected',\n            'shelfTitleVisible',\n            'currentType',\n            'shelfCategory'\n        ])\n    },\n    methods: {\n        ...mapActions([\n            'setIsEditMode',\n            'setShelfList',\n            'setShelfSelected',\n            'setShelfTitleVisible',\n            'setOffsetY',\n            'ClearChooseState',\n            'setCurrentType',\n            'setShelfCategory'\n        ]),\n        getCategoryList(title) {\n            this.getShelfList().then(() => {\n                const categoryList = this.shelfList.filter(book => book.type === 2 && book.title === title)[0]\n                this.setShelfCategory(categoryList)\n            })\n        },\n        showBookDetail(book) {\n            gotoBookDetail(this, book)\n        },\n        getShelfList() {\n            let shelfList = getBookShelf()\n            if (!shelfList) {\n                shelf().then(response => {\n                    if (response.status === 200 && response.data &&\n                          response.data.bookList) {\n                        shelfList = appendAddToShelf(response.data.bookList)\n                        saveBookShelf(shelfList)\n                        return this.setShelfList(shelfList)\n                    }\n                })\n            } else {\n                return this.setShelfList(shelfList)\n            }\n        }\n    }\n}\n"]}]}