{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/ebook/EbookReder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/ebook/EbookReder.vue","mtime":1584205090378},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZWJvb2tNaW54IH0gZnJvbSAiLi4vLi4vdXRpbHMvbWl4aW4iOwppbXBvcnQgeyBnZXRGb250RmFtaWx5LCBzYXZlRm9udEZhbWlseSwgZ2V0Rm9udFNpemUsIHNhdmVGb250U2l6ZSwgZ2V0VGhlbWUsIHNhdmVUaGVtZSwgZ2V0TG9jYXRpb24gfSBmcm9tICIuLi8uLi91dGlscy9sb2NhbHN0b3JhZ2UuanMiOwppbXBvcnQgRXB1YiBmcm9tICJlcHVianMiOwpnbG9iYWwuZXB1YiA9IEVwdWI7CmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFtlYm9va01pbnhdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3VjaFN0YXJ0OiAiIiwKICAgICAgdG91Y2hUaW1lOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHByZXZQYWdlOiBmdW5jdGlvbiBwcmV2UGFnZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnJlbmRpdGlvbikgewogICAgICAgIHRoaXMucmVuZGl0aW9uLnByZXYoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnJlZnJlc2hMb2NhdGlvbigpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuaGlkZVRpdGxlQW5kTWVudSgpOwogICAgICB9CiAgICB9LAogICAgbmV4dFBhZ2U6IGZ1bmN0aW9uIG5leHRQYWdlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnJlbmRpdGlvbikgewogICAgICAgIHRoaXMucmVuZGl0aW9uLm5leHQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5yZWZyZXNoTG9jYXRpb24oKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmhpZGVUaXRsZUFuZE1lbnUoKTsKICAgICAgfQogICAgfSwKICAgIHNob3dUaXRsZUFuZE1lbnU6IGZ1bmN0aW9uIHNob3dUaXRsZUFuZE1lbnUoKSB7CiAgICAgIGlmICh0aGlzLm1lbnVWaXNpYmxlKSB7CiAgICAgICAgdGhpcy5zZXRTZXR0aW5nVmlzaWJsZSgtMSk7CiAgICAgICAgdGhpcy5zZXRGb250RmFtaWx5VmlzaWJsZShmYWxzZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2V0TWVudVZpc2libGUoIXRoaXMubWVudVZpc2libGUpOwogICAgfSwKICAgIGluaXRGb250U2l6ZTogZnVuY3Rpb24gaW5pdEZvbnRTaXplKCkgewogICAgICB2YXIgZm9udFNpemUgPSBnZXRGb250U2l6ZSh0aGlzLmZpbGVOYW1lKTsKCiAgICAgIGlmICghZm9udFNpemUpIHsKICAgICAgICBzYXZlRm9udFNpemUodGhpcy5maWxlTmFtZSwgdGhpcy5kZWZ1bHRGb250U2l6ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJyZW50Qm9vay5yZW5kaXRpb24udGhlbWVzLmZvbnRTaXplKGZvbnRTaXplKTsKICAgICAgICB0aGlzLnNldERlZmF1bHRGb250U2l6ZShmb250U2l6ZSk7CiAgICAgIH0KICAgIH0sCiAgICBpbml0Rm9udEZhbWlseTogZnVuY3Rpb24gaW5pdEZvbnRGYW1pbHkoKSB7CiAgICAgIHZhciBmb250ID0gZ2V0Rm9udEZhbWlseSh0aGlzLmZpbGVOYW1lKTsKCiAgICAgIGlmICghZm9udCkgewogICAgICAgIHNhdmVGb250RmFtaWx5KHRoaXMuZmlsZU5hbWUsIHRoaXMuZGVmYXVsdEZvbnRGYW1pbHkpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY3VycmVudEJvb2sucmVuZGl0aW9uLnRoZW1lcy5mb250KGZvbnQpOwogICAgICAgIHRoaXMuc2V0RGVmYXVsdEZvbnRGYW1pbHkoZm9udCk7CiAgICAgIH0KICAgIH0sCiAgICBpbml0VGhlbWU6IGZ1bmN0aW9uIGluaXRUaGVtZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgZGVmYXVsdFRoZW1lID0gZ2V0VGhlbWUodGhpcy5maWxlTmFtZSk7CgogICAgICBpZiAoIWRlZmF1bHRUaGVtZSkgewogICAgICAgIGRlZmF1bHRUaGVtZSA9IHRoaXMuVGhlbWVMaXN0WzBdLm5hbWU7CiAgICAgICAgc2F2ZVRoZW1lKHRoaXMuZmlsZU5hbWUsIGRlZmF1bHRUaGVtZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2V0RGVmYXVsdFRoZW1lKGRlZmF1bHRUaGVtZSk7CiAgICAgIHRoaXMuVGhlbWVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBfdGhpczMucmVuZGl0aW9uLnRoZW1lcy5yZWdpc3RlcihlbGVtZW50Lm5hbWUsIGVsZW1lbnQuc3R5bGUpOwogICAgICB9KTsKICAgICAgdGhpcy5yZW5kaXRpb24udGhlbWVzLnNlbGVjdChkZWZhdWx0VGhlbWUpOwogICAgfSwKICAgIGluaXRSZW5kaXRpb246IGZ1bmN0aW9uIGluaXRSZW5kaXRpb24oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5yZW5kaXRpb24gPSB0aGlzLmJvb2sucmVuZGVyVG8oInJlYWQiLCB7CiAgICAgICAgd2lkdGg6IGlubmVyV2lkdGgsCiAgICAgICAgaGVpZ2h0OiBpbm5lckhlaWdodCwKICAgICAgICBtZXRob2Q6ICJkZWZhdWx0IgogICAgICB9KTsKICAgICAgdGhpcy5yZW5kaXRpb24uZGlzcGxheSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBsb2NhbHRpb24gPSBnZXRMb2NhdGlvbihfdGhpczQuZmlsZU5hbWUpOwoKICAgICAgICBfdGhpczQuZGlzcGxheShsb2NhbHRpb24sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNC5pbml0VGhlbWUoKTsKCiAgICAgICAgICBfdGhpczQuaW5pdEZvbnRTaXplKCk7CgogICAgICAgICAgX3RoaXM0LmluaXRGb250RmFtaWx5KCk7CgogICAgICAgICAgX3RoaXM0LmluaXRHbG9ibGVTdHlsZSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5yZW5kaXRpb24uaG9va3MuY29udGVudC5yZWdpc3RlcihmdW5jdGlvbiAoY29udGVudHMpIHsKICAgICAgICBQcm9taXNlLmFsbChbY29udGVudHMuYWRkU3R5bGVzaGVldCgiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL2ZvbnRzL2RheXNPbmUuY3NzIikpLCBjb250ZW50cy5hZGRTdHlsZXNoZWV0KCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvZm9udHMvY2FiaW4uY3NzIikpLCBjb250ZW50cy5hZGRTdHlsZXNoZWV0KCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvZm9udHMvbW9udHNlcnJhdC5jc3MiKSksIGNvbnRlbnRzLmFkZFN0eWxlc2hlZXQoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfUkVTX1VSTCwgIi9mb250cy90YW5nZXJpbmUuY3NzIikpXSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygi5a2X5L2T5YWo6YOo5Yqg6L295a6M5q+VLi4uIik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRHZXN0dXJlOiBmdW5jdGlvbiBpbml0R2VzdHVyZSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLnJlbmRpdGlvbi5vbigidG91Y2hzdGFydCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXM1LnRvdWNoU3RhcnQgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7CiAgICAgICAgX3RoaXM1LnRvdWNoVGltZSA9IGUudGltZVN0YW1wOwogICAgICB9KTsKICAgICAgdGhpcy5yZW5kaXRpb24ub24oInRvdWNoZW5kIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgb2Zmc2V0WCA9IF90aGlzNS50b3VjaFN0YXJ0IC0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYOwogICAgICAgIHZhciBUaW1lID0gZS50aW1lU3RhbXAgLSBfdGhpczUudG91Y2hUaW1lOwoKICAgICAgICBpZiAoVGltZSA8IDQwMCAmJiBvZmZzZXRYID4gNDApIHsKICAgICAgICAgIF90aGlzNS5uZXh0UGFnZSgpOwogICAgICAgIH0gZWxzZSBpZiAoVGltZSA8IDQwMCAmJiBvZmZzZXRYIDwgLTQwKSB7CiAgICAgICAgICBfdGhpczUucHJldlBhZ2UoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM1LnNob3dUaXRsZUFuZE1lbnUoKTsKICAgICAgICB9CgogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9KTsKICAgIH0sCiAgICBwYXJzZUJvb2s6IGZ1bmN0aW9uIHBhcnNlQm9vaygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLmJvb2subG9hZGVkLmNvdmVyLnRoZW4oZnVuY3Rpb24gKGNvdmVyKSB7CiAgICAgICAgX3RoaXM2LmJvb2suYXJjaGl2ZS5jcmVhdGVVcmwoY292ZXIpLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgX3RoaXM2LnNldENvdmVyKHVybCk7CgogICAgICAgICAgY29uc29sZS5sb2codXJsKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuYm9vay5sb2FkZWQubWV0YWRhdGEudGhlbihmdW5jdGlvbiAobWV0YWRhdGEpIHsKICAgICAgICBfdGhpczYuc2V0TWV0YWRhdGEobWV0YWRhdGEpOwogICAgICB9KTsKICAgICAgdGhpcy5ib29rLmxvYWRlZC5uYXZpZ2F0aW9uLnRoZW4oZnVuY3Rpb24gKG5hdmlnKSB7CiAgICAgICAgdmFyIG5hdkl0ZW0gPSBuYXZpZy50b2M7CgogICAgICAgIF90aGlzNi5zZXROYXZpZ2F0aW9uKG5hdkl0ZW0pOwogICAgICB9KTsKICAgIH0sCiAgICBpbml0RXB1YjogZnVuY3Rpb24gaW5pdEVwdWIoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIFVybCA9ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvZXB1Yi8iKSArIHRoaXMuZmlsZU5hbWUgKyAiLmVwdWIiOwogICAgICB0aGlzLmJvb2sgPSBuZXcgRXB1YihVcmwpOwogICAgICB0aGlzLnNldEN1cnJlbnRCb29rKHRoaXMuYm9vayk7CiAgICAgIHRoaXMuaW5pdFJlbmRpdGlvbigpOwogICAgICB0aGlzLmluaXRHZXN0dXJlKCk7CiAgICAgIHRoaXMucGFyc2VCb29rKCk7CiAgICAgIHRoaXMuYm9vay5yZWFkeS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXM3LmJvb2subG9jYXRpb25zLmdlbmVyYXRlKDc1MCAqICh3aW5kb3cuaW5uZXJXaWR0aCAvIDM3NSkgKiAoZ2V0Rm9udFNpemUoX3RoaXM3LmZpbGVOYW1lKSAvIDE2KSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGxvY2F0aW9ucykgewogICAgICAgIF90aGlzNy5zZXRCb29rQXZhaWxhYmxlKHRydWUpOwoKICAgICAgICBfdGhpczcucmVmcmVzaExvY2F0aW9uKCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgIHRoaXMuc2V0RmlsZU5hbWUodGhpcy4kcm91dGUucGFyYW1zLmZpbGVOYW1lLnNwbGl0KCJ8Iikuam9pbigiLyIpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXM4LmluaXRFcHViKCk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["EbookReder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAOA,SAAA,SAAA,QAAA,mBAAA;AACA,SACA,aADA,EAEA,cAFA,EAGA,WAHA,EAIA,YAJA,EAKA,QALA,EAMA,SANA,EAOA,WAPA,QAQA,6BARA;AASA,OAAA,IAAA,MAAA,QAAA;AACA,MAAA,CAAA,IAAA,GAAA,IAAA;AACA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,SAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,UAAA,KAAA,SAAA,EAAA;AACA,aAAA,SAAA,CAAA,IAAA,GAAA,IAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,eAAA;AACA,SAFA;AAGA,aAAA,gBAAA;AACA;AACA,KARA;AASA,IAAA,QATA,sBASA;AAAA;;AACA,UAAA,KAAA,SAAA,EAAA;AACA,aAAA,SAAA,CAAA,IAAA,GAAA,IAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,eAAA;AACA,SAFA;AAGA,aAAA,gBAAA;AACA;AACA,KAhBA;AAiBA,IAAA,gBAjBA,8BAiBA;AACA,UAAA,KAAA,WAAA,EAAA;AACA,aAAA,iBAAA,CAAA,CAAA,CAAA;AACA,aAAA,oBAAA,CAAA,KAAA;AACA;;AACA,WAAA,cAAA,CAAA,CAAA,KAAA,WAAA;AACA,KAvBA;AAwBA,IAAA,YAxBA,0BAwBA;AACA,UAAA,QAAA,GAAA,WAAA,CAAA,KAAA,QAAA,CAAA;;AACA,UAAA,CAAA,QAAA,EAAA;AACA,QAAA,YAAA,CAAA,KAAA,QAAA,EAAA,KAAA,cAAA,CAAA;AACA,OAFA,MAEA;AACA,aAAA,WAAA,CAAA,SAAA,CAAA,MAAA,CAAA,QAAA,CAAA,QAAA;AACA,aAAA,kBAAA,CAAA,QAAA;AACA;AACA,KAhCA;AAiCA,IAAA,cAjCA,4BAiCA;AACA,UAAA,IAAA,GAAA,aAAA,CAAA,KAAA,QAAA,CAAA;;AACA,UAAA,CAAA,IAAA,EAAA;AACA,QAAA,cAAA,CAAA,KAAA,QAAA,EAAA,KAAA,iBAAA,CAAA;AACA,OAFA,MAEA;AACA,aAAA,WAAA,CAAA,SAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA;AACA,aAAA,oBAAA,CAAA,IAAA;AACA;AACA,KAzCA;AA0CA,IAAA,SA1CA,uBA0CA;AAAA;;AACA,UAAA,YAAA,GAAA,QAAA,CAAA,KAAA,QAAA,CAAA;;AACA,UAAA,CAAA,YAAA,EAAA;AACA,QAAA,YAAA,GAAA,KAAA,SAAA,CAAA,CAAA,EAAA,IAAA;AACA,QAAA,SAAA,CAAA,KAAA,QAAA,EAAA,YAAA,CAAA;AACA;;AACA,WAAA,eAAA,CAAA,YAAA;AACA,WAAA,SAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,CAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,IAAA,EAAA,OAAA,CAAA,KAAA;AACA,OAFA;AAGA,WAAA,SAAA,CAAA,MAAA,CAAA,MAAA,CAAA,YAAA;AACA,KArDA;AAsDA,IAAA,aAtDA,2BAsDA;AAAA;;AACA,WAAA,SAAA,GAAA,KAAA,IAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AACA,QAAA,KAAA,EAAA,UADA;AAEA,QAAA,MAAA,EAAA,WAFA;AAGA,QAAA,MAAA,EAAA;AAHA,OAAA,CAAA;AAMA,WAAA,SAAA,CAAA,OAAA,GAAA,IAAA,CAAA,YAAA;AACA,YAAA,SAAA,GAAA,WAAA,CAAA,MAAA,CAAA,QAAA,CAAA;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,SAAA,EAAA,YAAA;AACA,UAAA,MAAA,CAAA,SAAA;;AACA,UAAA,MAAA,CAAA,YAAA;;AACA,UAAA,MAAA,CAAA,cAAA;;AACA,UAAA,MAAA,CAAA,eAAA;AACA,SALA;AAMA,OARA;AASA,WAAA,SAAA,CAAA,KAAA,CAAA,OAAA,CAAA,QAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CACA,QAAA,CAAA,aAAA,WACA,OAAA,CAAA,GAAA,CAAA,eADA,wBADA,EAIA,QAAA,CAAA,aAAA,WACA,OAAA,CAAA,GAAA,CAAA,eADA,sBAJA,EAOA,QAAA,CAAA,aAAA,WACA,OAAA,CAAA,GAAA,CAAA,eADA,2BAPA,EAUA,QAAA,CAAA,aAAA,WACA,OAAA,CAAA,GAAA,CAAA,eADA,0BAVA,CAAA,EAaA,IAbA,CAaA,YAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,aAAA;AACA,SAfA;AAgBA,OAjBA;AAkBA,KAxFA;AAyFA,IAAA,WAzFA,yBAyFA;AAAA;;AACA,WAAA,SAAA,CAAA,EAAA,CAAA,YAAA,EAAA,UAAA,CAAA,EAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,CAAA,CAAA,cAAA,CAAA,CAAA,EAAA,OAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,CAAA,CAAA,SAAA;AACA,OAHA;AAIA,WAAA,SAAA,CAAA,EAAA,CAAA,UAAA,EAAA,UAAA,CAAA,EAAA;AACA,YAAA,OAAA,GAAA,MAAA,CAAA,UAAA,GAAA,CAAA,CAAA,cAAA,CAAA,CAAA,EAAA,OAAA;AACA,YAAA,IAAA,GAAA,CAAA,CAAA,SAAA,GAAA,MAAA,CAAA,SAAA;;AACA,YAAA,IAAA,GAAA,GAAA,IAAA,OAAA,GAAA,EAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA;AACA,SAFA,MAEA,IAAA,IAAA,GAAA,GAAA,IAAA,OAAA,GAAA,CAAA,EAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA;AACA,SAFA,MAEA;AACA,UAAA,MAAA,CAAA,gBAAA;AACA;;AACA,QAAA,CAAA,CAAA,cAAA;AACA,QAAA,CAAA,CAAA,eAAA;AACA,OAZA;AAaA,KA3GA;AA4GA,IAAA,SA5GA,uBA4GA;AAAA;;AACA,WAAA,IAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,UAAA,KAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,OAAA,CAAA,SAAA,CAAA,KAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,GAAA;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,SAHA;AAIA,OALA;AAMA,WAAA,IAAA,CAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,CAAA,QAAA;AACA,OAFA;AAGA,WAAA,IAAA,CAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,OAAA,GAAA,KAAA,CAAA,GAAA;;AACA,QAAA,MAAA,CAAA,aAAA,CAAA,OAAA;AACA,OAHA;AAIA,KA1HA;AA2HA,IAAA,QA3HA,sBA2HA;AAAA;;AACA,UAAA,GAAA,GACA,UAAA,OAAA,CAAA,GAAA,CAAA,eAAA,cAAA,KAAA,QAAA,GAAA,OADA;AAEA,WAAA,IAAA,GAAA,IAAA,IAAA,CAAA,GAAA,CAAA;AACA,WAAA,cAAA,CAAA,KAAA,IAAA;AACA,WAAA,aAAA;AACA,WAAA,WAAA;AACA,WAAA,SAAA;AACA,WAAA,IAAA,CAAA,KAAA,CACA,IADA,CACA,YAAA;AACA,eAAA,MAAA,CAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CACA,OAAA,MAAA,CAAA,UAAA,GAAA,GAAA,KAAA,WAAA,CAAA,MAAA,CAAA,QAAA,CAAA,GAAA,EAAA,CADA,CAAA;AAGA,OALA,EAMA,IANA,CAMA,UAAA,SAAA,EAAA;AACA,QAAA,MAAA,CAAA,gBAAA,CAAA,IAAA;;AACA,QAAA,MAAA,CAAA,eAAA;AACA,OATA;AAUA;AA7IA,GARA;AAwJA,EAAA,OAxJA,qBAwJA;AAAA;;AACA,SAAA,WAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,EAAA,IAAA,CAAA,GAAA,CAAA,EAAA,IAAA,CACA,YAAA;AACA,MAAA,MAAA,CAAA,QAAA;AACA,KAHA;AAKA;AA9JA,CAAA","sourcesContent":["<template>\n  <div class=\"Ebook-Reder\">\n    <div id=\"read\"></div>\n  </div>\n</template>\n\n<script>\nimport { ebookMinx } from \"../../utils/mixin\";\nimport {\n  getFontFamily,\n  saveFontFamily,\n  getFontSize,\n  saveFontSize,\n  getTheme,\n  saveTheme,\n  getLocation\n} from \"../../utils/localstorage.js\";\nimport Epub from \"epubjs\";\nglobal.epub = Epub;\nexport default {\n  mixins: [ebookMinx],\n  data() {\n    return {\n      touchStart: \"\",\n      touchTime: \"\"\n    };\n  },\n  methods: {\n    prevPage() {\n      if (this.rendition) {\n        this.rendition.prev().then(() => {\n          this.refreshLocation();\n        });\n        this.hideTitleAndMenu();\n      }\n    },\n    nextPage() {\n      if (this.rendition) {\n        this.rendition.next().then(() => {\n          this.refreshLocation();\n        });\n        this.hideTitleAndMenu();\n      }\n    },\n    showTitleAndMenu() {\n      if (this.menuVisible) {\n        this.setSettingVisible(-1);\n        this.setFontFamilyVisible(false);\n      }\n      this.setMenuVisible(!this.menuVisible);\n    },\n    initFontSize() {\n      const fontSize = getFontSize(this.fileName);\n      if (!fontSize) {\n        saveFontSize(this.fileName, this.defultFontSize);\n      } else {\n        this.currentBook.rendition.themes.fontSize(fontSize);\n        this.setDefaultFontSize(fontSize);\n      }\n    },\n    initFontFamily() {\n      const font = getFontFamily(this.fileName);\n      if (!font) {\n        saveFontFamily(this.fileName, this.defaultFontFamily);\n      } else {\n        this.currentBook.rendition.themes.font(font);\n        this.setDefaultFontFamily(font);\n      }\n    },\n    initTheme() {\n      let defaultTheme = getTheme(this.fileName);\n      if (!defaultTheme) {\n        defaultTheme = this.ThemeList[0].name;\n        saveTheme(this.fileName, defaultTheme);\n      }\n      this.setDefaultTheme(defaultTheme);\n      this.ThemeList.forEach(element => {\n        this.rendition.themes.register(element.name, element.style);\n      });\n      this.rendition.themes.select(defaultTheme);\n    },\n    initRendition() {\n      this.rendition = this.book.renderTo(\"read\", {\n        width: innerWidth,\n        height: innerHeight,\n        method: \"default\"\n      });\n\n      this.rendition.display().then(() => {\n        const localtion = getLocation(this.fileName);\n        this.display(localtion, () => {\n          this.initTheme();\n          this.initFontSize();\n          this.initFontFamily();\n          this.initGlobleStyle();\n        });\n      });\n      this.rendition.hooks.content.register(contents => {\n        Promise.all([\n          contents.addStylesheet(\n            `${process.env.VUE_APP_RES_URL}/fonts/daysOne.css`\n          ),\n          contents.addStylesheet(\n            `${process.env.VUE_APP_RES_URL}/fonts/cabin.css`\n          ),\n          contents.addStylesheet(\n            `${process.env.VUE_APP_RES_URL}/fonts/montserrat.css`\n          ),\n          contents.addStylesheet(\n            `${process.env.VUE_APP_RES_URL}/fonts/tangerine.css`\n          )\n        ]).then(() => {\n          console.log(\"字体全部加载完毕...\");\n        });\n      });\n    },\n    initGesture() {\n      this.rendition.on(\"touchstart\", e => {\n        this.touchStart = e.changedTouches[0].clientX;\n        this.touchTime = e.timeStamp;\n      });\n      this.rendition.on(\"touchend\", e => {\n        const offsetX = this.touchStart - e.changedTouches[0].clientX;\n        const Time = e.timeStamp - this.touchTime;\n        if (Time < 400 && offsetX > 40) {\n          this.nextPage();\n        } else if (Time < 400 && offsetX < -40) {\n          this.prevPage();\n        } else {\n          this.showTitleAndMenu();\n        }\n        e.preventDefault();\n        e.stopPropagation();\n      });\n    },\n    parseBook() {\n      this.book.loaded.cover.then(cover => {\n        this.book.archive.createUrl(cover).then(url => {\n          this.setCover(url);\n          console.log(url);\n        });\n      });\n      this.book.loaded.metadata.then(metadata => {\n        this.setMetadata(metadata);\n      });\n      this.book.loaded.navigation.then(navig => {\n          const navItem = navig.toc\n          this.setNavigation(navItem)\n      });\n    },\n    initEpub() {\n      const Url =\n        `${process.env.VUE_APP_RES_URL}/epub/` + this.fileName + \".epub\";\n      this.book = new Epub(Url);\n      this.setCurrentBook(this.book);\n      this.initRendition();\n      this.initGesture();\n      this.parseBook();\n      this.book.ready\n        .then(() => {\n          return this.book.locations.generate(\n            750 * (window.innerWidth / 375) * (getFontSize(this.fileName) / 16)\n          );\n        })\n        .then(locations => {\n          this.setBookAvailable(true);\n          this.refreshLocation();\n        });\n    }\n  },\n\n  mounted() {\n    this.setFileName(this.$route.params.fileName.split(\"|\").join(\"/\")).then(\n      () => {\n        this.initEpub();\n      }\n    );\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"],"sourceRoot":"src/components/ebook"}]}