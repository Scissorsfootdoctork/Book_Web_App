{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/eslint-loader/index.js??ref--13-0!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/utils/book.js","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/utils/book.js","mtime":1541580605000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.max-safe-integer\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport { getReadTime, getLocalStorage, setLocalStorage, removeLocalStorage } from \"./localStorage\";\nimport { removeLocalForage } from \"./localForage\";\nimport { realPx } from \"./utils\";\nexport var FONT_SIZE_LIST = [{\n  fontSize: 12\n}, {\n  fontSize: 14\n}, {\n  fontSize: 16\n}, {\n  fontSize: 18\n}, {\n  fontSize: 20\n}, {\n  fontSize: 22\n}, {\n  fontSize: 24\n}];\nexport var FONT_FAMILY = [{\n  font: 'Default'\n}, {\n  font: 'Cabin'\n}, {\n  font: 'Days One'\n}, {\n  font: 'Montserrat'\n}, {\n  font: 'Tangerine'\n}];\nexport function themeList(vue) {\n  return [{\n    alias: vue.$t('book.themeDefault'),\n    name: 'Default',\n    style: {\n      body: {\n        'color': '#4c5059',\n        'background': '#cecece',\n        'padding-top': \"\".concat(realPx(48), \"px!important\"),\n        'padding-bottom': \"\".concat(realPx(48), \"px!important\")\n      },\n      img: {\n        'width': '100%'\n      },\n      '.epubjs-hl': {\n        'fill': 'red',\n        'fill-opacity': '0.3',\n        'mix-blend-mode': 'multiply'\n      }\n    }\n  }, {\n    alias: vue.$t('book.themeGold'),\n    name: 'Gold',\n    style: {\n      body: {\n        'color': '#5c5b56',\n        'background': '#c6c2b6',\n        'padding-top': \"\".concat(realPx(48), \"px!important\"),\n        'padding-bottom': \"\".concat(realPx(48), \"px!important\")\n      },\n      img: {\n        'width': '100%'\n      },\n      '.epubjs-hl': {\n        'fill': 'red',\n        'fill-opacity': '0.3',\n        'mix-blend-mode': 'multiply'\n      }\n    }\n  }, {\n    alias: vue.$t('book.themeEye'),\n    name: 'Eye',\n    style: {\n      body: {\n        'color': '#404c42',\n        'background': '#a9c1a9',\n        'padding-top': \"\".concat(realPx(48), \"px!important\"),\n        'padding-bottom': \"\".concat(realPx(48), \"px!important\")\n      },\n      img: {\n        'width': '100%'\n      },\n      '.epubjs-hl': {\n        'fill': 'red',\n        'fill-opacity': '0.3',\n        'mix-blend-mode': 'multiply'\n      }\n    }\n  }, {\n    alias: vue.$t('book.themeNight'),\n    name: 'Night',\n    style: {\n      body: {\n        'color': '#cecece',\n        'background': '#000000',\n        'padding-top': \"\".concat(realPx(48), \"px!important\"),\n        'padding-bottom': \"\".concat(realPx(48), \"px!important\")\n      },\n      img: {\n        'width': '100%'\n      },\n      '.epubjs-hl': {\n        'fill': 'red',\n        'fill-opacity': '0.3',\n        'mix-blend-mode': 'multiply'\n      }\n    }\n  }];\n}\nexport function getReadTimeByMinute(fileName) {\n  if (!getReadTime(fileName)) {\n    return 0;\n  } else {\n    return Math.ceil(getReadTime(fileName) / 60);\n  }\n}\nexport function getCategoryName(id) {\n  switch (id) {\n    case 1:\n      return 'ComputerScience';\n\n    case 2:\n      return 'SocialSciences';\n\n    case 3:\n      return 'Economics';\n\n    case 4:\n      return 'Education';\n\n    case 5:\n      return 'Engineering';\n\n    case 6:\n      return 'Environment';\n\n    case 7:\n      return 'Geography';\n\n    case 8:\n      return 'History';\n\n    case 9:\n      return 'Laws';\n\n    case 10:\n      return 'LifeSciences';\n\n    case 11:\n      return 'Literature';\n\n    case 12:\n      return 'Biomedicine';\n\n    case 13:\n      return 'BusinessandManagement';\n\n    case 14:\n      return 'EarthSciences';\n\n    case 15:\n      return 'MaterialsScience';\n\n    case 16:\n      return 'Mathematics';\n\n    case 17:\n      return 'MedicineAndPublicHealth';\n\n    case 18:\n      return 'Philosophy';\n\n    case 19:\n      return 'Physics';\n\n    case 20:\n      return 'PoliticalScienceAndInternationalRelations';\n\n    case 21:\n      return 'Psychology';\n\n    case 22:\n      return 'Statistics';\n  }\n}\nexport function categoryText(category, vue) {\n  switch (category) {\n    case 1:\n      return vue.$t('category.computerScience');\n\n    case 2:\n      return vue.$t('category.socialSciences');\n\n    case 3:\n      return vue.$t('category.economics');\n\n    case 4:\n      return vue.$t('category.education');\n\n    case 5:\n      return vue.$t('category.engineering');\n\n    case 6:\n      return vue.$t('category.environment');\n\n    case 7:\n      return vue.$t('category.geography');\n\n    case 8:\n      return vue.$t('category.history');\n\n    case 9:\n      return vue.$t('category.laws');\n\n    case 10:\n      return vue.$t('category.lifeSciences');\n\n    case 11:\n      return vue.$t('category.literature');\n\n    case 12:\n      return vue.$t('category.biomedicine');\n\n    case 13:\n      return vue.$t('category.businessandManagement');\n\n    case 14:\n      return vue.$t('category.earthSciences');\n\n    case 15:\n      return vue.$t('category.materialsScience');\n\n    case 16:\n      return vue.$t('category.mathematics');\n\n    case 17:\n      return vue.$t('category.medicineAndPublicHealth');\n\n    case 18:\n      return vue.$t('category.philosophy');\n\n    case 19:\n      return vue.$t('category.physics');\n\n    case 20:\n      return vue.$t('category.politicalScienceAndInternationalRelations');\n\n    case 21:\n      return vue.$t('category.psychology');\n\n    case 22:\n      return vue.$t('category.statistics');\n  }\n}\nexport function showBookDetail(vue, book) {\n  vue.$router.push({\n    path: '/book-store/detail',\n    query: {\n      fileName: book.fileName,\n      category: book.categoryText\n    }\n  });\n}\nexport var categoryList = {\n  'ComputerScience': 1,\n  'SocialSciences': 2,\n  'Economics': 3,\n  'Education': 4,\n  'Engineering': 5,\n  'Environment': 6,\n  'Geography': 7,\n  'History': 8,\n  'Laws': 9,\n  'LifeSciences': 10,\n  'Literature': 11,\n  'Biomedicine': 12,\n  'BusinessandManagement': 13,\n  'EarthSciences': 14,\n  'MaterialsScience': 15,\n  'Mathematics': 16,\n  'MedicineAndPublicHealth': 17,\n  'Philosophy': 18,\n  'Physics': 19,\n  'PoliticalScienceAndInternationalRelations': 20,\n  'Psychology': 21,\n  'Statistics': 22\n};\nvar BOOK_SHELF_KEY = 'bookShelf';\nexport function addToShelf(book) {\n  var bookList = getLocalStorage(BOOK_SHELF_KEY);\n  bookList = clearAddFromBookList(bookList);\n  book.type = 1;\n  bookList.push(book);\n  bookList.forEach(function (item, index) {\n    item.id = index + 1;\n  });\n  appendAddToBookList(bookList);\n  setLocalStorage(BOOK_SHELF_KEY, bookList);\n}\nexport function appendAddToBookList(bookList) {\n  bookList.push({\n    cover: '',\n    title: '',\n    type: 3,\n    id: Number.MAX_SAFE_INTEGER\n  });\n}\nexport function clearAddFromBookList(bookList) {\n  return bookList.filter(function (item) {\n    return item.type !== 3;\n  });\n}\nexport function removeFromBookShelf(bookItem) {\n  var bookList = getLocalStorage(BOOK_SHELF_KEY);\n  bookList = bookList.filter(function (item) {\n    if (item.itemList) {\n      item.itemList = item.itemList.filter(function (subItem) {\n        return subItem.fileName !== bookItem.fileName;\n      });\n    }\n\n    return item.fileName !== bookItem.fileName;\n  });\n  setLocalStorage(BOOK_SHELF_KEY, bookList);\n}\nexport function flatBookList(bookList) {\n  if (bookList) {\n    var orgBookList = bookList.filter(function (item) {\n      return item.type !== 3;\n    });\n\n    var _categoryList = bookList.filter(function (item) {\n      return item.type === 2;\n    });\n\n    _categoryList.forEach(function (item) {\n      var index = orgBookList.findIndex(function (v) {\n        return v.id === item.id;\n      });\n\n      if (item.itemList) {\n        item.itemList.forEach(function (subItem) {\n          orgBookList.splice(index, 0, subItem);\n        });\n      }\n    });\n\n    orgBookList.forEach(function (item, index) {\n      item.id = index + 1;\n    });\n    orgBookList = orgBookList.filter(function (item) {\n      return item.type !== 2;\n    });\n    return orgBookList;\n  } else {\n    return [];\n  }\n}\nexport function findBook(fileName) {\n  var bookList = getLocalStorage(BOOK_SHELF_KEY);\n  return flatBookList(bookList).find(function (item) {\n    return item.fileName === fileName;\n  });\n}\nexport function removeBookCache(fileName) {\n  return new Promise(function (resolve, reject) {\n    removeLocalStorage(fileName);\n    removeLocalStorage(\"\".concat(fileName, \"-info\"));\n    removeLocalForage(fileName, function () {\n      console.log(\"[\".concat(fileName, \"]\\u5220\\u9664\\u6210\\u529F...\"));\n      resolve();\n    }, reject);\n  });\n}\nexport function switchLocale(vue) {\n  if (vue.$i18n.locale === 'en') {\n    vue.$i18n.locale = 'cn';\n  } else {\n    vue.$i18n.locale = 'en';\n  }\n\n  setLocalStorage('locale', vue.$i18n.locale);\n}\nexport function reset(vue) {\n  vue.$store.dispatch('setMenuVisible', false);\n  vue.$store.dispatch('setSettingVisible', 0);\n  vue.$store.dispatch('setFontFamilyVisible', false);\n  vue.$store.dispatch('setSpeakingIconBottom', realPx(58));\n}",{"version":3,"sources":["/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/utils/book.js"],"names":["getReadTime","getLocalStorage","setLocalStorage","removeLocalStorage","removeLocalForage","realPx","FONT_SIZE_LIST","fontSize","FONT_FAMILY","font","themeList","vue","alias","$t","name","style","body","img","getReadTimeByMinute","fileName","Math","ceil","getCategoryName","id","categoryText","category","showBookDetail","book","$router","push","path","query","categoryList","BOOK_SHELF_KEY","addToShelf","bookList","clearAddFromBookList","type","forEach","item","index","appendAddToBookList","cover","title","Number","MAX_SAFE_INTEGER","filter","removeFromBookShelf","bookItem","itemList","subItem","flatBookList","orgBookList","findIndex","v","splice","findBook","find","removeBookCache","Promise","resolve","reject","console","log","switchLocale","$i18n","locale","reset","$store","dispatch"],"mappings":"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","sourcesContent":["import { getReadTime, getLocalStorage, setLocalStorage, removeLocalStorage } from './localStorage'\nimport { removeLocalForage } from './localForage'\nimport { realPx } from './utils'\n\nexport const FONT_SIZE_LIST = [\n  { fontSize: 12 },\n  { fontSize: 14 },\n  { fontSize: 16 },\n  { fontSize: 18 },\n  { fontSize: 20 },\n  { fontSize: 22 },\n  { fontSize: 24 }\n]\n\nexport const FONT_FAMILY = [\n  { font: 'Default' },\n  { font: 'Cabin' },\n  { font: 'Days One' },\n  { font: 'Montserrat' },\n  { font: 'Tangerine' }\n]\n\nexport function themeList(vue) {\n  return [\n    {\n      alias: vue.$t('book.themeDefault'),\n      name: 'Default',\n      style: {\n        body: {\n          'color': '#4c5059',\n          'background': '#cecece',\n          'padding-top': `${realPx(48)}px!important`,\n          'padding-bottom': `${realPx(48)}px!important`\n        },\n        img: {\n          'width': '100%'\n        },\n        '.epubjs-hl': {\n          'fill': 'red', 'fill-opacity': '0.3', 'mix-blend-mode': 'multiply'\n        }\n      }\n    },\n    {\n      alias: vue.$t('book.themeGold'),\n      name: 'Gold',\n      style: {\n        body: {\n          'color': '#5c5b56',\n          'background': '#c6c2b6',\n          'padding-top': `${realPx(48)}px!important`,\n          'padding-bottom': `${realPx(48)}px!important`\n        },\n        img: {\n          'width': '100%'\n        },\n        '.epubjs-hl': {\n          'fill': 'red', 'fill-opacity': '0.3', 'mix-blend-mode': 'multiply'\n        }\n      }\n    },\n    {\n      alias: vue.$t('book.themeEye'),\n      name: 'Eye',\n      style: {\n        body: {\n          'color': '#404c42',\n          'background': '#a9c1a9',\n          'padding-top': `${realPx(48)}px!important`,\n          'padding-bottom': `${realPx(48)}px!important`\n        },\n        img: {\n          'width': '100%'\n        },\n        '.epubjs-hl': {\n          'fill': 'red', 'fill-opacity': '0.3', 'mix-blend-mode': 'multiply'\n        }\n      }\n    },\n    {\n      alias: vue.$t('book.themeNight'),\n      name: 'Night',\n      style: {\n        body: {\n          'color': '#cecece',\n          'background': '#000000',\n          'padding-top': `${realPx(48)}px!important`,\n          'padding-bottom': `${realPx(48)}px!important`\n        },\n        img: {\n          'width': '100%'\n        },\n        '.epubjs-hl': {\n          'fill': 'red', 'fill-opacity': '0.3', 'mix-blend-mode': 'multiply'\n        }\n      }\n    }\n  ]\n}\n\nexport function getReadTimeByMinute(fileName) {\n  if (!getReadTime(fileName)) {\n    return 0\n  } else {\n    return Math.ceil(getReadTime(fileName) / 60)\n  }\n}\n\nexport function getCategoryName(id) {\n  switch (id) {\n    case 1:\n      return 'ComputerScience'\n    case 2:\n      return 'SocialSciences'\n    case 3:\n      return 'Economics'\n    case 4:\n      return 'Education'\n    case 5:\n      return 'Engineering'\n    case 6:\n      return 'Environment'\n    case 7:\n      return 'Geography'\n    case 8:\n      return 'History'\n    case 9:\n      return 'Laws'\n    case 10:\n      return 'LifeSciences'\n    case 11:\n      return 'Literature'\n    case 12:\n      return 'Biomedicine'\n    case 13:\n      return 'BusinessandManagement'\n    case 14:\n      return 'EarthSciences'\n    case 15:\n      return 'MaterialsScience'\n    case 16:\n      return 'Mathematics'\n    case 17:\n      return 'MedicineAndPublicHealth'\n    case 18:\n      return 'Philosophy'\n    case 19:\n      return 'Physics'\n    case 20:\n      return 'PoliticalScienceAndInternationalRelations'\n    case 21:\n      return 'Psychology'\n    case 22:\n      return 'Statistics'\n  }\n}\n\nexport function categoryText(category, vue) {\n  switch (category) {\n    case 1:\n      return vue.$t('category.computerScience')\n    case 2:\n      return vue.$t('category.socialSciences')\n    case 3:\n      return vue.$t('category.economics')\n    case 4:\n      return vue.$t('category.education')\n    case 5:\n      return vue.$t('category.engineering')\n    case 6:\n      return vue.$t('category.environment')\n    case 7:\n      return vue.$t('category.geography')\n    case 8:\n      return vue.$t('category.history')\n    case 9:\n      return vue.$t('category.laws')\n    case 10:\n      return vue.$t('category.lifeSciences')\n    case 11:\n      return vue.$t('category.literature')\n    case 12:\n      return vue.$t('category.biomedicine')\n    case 13:\n      return vue.$t('category.businessandManagement')\n    case 14:\n      return vue.$t('category.earthSciences')\n    case 15:\n      return vue.$t('category.materialsScience')\n    case 16:\n      return vue.$t('category.mathematics')\n    case 17:\n      return vue.$t('category.medicineAndPublicHealth')\n    case 18:\n      return vue.$t('category.philosophy')\n    case 19:\n      return vue.$t('category.physics')\n    case 20:\n      return vue.$t('category.politicalScienceAndInternationalRelations')\n    case 21:\n      return vue.$t('category.psychology')\n    case 22:\n      return vue.$t('category.statistics')\n  }\n}\n\nexport function showBookDetail(vue, book) {\n  vue.$router.push({\n    path: '/book-store/detail',\n    query: {\n      fileName: book.fileName,\n      category: book.categoryText\n    }\n  })\n}\n\nexport const categoryList = {\n  'ComputerScience': 1,\n  'SocialSciences': 2,\n  'Economics': 3,\n  'Education': 4,\n  'Engineering': 5,\n  'Environment': 6,\n  'Geography': 7,\n  'History': 8,\n  'Laws': 9,\n  'LifeSciences': 10,\n  'Literature': 11,\n  'Biomedicine': 12,\n  'BusinessandManagement': 13,\n  'EarthSciences': 14,\n  'MaterialsScience': 15,\n  'Mathematics': 16,\n  'MedicineAndPublicHealth': 17,\n  'Philosophy': 18,\n  'Physics': 19,\n  'PoliticalScienceAndInternationalRelations': 20,\n  'Psychology': 21,\n  'Statistics': 22\n}\n\nconst BOOK_SHELF_KEY = 'bookShelf'\n\nexport function addToShelf(book) {\n  let bookList = getLocalStorage(BOOK_SHELF_KEY)\n  bookList = clearAddFromBookList(bookList)\n  book.type = 1\n  bookList.push(book)\n  bookList.forEach((item, index) => {\n    item.id = index + 1\n  })\n  appendAddToBookList(bookList)\n  setLocalStorage(BOOK_SHELF_KEY, bookList)\n}\n\nexport function appendAddToBookList(bookList) {\n  bookList.push({\n    cover: '',\n    title: '',\n    type: 3,\n    id: Number.MAX_SAFE_INTEGER\n  })\n}\n\nexport function clearAddFromBookList(bookList) {\n  return bookList.filter(item => {\n    return item.type !== 3\n  })\n}\n\nexport function removeFromBookShelf(bookItem) {\n  let bookList = getLocalStorage(BOOK_SHELF_KEY)\n  bookList = bookList.filter(item => {\n    if (item.itemList) {\n      item.itemList = item.itemList.filter(subItem => subItem.fileName !== bookItem.fileName)\n    }\n    return item.fileName !== bookItem.fileName\n  })\n  setLocalStorage(BOOK_SHELF_KEY, bookList)\n}\n\nexport function flatBookList(bookList) {\n  if (bookList) {\n    let orgBookList = bookList.filter(item => {\n      return item.type !== 3\n    })\n    const categoryList = bookList.filter(item => {\n      return item.type === 2\n    })\n    categoryList.forEach(item => {\n      const index = orgBookList.findIndex(v => {\n        return v.id === item.id\n      })\n      if (item.itemList) {\n        item.itemList.forEach(subItem => {\n          orgBookList.splice(index, 0, subItem)\n        })\n      }\n    })\n    orgBookList.forEach((item, index) => {\n      item.id = index + 1\n    })\n    orgBookList = orgBookList.filter(item => item.type !== 2)\n    return orgBookList\n  } else {\n    return []\n  }\n}\n\nexport function findBook(fileName) {\n  const bookList = getLocalStorage(BOOK_SHELF_KEY)\n  return flatBookList(bookList).find(item => item.fileName === fileName)\n}\n\nexport function removeBookCache(fileName) {\n  return new Promise((resolve, reject) => {\n    removeLocalStorage(fileName)\n    removeLocalStorage(`${fileName}-info`)\n    removeLocalForage(fileName, () => {\n      console.log(`[${fileName}]删除成功...`)\n      resolve()\n    }, reject)\n  })\n}\n\nexport function switchLocale(vue) {\n  if (vue.$i18n.locale === 'en') {\n    vue.$i18n.locale = 'cn'\n  } else {\n    vue.$i18n.locale = 'en'\n  }\n  setLocalStorage('locale', vue.$i18n.locale)\n}\n\nexport function reset(vue) {\n  vue.$store.dispatch('setMenuVisible', false)\n  vue.$store.dispatch('setSettingVisible', 0)\n  vue.$store.dispatch('setFontFamilyVisible', false)\n  vue.$store.dispatch('setSpeakingIconBottom', realPx(58))\n}\n"]}]}