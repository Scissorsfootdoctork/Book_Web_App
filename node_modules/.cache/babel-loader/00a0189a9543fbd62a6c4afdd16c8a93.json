{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/shelf/shelfSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/shelf/shelfSearch.vue","mtime":1541580605000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { switchLocale } from '@/utils/book';\nimport { getLocalStorage } from '@/utils/localStorage';\nexport default {\n  computed: {\n    tabs: function tabs() {\n      return [{\n        id: 1,\n        text: this.$t('shelf.default'),\n        selected: true\n      }, {\n        id: 2,\n        text: this.$t('shelf.progress'),\n        selected: false\n      }, {\n        id: 3,\n        text: this.$t('shelf.purchase'),\n        selected: false\n      }];\n    }\n  },\n  data: function data() {\n    return {\n      ifShowCancel: false,\n      ifShowClear: false,\n      ifHideShadow: true,\n      searchText: ''\n    };\n  },\n  methods: {\n    lang: function lang() {\n      return getLocalStorage('locale');\n    },\n    showReadHistory: function showReadHistory() {\n      switchLocale(this);\n    },\n    onTabClick: function onTabClick(item) {\n      this.tabs.forEach(function (tab) {\n        if (tab.id === item.id) {\n          tab.selected = true;\n        } else {\n          tab.selected = false;\n        }\n      });\n      this.$emit('onTabClick', item.id);\n      this.$forceUpdate();\n    },\n    showShadow: function showShadow() {\n      this.ifHideShadow = false;\n    },\n    hideShadow: function hideShadow() {\n      this.ifHideShadow = true;\n    },\n    onCancel: function onCancel() {\n      this.$emit('onCancel');\n      this.ifShowCancel = false;\n    },\n    clearSearchText: function clearSearchText() {\n      this.searchText = '';\n      this.checkSearchText();\n      this.$refs.searchInput.focus();\n    },\n    checkSearchText: function checkSearchText() {\n      if (this.searchText && this.searchText.length > 0) {\n        this.ifShowClear = true;\n      } else {\n        this.ifShowClear = false;\n      }\n    },\n    onSearchClick: function onSearchClick() {\n      this.$emit('onSearchClick');\n      this.ifShowCancel = true;\n    }\n  }\n};",{"version":3,"sources":["shelfSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,SAAA,YAAA,QAAA,cAAA;AACA,SAAA,eAAA,QAAA,sBAAA;AAEA,eAAA;AACA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,CACA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA,eAAA,CAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OADA,EAMA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA,gBAAA,CAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OANA,EAWA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA,gBAAA,CAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OAXA,CAAA;AAiBA;AAnBA,GADA;AAsBA,EAAA,IAtBA,kBAsBA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA,KAFA;AAGA,MAAA,YAAA,EAAA,IAHA;AAIA,MAAA,UAAA,EAAA;AAJA,KAAA;AAMA,GA7BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,eAAA,CAAA,QAAA,CAAA;AACA,KAHA;AAIA,IAAA,eAJA,6BAIA;AACA,MAAA,YAAA,CAAA,IAAA,CAAA;AACA,KANA;AAOA,IAAA,UAPA,sBAOA,IAPA,EAOA;AACA,WAAA,IAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,EAAA,KAAA,IAAA,CAAA,EAAA,EAAA;AACA,UAAA,GAAA,CAAA,QAAA,GAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,GAAA,CAAA,QAAA,GAAA,KAAA;AACA;AACA,OANA;AAOA,WAAA,KAAA,CAAA,YAAA,EAAA,IAAA,CAAA,EAAA;AACA,WAAA,YAAA;AACA,KAjBA;AAkBA,IAAA,UAlBA,wBAkBA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,KApBA;AAqBA,IAAA,UArBA,wBAqBA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,KAvBA;AAwBA,IAAA,QAxBA,sBAwBA;AACA,WAAA,KAAA,CAAA,UAAA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,KA3BA;AA4BA,IAAA,eA5BA,6BA4BA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,WAAA,eAAA;AACA,WAAA,KAAA,CAAA,WAAA,CAAA,KAAA;AACA,KAhCA;AAiCA,IAAA,eAjCA,6BAiCA;AACA,UAAA,KAAA,UAAA,IAAA,KAAA,UAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,WAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,WAAA,GAAA,KAAA;AACA;AACA,KAvCA;AAwCA,IAAA,aAxCA,2BAwCA;AACA,WAAA,KAAA,CAAA,eAAA;AACA,WAAA,YAAA,GAAA,IAAA;AACA;AA3CA;AA9BA,CAAA","sourcesContent":["<template>\n  <div class=\"shelf-search-wrapper\" :class=\"{'search-top': ifShowCancel, 'hide-shadow': ifHideShadow}\">\n    <div class=\"shelf-search\" :class=\"{'search-top': ifShowCancel}\">\n      <div class=\"search-wrapper\">\n        <div class=\"icon-search-wrapper\">\n          <span class=\"icon-search icon\"></span>\n        </div>\n        <div class=\"search-input-wrapper\">\n          <input class=\"search-input\" type=\"text\" :placeholder=\"$t('shelf.search')\" @input=\"checkSearchText\"\n                 @click=\"onSearchClick\" v-model=\"searchText\" ref=\"searchInput\">\n        </div>\n        <div class=\"icon-clear-wrapper\" @click=\"clearSearchText\" v-if=\"ifShowClear\">\n          <span class=\"icon-close-circle-fill icon\"></span>\n        </div>\n      </div>\n      <div class=\"icon-clock-wrapper\" v-if=\"!ifShowCancel\" @click=\"showReadHistory\">\n        <span class=\"icon-cn icon\" v-if=\"lang() === 'cn'\"></span>\n        <span class=\"icon-en icon\" v-else></span>\n      </div>\n      <div class=\"cancel-btn-wrapper\" v-else @click=\"onCancel\">\n        <span class=\"cancel-btn\">{{$t('shelf.cancel')}}</span>\n      </div>\n    </div>\n    <transition name=\"shelf-tab-slide-up\">\n      <div class=\"tab-wrapper\" v-if=\"ifShowCancel\">\n        <div class=\"tab-item\" v-for=\"(item, index) in tabs\" :key=\"index\" @click=\"onTabClick(item)\">\n          <span class=\"tab-item-text\" :class=\"{'is-selected': item.selected}\" v-if=\"showShadow\">{{item.text}}</span>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\n  import { switchLocale } from '@/utils/book'\n  import { getLocalStorage } from '@/utils/localStorage'\n\n  export default {\n    computed: {\n      tabs() {\n        return [\n          {\n            id: 1,\n            text: this.$t('shelf.default'),\n            selected: true\n          },\n          {\n            id: 2,\n            text: this.$t('shelf.progress'),\n            selected: false\n          },\n          {\n            id: 3,\n            text: this.$t('shelf.purchase'),\n            selected: false\n          }\n        ]\n      }\n    },\n    data() {\n      return {\n        ifShowCancel: false,\n        ifShowClear: false,\n        ifHideShadow: true,\n        searchText: ''\n      }\n    },\n    methods: {\n      lang() {\n        return getLocalStorage('locale')\n      },\n      showReadHistory() {\n        switchLocale(this)\n      },\n      onTabClick(item) {\n        this.tabs.forEach(tab => {\n          if (tab.id === item.id) {\n            tab.selected = true\n          } else {\n            tab.selected = false\n          }\n        })\n        this.$emit('onTabClick', item.id)\n        this.$forceUpdate()\n      },\n      showShadow() {\n        this.ifHideShadow = false\n      },\n      hideShadow() {\n        this.ifHideShadow = true\n      },\n      onCancel() {\n        this.$emit('onCancel')\n        this.ifShowCancel = false\n      },\n      clearSearchText() {\n        this.searchText = ''\n        this.checkSearchText()\n        this.$refs.searchInput.focus()\n      },\n      checkSearchText() {\n        if (this.searchText && this.searchText.length > 0) {\n          this.ifShowClear = true\n        } else {\n          this.ifShowClear = false\n        }\n      },\n      onSearchClick() {\n        this.$emit('onSearchClick')\n        this.ifShowCancel = true\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  @import \"../../assets/styles/global\";\n\n  .shelf-search-wrapper {\n    position: relative;\n    z-index: 105;\n    width: 100%;\n    height: px2rem(94);\n    font-size: px2rem(16);\n    background: white;\n    box-shadow: 0 px2rem(2) px2rem(2) 0 rgba(0, 0, 0, .1);\n    &.search-top {\n      position: fixed;\n      top: 0;\n      left: 0;\n    }\n    &.hide-shadow {\n      box-shadow: none;\n    }\n    .shelf-search {\n      position: absolute;\n      top: px2rem(42);\n      left: 0;\n      z-index: 101;\n      width: 100%;\n      height: px2rem(52);\n      display: flex;\n      transition: all $homeAnimationTime linear;\n      &.search-top {\n        top: 0;\n      }\n      .search-wrapper {\n        display: flex;\n        flex: 1;\n        margin: px2rem(8) 0 px2rem(8) px2rem(10);\n        border: px2rem(1) solid #ccc;\n        border-radius: px2rem(3);\n        .icon-search-wrapper {\n          flex: 0 0 px2rem(22);\n          @include right;\n          .icon-search {\n            font-size: px2rem(12);\n          }\n        }\n        .search-input-wrapper {\n          flex: 1;\n          padding: 0 px2rem(10);\n          box-sizing: border-box;\n          @include center;\n          .search-input {\n            width: 100%;\n            // height: 100%;\n            font-size: px2rem(14);\n            border: none;\n            color: #333;\n            &:focus {\n              outline: none;\n            }\n            &::-webkit-input-placeholder {\n              font-size: px2rem(14);\n              color: #ccc;\n            }\n          }\n        }\n        .icon-clear-wrapper {\n          flex: 0 0 px2rem(24);\n          @include left;\n          .icon-close-circle-fill {\n            font-size: px2rem(14);\n            color: #ccc;\n          }\n        }\n      }\n      .icon-clock-wrapper {\n        flex: 0 0 px2rem(55);\n        @include center;\n        .icon-cn, .icon-en {\n          font-size: px2rem(22);\n          color: #666;\n        }\n      }\n      .cancel-btn-wrapper {\n        flex: 0 0 px2rem(55);\n        @include center;\n        .cancel-btn {\n          font-size: px2rem(14);\n          color: $color-blue;\n        }\n      }\n    }\n    .tab-wrapper {\n      position: absolute;\n      top: px2rem(52);\n      left: 0;\n      z-index: 100;\n      display: flex;\n      width: 100%;\n      height: px2rem(42);\n      .tab-item {\n        flex: 1;\n        @include center;\n        .tab-item-text {\n          font-size: px2rem(12);\n          color: #999;\n          &.is-selected {\n            color: $color-blue;\n          }\n        }\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/components/shelf"}]}