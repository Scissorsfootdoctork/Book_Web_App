{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/babel-loader/lib/index.js!/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/src/components/shelf/shelfItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/src/components/shelf/shelfItem.vue","mtime":1589471440193},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Mine-Project/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgc2hlbGZBZGQgZnJvbSAnLi9zaGVsZkFkZCc7CmltcG9ydCBzaGVsZkNhdGVnb3J5IGZyb20gJy4vc2hlbGZDYXRlZ29yeSc7CmltcG9ydCBzaGVsZkltYWdlIGZyb20gJy4vc2hlbGZJbWFnZSc7CmltcG9ydCB7IGdvdG9TdG9yZUhvbWUgfSBmcm9tICcuLi8uLi91dGlscy9zdG9yZSc7CmltcG9ydCB7IHN0b3JlU2hlbGZNaXhpbiB9IGZyb20gJy4uLy4uL3V0aWxzL21peGluJzsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW3N0b3JlU2hlbGZNaXhpbl0sCiAgcHJvcHM6IHsKICAgIGRhdGE6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkZDogc2hlbGZBZGQsCiAgICAgIGNhdGVnb3J5OiBzaGVsZkNhdGVnb3J5LAogICAgICBib29rOiBzaGVsZkltYWdlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25JdGVtQ2xpY2s6IGZ1bmN0aW9uIG9uSXRlbUNsaWNrKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuaXNFZGl0TW9kZSkgewogICAgICAgIHRoaXMuZGF0YS5zZWxlY3RlZCA9ICF0aGlzLmRhdGEuc2VsZWN0ZWQ7CgogICAgICAgIGlmICh0aGlzLmRhdGEuc2VsZWN0ZWQpIHsKICAgICAgICAgIGlmICh0aGlzLnNoZWxmU2VsZWN0ZWQuaW5kZXhPZih0aGlzLmRhdGEpID09PSAtMSkgewogICAgICAgICAgICB0aGlzLnNoZWxmU2VsZWN0ZWQucHVzaCh0aGlzLmRhdGEpOwogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNoZWxmU2VsZWN0ZWQpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNldFNoZWxmU2VsZWN0ZWQodGhpcy5zaGVsZlNlbGVjdGVkLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5pZCAhPT0gX3RoaXMuZGF0YS5pZDsKICAgICAgICAgIH0pKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuZGF0YS50eXBlID09PSAxKSB7CiAgICAgICAgICB0aGlzLnNob3dCb29rRGV0YWlsKHRoaXMuZGF0YSk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEudHlwZSA9PT0gMikgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAnL3N0b3JlL2NhdGVnb3J5JywKICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICB0aXRsZTogdGhpcy5kYXRhLnRpdGxlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBnb3RvU3RvcmVIb21lKHRoaXMpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGl0ZW06IGZ1bmN0aW9uIGl0ZW0oKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gMSA/IHRoaXMuYm9vayA6IHRoaXMuZGF0YS50eXBlID09PSAyID8gdGhpcy5jYXRlZ29yeSA6IHRoaXMuYWRkOwogICAgfQogIH0KfTs="},{"version":3,"sources":["shelfItem.vue"],"names":[],"mappings":";;;;;;;;;;;;AAWA,OAAA,QAAA,MAAA,YAAA;AACA,OAAA,aAAA,MAAA,iBAAA;AACA,OAAA,UAAA,MAAA,cAAA;AACA,SAAA,aAAA,QAAA,mBAAA;AACA,SAAA,eAAA,QAAA,mBAAA;AAEA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,eAAA,CADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,QADA;AAEA,MAAA,QAAA,EAAA,aAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,UAAA,KAAA,UAAA,EAAA;AACA,aAAA,IAAA,CAAA,QAAA,GAAA,CAAA,KAAA,IAAA,CAAA,QAAA;;AACA,YAAA,KAAA,IAAA,CAAA,QAAA,EAAA;AACA,cAAA,KAAA,aAAA,CAAA,OAAA,CAAA,KAAA,IAAA,MAAA,CAAA,CAAA,EAAA;AACA,iBAAA,aAAA,CAAA,IAAA,CAAA,KAAA,IAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,KAAA,aAAA;AACA;AACA,SALA,MAKA;AACA,eAAA,gBAAA,CAAA,KAAA,aAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,mBAAA,IAAA,CAAA,EAAA,KAAA,KAAA,CAAA,IAAA,CAAA,EAAA;AAAA,WAAA,CAAA;AACA;AACA,OAVA,MAUA;AACA,YAAA,KAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,eAAA,cAAA,CAAA,KAAA,IAAA;AACA,SAFA,MAEA,IAAA,KAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,iBADA;AAEA,YAAA,KAAA,EAAA;AACA,cAAA,KAAA,EAAA,KAAA,IAAA,CAAA;AADA;AAFA,WAAA;AAMA,SAPA,MAOA;AACA,UAAA,aAAA,CAAA,IAAA,CAAA;AACA;AACA;AACA;AA1BA,GAZA;AAwCA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,KAAA,IAAA,CAAA,IAAA,KAAA,CAAA,GAAA,KAAA,IAAA,GAAA,KAAA,IAAA,CAAA,IAAA,KAAA,CAAA,GAAA,KAAA,QAAA,GAAA,KAAA,GAAA;AACA;AAHA;AAxCA,CAAA","sourcesContent":["<template>\n    <div class=\"shelf-item\" :class=\"{ 'shelf-item-shadow' : data.type === 1 || data.type === 2 }\" @click=\"onItemClick\">\n        <component :is=\"item\" :data=\"data\" class=\"shelf-item-comp\"\n                   :class=\"{'is-edit': isEditMode && data.type === 2}\"></component>\n        <div class=\"icon-selected\"\n             :class=\"{'is-selected': data.selected}\"\n             v-show=\"isEditMode && data.type === 1\"></div>\n    </div>\n</template>\n\n<script>\n    import shelfAdd from './shelfAdd'\n    import shelfCategory from './shelfCategory'\n    import shelfImage from './shelfImage'\n    import { gotoStoreHome } from '../../utils/store'\n    import { storeShelfMixin } from '../../utils/mixin'\n\n    export default {\n        mixins: [storeShelfMixin],\n        props: {\n            data: Object\n        },\n        data() {\n            return {\n                add: shelfAdd,\n                category: shelfCategory,\n                book: shelfImage\n            }\n        },\n        methods: {\n            onItemClick() {\n                if (this.isEditMode) {\n                    this.data.selected = !this.data.selected\n                    if (this.data.selected) {\n                        if (this.shelfSelected.indexOf(this.data) === -1) {\n                            this.shelfSelected.push(this.data)\n                            console.log(this.shelfSelected)\n                        }\n                    } else {\n                        this.setShelfSelected(this.shelfSelected.filter(item => item.id !== this.data.id))\n                    }\n                } else {\n                    if (this.data.type === 1) {\n                        this.showBookDetail(this.data)\n                    } else if (this.data.type === 2) {\n                        this.$router.push({\n                            path: '/store/category',\n                            query: {\n                                title: this.data.title\n                            }\n                        })\n                    } else {\n                        gotoStoreHome(this)\n                    }\n                }\n            }\n        },\n        computed: {\n            item() {\n                return this.data.type === 1 ? this.book : (this.data.type === 2 ? this.category : this.add)\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    @import \"../../assets/styles/global\";\n\n    .shelf-item {\n        position: relative;\n        width: 100%;\n        height: 100%;\n\n        &.shelf-item-shadow {\n            box-shadow: px2rem(2) px2rem(2) px2rem(6) px2rem(2) rgba(200, 200, 200, .3);\n        }\n\n        .shelf-item-comp {\n            opacity: 1;\n\n            &.is-edit {\n                opacity: .5;\n            }\n        }\n\n        .icon-selected {\n            position: absolute;\n            bottom: px2rem(2);\n            right: px2rem(2);\n            font-size: px2rem(18);\n            color: rgba(0, 0, 0, .4);\n\n            &.is-selected {\n                color: $color-blue;\n            }\n        }\n    }\n</style>\n"],"sourceRoot":"src/components/shelf"}]}