{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/shelf/shelfTitle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/shelf/shelfTitle.vue","mtime":1541580605000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.filter\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Popup from '@/components/shelf/popup';\nimport ShelfGroupDialog from '@/components/shelf/shelfGroupDialog';\nimport { switchLocale } from '@/utils/book';\nexport default {\n  components: {\n    ShelfGroupDialog: ShelfGroupDialog,\n    Popup: Popup\n  },\n  props: {\n    isEditMode: Boolean,\n    ifShowBack: Boolean,\n    ifShowClear: Boolean,\n    ifGroupEmpty: Boolean,\n    data: Array,\n    title: String,\n    category: Object\n  },\n  computed: {\n    isDataEmpty: function isDataEmpty() {\n      return !this.data || this.data.filter(function (item) {\n        return item.type !== 3;\n      }).length === 0;\n    },\n    selectedText: function selectedText() {\n      return this.selectedNumber === 0 ? this.$t('shelf.selectBook') : this.selectedNumber === 1 ? this.$t('shelf.haveSelectedBook').replace('$1', this.selectedNumber) : this.$t('shelf.haveSelectedBooks').replace('$1', this.selectedNumber);\n    },\n    selectedNumber: function selectedNumber() {\n      if (this.category && this.category.itemList) {\n        return this.category.itemList.filter(function (item) {\n          return item.selected;\n        }).length;\n      } else if (this.data) {\n        return this.data.filter(function (item) {\n          return item.selected;\n        }).length;\n      } else {\n        return 0;\n      }\n    },\n    thirdText: function thirdText() {\n      if (this.isDeleteGroup) {\n        return '';\n      } else {\n        return this.$t('shelf.editGroupName');\n      }\n    },\n    popupTitle: function popupTitle() {\n      if (this.isDeleteGroup) {\n        return this.$t('shelf.deleteGroupTitle');\n      } else {\n        return '';\n      }\n    },\n    confirmText: function confirmText() {\n      if (this.isDeleteGroup) {\n        return this.$t('shelf.confirm');\n      } else {\n        return this.$t('shelf.deleteGroup');\n      }\n    }\n  },\n  data: function data() {\n    return {\n      ifHideShadow: true,\n      ifGroupDialogShow: false,\n      isDeleteGroup: false\n    };\n  },\n  methods: {\n    changeLanguage: function changeLanguage() {\n      switchLocale(this);\n    },\n    editGroupName: function editGroupName(category, groupName) {\n      this.$emit('editGroupName', category, groupName);\n    },\n    showPopup: function showPopup() {\n      this.$refs.popup.show();\n    },\n    onPopupDelete: function onPopupDelete() {\n      var _this = this;\n\n      if (this.isDeleteGroup) {\n        this.$emit('deleteGroup', this.category);\n        this.isDeleteGroup = false;\n      } else {\n        this.$refs.popup.hide();\n        setTimeout(function () {\n          _this.isDeleteGroup = true;\n\n          _this.$refs.popup.show();\n        }, 200);\n      }\n    },\n    onPopupChange: function onPopupChange() {\n      this.ifGroupDialogShow = true;\n      this.$refs.groupDialog.showEditGroupDialog();\n    },\n    changeGroup: function changeGroup() {\n      this.showPopup();\n    },\n    back: function back() {\n      this.$router.go(-1);\n    },\n    clearCache: function clearCache() {\n      this.$emit('clearCache');\n    },\n    showShadow: function showShadow() {\n      this.ifHideShadow = false;\n    },\n    hideShadow: function hideShadow() {\n      this.ifHideShadow = true;\n    },\n    onEditClick: function onEditClick() {\n      if (this.isEditMode) {\n        this.$emit('onEditClick', false);\n      } else {\n        this.$emit('onEditClick', true);\n      }\n    }\n  }\n};",{"version":3,"sources":["shelfTitle.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition name=\"fade\">\n    <div class=\"shelf-title-wrapper\" :class=\"{'hide-shadow': ifHideShadow}\">\n      <div class=\"title\">\n        <span class=\"title-text\">{{title}}</span>\n        <span class=\"sub-title-text\" v-show=\"isEditMode\">{{selectedText}}</span>\n      </div>\n      <div class=\"btn-text-wrapper\" @click=\"onEditClick\" v-if=\"!ifGroupEmpty && !isDataEmpty\">\n        <span class=\"btn-text\">{{isEditMode ? $t('shelf.cancel') : $t('shelf.edit')}}</span>\n      </div>\n      <div class=\"btn-text-wrapper\" @click=\"changeGroup\" v-if=\"ifGroupEmpty && !isDataEmpty\">\n        <span class=\"btn-text\">{{$t('shelf.editGroup')}}</span>\n      </div>\n      <div class=\"btn-text-wrapper\" @click=\"changeLanguage\" v-if=\"isDataEmpty\">\n        <span class=\"btn-text\">{{$t('shelf.changeLanguage')}}</span>\n      </div>\n      <div class=\"btn-clear-wrapper\" @click=\"clearCache\" v-if=\"ifShowClear && !isDataEmpty\">\n        <span class=\"btn-clear\">{{$t('shelf.clearCache')}}</span>\n      </div>\n      <div class=\"btn-back-wrapper\" @click=\"back\" v-if=\"ifShowBack && !isEditMode\">\n        <span class=\"icon-back\"></span>\n      </div>\n      <div class=\"btn-back-wrapper\" @click=\"changeGroup\" v-if=\"ifShowBack && isEditMode\">\n        <span class=\"btn-text\">{{$t('shelf.editGroup')}}</span>\n      </div>\n      <popup ref=\"popup\"\n             :title=\"popupTitle\"\n             :thirdText=\"thirdText\"\n             :confirmText=\"confirmText\"\n             :isRemoveText=\"true\"\n             :cancelText=\"$t('shelf.cancel')\"\n             @confirm=\"onPopupDelete\"\n             @third=\"onPopupChange\"></popup>\n      <shelf-group-dialog :visible.sync=\"ifGroupDialogShow\"\n                          :isEditGroupName=\"true\"\n                          :category=\"category\"\n                          @editGroupName=\"editGroupName\"\n                          ref=\"groupDialog\"></shelf-group-dialog>\n    </div>\n  </transition>\n</template>\n\n<script>\n  import Popup from '@/components/shelf/popup'\n  import ShelfGroupDialog from '@/components/shelf/shelfGroupDialog'\n  import { switchLocale } from '@/utils/book'\n\n  export default {\n    components: {\n      ShelfGroupDialog,\n      Popup\n    },\n    props: {\n      isEditMode: Boolean,\n      ifShowBack: Boolean,\n      ifShowClear: Boolean,\n      ifGroupEmpty: Boolean,\n      data: Array,\n      title: String,\n      category: Object\n    },\n    computed: {\n      isDataEmpty() {\n        return !this.data || this.data.filter(item => item.type !== 3).length === 0\n      },\n      selectedText() {\n        return this.selectedNumber === 0 ? this.$t('shelf.selectBook') : (this.selectedNumber === 1 ? this.$t('shelf.haveSelectedBook').replace('$1', this.selectedNumber) : this.$t('shelf.haveSelectedBooks').replace('$1', this.selectedNumber))\n      },\n      selectedNumber() {\n        if (this.category && this.category.itemList) {\n          return this.category.itemList.filter(item => item.selected).length\n        } else if (this.data) {\n          return this.data.filter(item => item.selected).length\n        } else {\n          return 0\n        }\n      },\n      thirdText() {\n        if (this.isDeleteGroup) {\n          return ''\n        } else {\n          return this.$t('shelf.editGroupName')\n        }\n      },\n      popupTitle() {\n        if (this.isDeleteGroup) {\n          return this.$t('shelf.deleteGroupTitle')\n        } else {\n          return ''\n        }\n      },\n      confirmText() {\n        if (this.isDeleteGroup) {\n          return this.$t('shelf.confirm')\n        } else {\n          return this.$t('shelf.deleteGroup')\n        }\n      }\n    },\n    data() {\n      return {\n        ifHideShadow: true,\n        ifGroupDialogShow: false,\n        isDeleteGroup: false\n      }\n    },\n    methods: {\n      changeLanguage() {\n        switchLocale(this)\n      },\n      editGroupName(category, groupName) {\n        this.$emit('editGroupName', category, groupName)\n      },\n      showPopup() {\n        this.$refs.popup.show()\n      },\n      onPopupDelete() {\n        if (this.isDeleteGroup) {\n          this.$emit('deleteGroup', this.category)\n          this.isDeleteGroup = false\n        } else {\n          this.$refs.popup.hide()\n          setTimeout(() => {\n            this.isDeleteGroup = true\n            this.$refs.popup.show()\n          }, 200)\n        }\n      },\n      onPopupChange() {\n        this.ifGroupDialogShow = true\n        this.$refs.groupDialog.showEditGroupDialog()\n      },\n      changeGroup() {\n        this.showPopup()\n      },\n      back() {\n        this.$router.go(-1)\n      },\n      clearCache() {\n        this.$emit('clearCache')\n      },\n      showShadow() {\n        this.ifHideShadow = false\n      },\n      hideShadow() {\n        this.ifHideShadow = true\n      },\n      onEditClick() {\n        if (this.isEditMode) {\n          this.$emit('onEditClick', false)\n        } else {\n          this.$emit('onEditClick', true)\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  @import \"../../assets/styles/global\";\n\n  .shelf-title-wrapper {\n    position: relative;\n    z-index: 130;\n    width: 100%;\n    height: px2rem(42);\n    background: white;\n    box-shadow: 0 px2rem(2) px2rem(2) 0 rgba(0, 0, 0, .1);\n    &.hide-shadow {\n      box-shadow: none;\n    }\n    .title {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 110;\n      width: 100%;\n      height: px2rem(42);\n      @include columnCenter;\n      .title-text {\n        font-size: px2rem(16);\n        line-height: px2rem(20);\n        font-weight: bold;\n        color: #333;\n      }\n      .sub-title-text {\n        font-size: px2rem(10);\n        color: #333;\n      }\n    }\n    .btn-text-wrapper {\n      position: absolute;\n      right: 0;\n      top: 0;\n      z-index: 115;\n      padding-right: px2rem(16.5);\n      box-sizing: border-box;\n      height: 100%;\n      @include center;\n      .btn-text {\n        font-size: px2rem(14);\n        color: #666;\n      }\n    }\n    .btn-clear-wrapper {\n      position: absolute;\n      left: 0;\n      top: 0;\n      z-index: 115;\n      padding-left: px2rem(16.5);\n      box-sizing: border-box;\n      height: 100%;\n      @include center;\n      .btn-clear {\n        font-size: px2rem(14);\n        color: #666;\n      }\n    }\n    .btn-back-wrapper {\n      position: absolute;\n      left: 0;\n      top: 0;\n      z-index: 115;\n      padding-left: px2rem(16.5);\n      box-sizing: border-box;\n      height: 100%;\n      font-size: px2rem(20);\n      color: #666;\n      @include center;\n      &:active {\n        color: rgba(102, 102, 102, .5);\n      }\n      .btn-text {\n        font-size: px2rem(14);\n        color: #666;\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/components/shelf"}]}