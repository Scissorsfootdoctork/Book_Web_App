{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/eslint-loader/index.js??ref--13-0!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/utils/mixin.js","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/utils/mixin.js","mtime":1587319020854},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMva3NjaXNzb3Jmb290ZG9jdG9yL0Rlc2t0b3AvQm9va19XZWJfQXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBUaGVtZUxpc3QgYXMgX1RoZW1lTGlzdCwgYWRkQ3NzLCByZW1vdmVBbGxDc3MsIGdldFJlYWRUaW1lQnlNaW51dGUgfSBmcm9tICcuL2Jvb2suanMnOwppbXBvcnQgeyBzYXZlTG9jYXRpb24sIGdldEJvb2ttYXJrIH0gZnJvbSAnLi9sb2NhbHN0b3JhZ2UuanMnOwpleHBvcnQgdmFyIGVib29rTWlueCA9IHsKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImZpbGVOYW1lIiwgIm1lbnVWaXNpYmxlIiwgInNldHRpbmdWaXNpYmxlIiwgImRlZnVsdEZvbnRTaXplIiwgImN1cnJlbnRCb29rIiwgImRlZmF1bHRGb250U2l6ZSIsICJkZWZhdWx0Rm9udEZhbWlseSIsICJmb250RmFtaWx5VmlzaWJsZSIsICJkZWZhdWx0VGhlbWUiLCAiYm9va0F2YWlsYWJsZSIsICJwcm9ncmVzcyIsICJzZWN0aW9uIiwgImlzUGFnaW5hdGluZyIsICJuYXZpZ2F0aW9uIiwgImNvdmVyIiwgIm1ldGFkYXRhIiwgInBhZ2luYXRlIiwgInBhZ2VsaXN0IiwgIm9mZnNldFkiLCAiaXNCb29rbWFyayJdKSwgewogICAgVGhlbWVMaXN0OiBmdW5jdGlvbiBUaGVtZUxpc3QoKSB7CiAgICAgIHJldHVybiBfVGhlbWVMaXN0KHRoaXMpOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWyJzZXRGb250RmFtaWx5VmlzaWJsZSIsICJzZXREZWZhdWx0Rm9udEZhbWlseSIsICJzZXREZWZhdWx0Rm9udFNpemUiLCAic2V0U2V0dGluZ1Zpc2libGUiLCAic2V0TWVudVZpc2libGUiLCAic2V0RmlsZU5hbWUiLCAic2V0RGVmYXVsdFRoZW1lIiwgInNldEJvb2tBdmFpbGFibGUiLCAic2V0UHJvZ3Jlc3MiLCAic2V0U2VjdGlvbiIsICJzZXRJc1BhZ2luYXRpbmciLCAic2V0Q3VycmVudEJvb2siLCAic2V0TmF2aWdhdGlvbiIsICJzZXRDb3ZlciIsICJzZXRNZXRhZGF0YSIsICJzZXRQYWdpbmF0ZSIsICJzZXRQYWdlbGlzdCIsICJzZXRJc0Jvb2ttYXJrIiwgInNldE9mZnNldFkiXSksIHsKICAgIGluaXRHbG9ibGVTdHlsZTogZnVuY3Rpb24gaW5pdEdsb2JsZVN0eWxlKCkgewogICAgICByZW1vdmVBbGxDc3MoKTsKCiAgICAgIHN3aXRjaCAodGhpcy5kZWZhdWx0VGhlbWUpIHsKICAgICAgICBjYXNlICJEZWZhdWx0IjoKICAgICAgICAgIGFkZENzcygiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL3RoZW1lL3RoZW1lX2RlZmF1bHQuY3NzIikpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIkV5ZSI6CiAgICAgICAgICBhZGRDc3MoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfUkVTX1VSTCwgIi90aGVtZS90aGVtZV9leWUuY3NzIikpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIkdvbGQiOgogICAgICAgICAgYWRkQ3NzKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvdGhlbWUvdGhlbWVfZ29sZC5jc3MiKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiTmlnaHQiOgogICAgICAgICAgYWRkQ3NzKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvdGhlbWUvdGhlbWVfbmlnaHQuY3NzIikpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBhZGRDc3MoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfUkVTX1VSTCwgIi90aGVtZS90aGVtZV9kZWZhdWx0LmNzcyIpKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgcmVmcmVzaExvY2F0aW9uOiBmdW5jdGlvbiByZWZyZXNoTG9jYXRpb24oKSB7CiAgICAgIHZhciBjdXJyZW50TG9jYXRpb24gPSB0aGlzLmN1cnJlbnRCb29rLnJlbmRpdGlvbi5jdXJyZW50TG9jYXRpb24oKTsKICAgICAgdmFyIHN0YXJ0Q2ZpID0gY3VycmVudExvY2F0aW9uLnN0YXJ0LmNmaTsKICAgICAgdmFyIHByb2dyZXNzID0gdGhpcy5jdXJyZW50Qm9vay5sb2NhdGlvbnMucGVyY2VudGFnZUZyb21DZmkoY3VycmVudExvY2F0aW9uLnN0YXJ0LmNmaSk7CiAgICAgIHRoaXMuc2V0UHJvZ3Jlc3MoTWF0aC5mbG9vcihwcm9ncmVzcyAqIDEwMCkpOwogICAgICBzYXZlTG9jYXRpb24odGhpcy5maWxlTmFtZSwgc3RhcnRDZmkpOwogICAgICB2YXIgYm9va21hcmsgPSBnZXRCb29rbWFyayh0aGlzLmZpbGVOYW1lKTsKICAgICAgY29uc29sZS5sb2coYm9va21hcmspOwoKICAgICAgaWYgKGJvb2ttYXJrKSB7CiAgICAgICAgaWYgKGJvb2ttYXJrLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmNmaSA9PT0gc3RhcnRDZmk7CiAgICAgICAgfSkpIHsKICAgICAgICAgIHRoaXMuc2V0SXNCb29rbWFyayh0cnVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zZXRJc0Jvb2ttYXJrKGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkaXNwbGF5OiBmdW5jdGlvbiBkaXNwbGF5KHRhcmdldCwgY2IpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0YXJnZXQpIHsKICAgICAgICB0aGlzLmN1cnJlbnRCb29rLnJlbmRpdGlvbi5kaXNwbGF5KHRhcmdldCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5yZWZyZXNoTG9jYXRpb24oKTsKCiAgICAgICAgICBpZiAoY2IpIGNiKCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJyZW50Qm9vay5yZW5kaXRpb24uZGlzcGxheSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMucmVmcmVzaExvY2F0aW9uKCk7CgogICAgICAgICAgaWYgKGNiKSBjYigpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaGlkZVRpdGxlQW5kTWVudTogZnVuY3Rpb24gaGlkZVRpdGxlQW5kTWVudSgpIHsKICAgICAgdGhpcy5zZXRNZW51VmlzaWJsZShmYWxzZSk7CiAgICAgIHRoaXMuc2V0Rm9udEZhbWlseVZpc2libGUoZmFsc2UpOwogICAgICB0aGlzLnNldFNldHRpbmdWaXNpYmxlKC0xKTsKICAgIH0sCiAgICBnZXRSZWFkVGltZVRleHQ6IGZ1bmN0aW9uIGdldFJlYWRUaW1lVGV4dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHQoImJvb2suaGF2ZVJlYWQiKS5yZXBsYWNlKCIkMSIsIGdldFJlYWRUaW1lQnlNaW51dGUodGhpcy5maWxlTmFtZSkpOwogICAgfQogIH0pCn07"},{"version":3,"sources":["/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/utils/mixin.js"],"names":["mapGetters","mapActions","ThemeList","addCss","removeAllCss","getReadTimeByMinute","saveLocation","getBookmark","ebookMinx","computed","methods","initGlobleStyle","defaultTheme","process","env","VUE_APP_RES_URL","refreshLocation","currentLocation","currentBook","rendition","startCfi","start","cfi","progress","locations","percentageFromCfi","setProgress","Math","floor","fileName","bookmark","console","log","some","item","setIsBookmark","display","target","cb","then","hideTitleAndMenu","setMenuVisible","setFontFamilyVisible","setSettingVisible","getReadTimeText","$t","replace"],"mappings":"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","sourcesContent":["import {\n  mapGetters,\n  mapActions\n} from \"vuex\"\nimport {\n  ThemeList,\n  addCss,\n  removeAllCss,\n  getReadTimeByMinute\n} from './book.js';\nimport {\n  saveLocation,\n  getBookmark\n} from './localstorage.js'\nexport const ebookMinx = {\n  computed: {\n    ...mapGetters([\n      \"fileName\",\n      \"menuVisible\",\n      \"settingVisible\",\n      \"defultFontSize\",\n      \"currentBook\",\n      \"defaultFontSize\",\n      \"defaultFontFamily\",\n      \"fontFamilyVisible\",\n      \"defaultTheme\",\n      \"bookAvailable\",\n      \"progress\",\n      \"section\",\n      \"isPaginating\",\n      \"navigation\",\n      \"cover\",\n      \"metadata\",\n      \"paginate\",\n      \"pagelist\",\n      \"offsetY\",\n      \"isBookmark\"\n    ]),\n    ThemeList() {\n      return ThemeList(this);\n    }\n  },\n  methods: {\n    ...mapActions([\n      \"setFontFamilyVisible\",\n      \"setDefaultFontFamily\",\n      \"setDefaultFontSize\",\n      \"setSettingVisible\",\n      \"setMenuVisible\",\n      \"setFileName\",\n      \"setDefaultTheme\",\n      \"setBookAvailable\",\n      \"setProgress\",\n      \"setSection\",\n      \"setIsPaginating\",\n      \"setCurrentBook\",\n      \"setNavigation\",\n      \"setCover\",\n      \"setMetadata\",\n      \"setPaginate\",\n      \"setPagelist\",\n      \"setIsBookmark\",\n      \"setOffsetY\"\n    ]),\n    initGlobleStyle() {\n      removeAllCss()\n      switch (this.defaultTheme) {\n        case \"Default\":\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_default.css`);\n          break;\n        case \"Eye\":\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_eye.css`);\n          break;\n        case \"Gold\":\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_gold.css`);\n          break;\n        case \"Night\":\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_night.css`);\n          break;\n        default:\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_default.css`);\n          break;\n      }\n    },\n    refreshLocation() {\n      const currentLocation = this.currentBook.rendition.currentLocation();\n      const startCfi = currentLocation.start.cfi;\n      const progress = this.currentBook.locations.percentageFromCfi(\n        currentLocation.start.cfi\n      );\n      this.setProgress(Math.floor(progress * 100));\n      saveLocation(this.fileName, startCfi);\n      const bookmark = getBookmark(this.fileName)\n      console.log(bookmark);\n      if (bookmark) {\n        if (bookmark.some(item => item.cfi === startCfi)) {\n          this.setIsBookmark(true);\n        } else {\n          this.setIsBookmark(false);\n        }\n      }\n    },\n    display(target, cb) {\n      if (target) {\n        this.currentBook.rendition.display(target).then(() => {\n          this.refreshLocation()\n          if (cb) cb()\n        })\n      } else {\n        this.currentBook.rendition.display().then(() => {\n          this.refreshLocation()\n          if (cb) cb()\n        })\n      }\n    },\n    hideTitleAndMenu() {\n      this.setMenuVisible(false);\n      this.setFontFamilyVisible(false);\n      this.setSettingVisible(-1);\n    },\n    getReadTimeText() {\n      return this.$t(\"book.haveRead\")\n        .replace(\n          \"$1\",\n          getReadTimeByMinute(this.fileName)\n        );\n    }\n  }\n}\n"]}]}