{"remainingRequest":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/ebook/EbookReder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/src/components/ebook/EbookReder.vue","mtime":1590727080387},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kscissorfootdoctor/Desktop/Book_Web_App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZWJvb2tNaW54IH0gZnJvbSAnLi4vLi4vdXRpbHMvbWl4aW4nOwppbXBvcnQgeyBnZXRGb250RmFtaWx5LCBzYXZlRm9udEZhbWlseSwgZ2V0Rm9udFNpemUsIHNhdmVGb250U2l6ZSwgZ2V0VGhlbWUsIHNhdmVUaGVtZSwgZ2V0TG9jYXRpb24gfSBmcm9tICcuLi8uLi91dGlscy9sb2NhbHN0b3JhZ2UuanMnOwppbXBvcnQgRXB1YiBmcm9tICdlcHVianMnOwppbXBvcnQgeyBnZXRMb2NhbEZvcmFnZSB9IGZyb20gJy4uLy4uL3V0aWxzL2xvY2FsRm9yYWdlJzsKZ2xvYmFsLmVwdWIgPSBFcHViOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbZWJvb2tNaW54XSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG91Y2hTdGFydDogJycsCiAgICAgIHRvdWNoVGltZTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBtb3ZlOiBmdW5jdGlvbiBtb3ZlKGUpIHsKICAgICAgdmFyIG9mZlNldFkgPSAwOwoKICAgICAgaWYgKHRoaXMuZmlyc3RPZmZzZXRZKSB7CiAgICAgICAgb2ZmU2V0WSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAtIHRoaXMuZmlyc3RPZmZzZXRZOwogICAgICAgIHRoaXMuc2V0T2Zmc2V0WShvZmZTZXRZKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpcnN0T2Zmc2V0WSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WTsKICAgICAgfQoKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgfSwKICAgIG1vdmVFbmQ6IGZ1bmN0aW9uIG1vdmVFbmQoZSkgewogICAgICB0aGlzLnNldE9mZnNldFkoMCk7CiAgICAgIHRoaXMuZmlyc3RPZmZzZXRZID0gbnVsbDsKICAgIH0sCiAgICBvbk1hc2tDbGljazogZnVuY3Rpb24gb25NYXNrQ2xpY2soZSkgewogICAgICB2YXIgb2ZmU2V0WCA9IGUub2Zmc2V0WDsKICAgICAgdmFyIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CgogICAgICBpZiAob2ZmU2V0WCA+IDAgJiYgb2ZmU2V0WCA8IHdpZHRoICogMC4zKSB7CiAgICAgICAgdGhpcy5wcmV2UGFnZSgpOwogICAgICB9IGVsc2UgaWYgKG9mZlNldFggPiAwICYmIG9mZlNldFggPiB3aWR0aCAqIDAuNykgewogICAgICAgIHRoaXMubmV4dFBhZ2UoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dUaXRsZUFuZE1lbnUoKTsKICAgICAgfQogICAgfSwKICAgIHByZXZQYWdlOiBmdW5jdGlvbiBwcmV2UGFnZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnJlbmRpdGlvbikgewogICAgICAgIHRoaXMucmVuZGl0aW9uLnByZXYoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnJlZnJlc2hMb2NhdGlvbigpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuaGlkZVRpdGxlQW5kTWVudSgpOwogICAgICB9CiAgICB9LAogICAgbmV4dFBhZ2U6IGZ1bmN0aW9uIG5leHRQYWdlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnJlbmRpdGlvbikgewogICAgICAgIHRoaXMucmVuZGl0aW9uLm5leHQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5yZWZyZXNoTG9jYXRpb24oKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmhpZGVUaXRsZUFuZE1lbnUoKTsKICAgICAgfQogICAgfSwKICAgIHNob3dUaXRsZUFuZE1lbnU6IGZ1bmN0aW9uIHNob3dUaXRsZUFuZE1lbnUoKSB7CiAgICAgIGlmICh0aGlzLm1lbnVWaXNpYmxlKSB7CiAgICAgICAgdGhpcy5zZXRTZXR0aW5nVmlzaWJsZSgtMSk7CiAgICAgICAgdGhpcy5zZXRGb250RmFtaWx5VmlzaWJsZShmYWxzZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2V0TWVudVZpc2libGUoIXRoaXMubWVudVZpc2libGUpOwogICAgfSwKICAgIGluaXRGb250U2l6ZTogZnVuY3Rpb24gaW5pdEZvbnRTaXplKCkgewogICAgICB2YXIgZm9udFNpemUgPSBnZXRGb250U2l6ZSh0aGlzLmZpbGVOYW1lKTsKCiAgICAgIGlmICghZm9udFNpemUpIHsKICAgICAgICBzYXZlRm9udFNpemUodGhpcy5maWxlTmFtZSwgdGhpcy5kZWZ1bHRGb250U2l6ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJyZW50Qm9vay5yZW5kaXRpb24udGhlbWVzLmZvbnRTaXplKGZvbnRTaXplKTsKICAgICAgICB0aGlzLnNldERlZmF1bHRGb250U2l6ZShmb250U2l6ZSk7CiAgICAgIH0KICAgIH0sCiAgICBpbml0Rm9udEZhbWlseTogZnVuY3Rpb24gaW5pdEZvbnRGYW1pbHkoKSB7CiAgICAgIHZhciBmb250ID0gZ2V0Rm9udEZhbWlseSh0aGlzLmZpbGVOYW1lKTsKCiAgICAgIGlmICghZm9udCkgewogICAgICAgIHNhdmVGb250RmFtaWx5KHRoaXMuZmlsZU5hbWUsIHRoaXMuZGVmYXVsdEZvbnRGYW1pbHkpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY3VycmVudEJvb2sucmVuZGl0aW9uLnRoZW1lcy5mb250KGZvbnQpOwogICAgICAgIHRoaXMuc2V0RGVmYXVsdEZvbnRGYW1pbHkoZm9udCk7CiAgICAgIH0KICAgIH0sCiAgICBpbml0VGhlbWU6IGZ1bmN0aW9uIGluaXRUaGVtZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgZGVmYXVsdFRoZW1lID0gZ2V0VGhlbWUodGhpcy5maWxlTmFtZSk7CgogICAgICBpZiAoIWRlZmF1bHRUaGVtZSkgewogICAgICAgIGRlZmF1bHRUaGVtZSA9IHRoaXMuVGhlbWVMaXN0WzBdLm5hbWU7CiAgICAgICAgc2F2ZVRoZW1lKHRoaXMuZmlsZU5hbWUsIGRlZmF1bHRUaGVtZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2V0RGVmYXVsdFRoZW1lKGRlZmF1bHRUaGVtZSk7CiAgICAgIHRoaXMuVGhlbWVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBfdGhpczMucmVuZGl0aW9uLnRoZW1lcy5yZWdpc3RlcihlbGVtZW50Lm5hbWUsIGVsZW1lbnQuc3R5bGUpOwogICAgICB9KTsKICAgICAgdGhpcy5yZW5kaXRpb24udGhlbWVzLnNlbGVjdChkZWZhdWx0VGhlbWUpOwogICAgfSwKICAgIGluaXRSZW5kaXRpb246IGZ1bmN0aW9uIGluaXRSZW5kaXRpb24oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5yZW5kaXRpb24gPSB0aGlzLmJvb2sucmVuZGVyVG8oJ3JlYWQnLCB7CiAgICAgICAgd2lkdGg6IGlubmVyV2lkdGgsCiAgICAgICAgaGVpZ2h0OiBpbm5lckhlaWdodCwKICAgICAgICBtZXRob2Q6ICdkZWZhdWx0JwogICAgICB9KTsKICAgICAgdGhpcy5yZW5kaXRpb24uZGlzcGxheSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBsb2NhbHRpb24gPSBnZXRMb2NhdGlvbihfdGhpczQuZmlsZU5hbWUpOwoKICAgICAgICBfdGhpczQuZGlzcGxheShsb2NhbHRpb24sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNC5pbml0VGhlbWUoKTsKCiAgICAgICAgICBfdGhpczQuaW5pdEZvbnRTaXplKCk7CgogICAgICAgICAgX3RoaXM0LmluaXRGb250RmFtaWx5KCk7CgogICAgICAgICAgX3RoaXM0LmluaXRHbG9ibGVTdHlsZSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5yZW5kaXRpb24uaG9va3MuY29udGVudC5yZWdpc3RlcihmdW5jdGlvbiAoY29udGVudHMpIHsKICAgICAgICBQcm9taXNlLmFsbChbY29udGVudHMuYWRkU3R5bGVzaGVldCgiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL2ZvbnRzL2RheXNPbmUuY3NzIikpLCBjb250ZW50cy5hZGRTdHlsZXNoZWV0KCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvZm9udHMvY2FiaW4uY3NzIikpLCBjb250ZW50cy5hZGRTdHlsZXNoZWV0KCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvZm9udHMvbW9udHNlcnJhdC5jc3MiKSksIGNvbnRlbnRzLmFkZFN0eWxlc2hlZXQoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfUkVTX1VSTCwgIi9mb250cy90YW5nZXJpbmUuY3NzIikpXSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygn5a2X5L2T5YWo6YOo5Yqg6L295a6M5q+VLi4uJyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRHZXN0dXJlOiBmdW5jdGlvbiBpbml0R2VzdHVyZSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLnJlbmRpdGlvbi5vbigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXM1LnRvdWNoU3RhcnQgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7CiAgICAgICAgX3RoaXM1LnRvdWNoVGltZSA9IGUudGltZVN0YW1wOwogICAgICB9KTsKICAgICAgdGhpcy5yZW5kaXRpb24ub24oJ3RvdWNoZW5kJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgb2Zmc2V0WCA9IF90aGlzNS50b3VjaFN0YXJ0IC0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYOwogICAgICAgIHZhciBUaW1lID0gZS50aW1lU3RhbXAgLSBfdGhpczUudG91Y2hUaW1lOwoKICAgICAgICBpZiAoVGltZSA8IDQwMCAmJiBvZmZzZXRYID4gNDApIHsKICAgICAgICAgIF90aGlzNS5uZXh0UGFnZSgpOwogICAgICAgIH0gZWxzZSBpZiAoVGltZSA8IDQwMCAmJiBvZmZzZXRYIDwgLTQwKSB7CiAgICAgICAgICBfdGhpczUucHJldlBhZ2UoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM1LnNob3dUaXRsZUFuZE1lbnUoKTsKICAgICAgICB9CgogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9KTsKICAgIH0sCiAgICBwYXJzZUJvb2s6IGZ1bmN0aW9uIHBhcnNlQm9vaygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLmJvb2subG9hZGVkLmNvdmVyLnRoZW4oZnVuY3Rpb24gKGNvdmVyKSB7CiAgICAgICAgX3RoaXM2LmJvb2suYXJjaGl2ZS5jcmVhdGVVcmwoY292ZXIpLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgX3RoaXM2LnNldENvdmVyKHVybCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLmJvb2subG9hZGVkLm1ldGFkYXRhLnRoZW4oZnVuY3Rpb24gKG1ldGFkYXRhKSB7CiAgICAgICAgX3RoaXM2LnNldE1ldGFkYXRhKG1ldGFkYXRhKTsKICAgICAgfSk7CiAgICAgIHRoaXMuYm9vay5sb2FkZWQubmF2aWdhdGlvbi50aGVuKGZ1bmN0aW9uIChuYXZpZykgewogICAgICAgIHZhciBuYXZJdGVtID0gbmF2aWcudG9jOwoKICAgICAgICBfdGhpczYuc2V0TmF2aWdhdGlvbihuYXZJdGVtKTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdEVwdWI6IGZ1bmN0aW9uIGluaXRFcHViKFVybCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMuYm9vayA9IG5ldyBFcHViKFVybCk7CiAgICAgIHRoaXMuc2V0Q3VycmVudEJvb2sodGhpcy5ib29rKTsKICAgICAgdGhpcy5pbml0UmVuZGl0aW9uKCk7CiAgICAgIHRoaXMuaW5pdEdlc3R1cmUoKTsKICAgICAgdGhpcy5wYXJzZUJvb2soKTsKICAgICAgdGhpcy5ib29rLnJlYWR5LnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczcuYm9vay5sb2NhdGlvbnMuZ2VuZXJhdGUoNzUwICogKHdpbmRvdy5pbm5lcldpZHRoIC8gMzc1KSAqIChnZXRGb250U2l6ZShfdGhpczcuZmlsZU5hbWUpIC8gMTYpKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAobG9jYXRpb25zKSB7CiAgICAgICAgX3RoaXM3LnNldEJvb2tBdmFpbGFibGUodHJ1ZSk7CgogICAgICAgIF90aGlzNy5yZWZyZXNoTG9jYXRpb24oKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgdmFyIGJvb2tzID0gdGhpcy4kcm91dGUucGFyYW1zLmZpbGVOYW1lLnNwbGl0KCd8Jyk7CiAgICB2YXIgZmlsZU5hbWUgPSBib29rc1sxXTsKICAgIGdldExvY2FsRm9yYWdlKGZpbGVOYW1lLCBmdW5jdGlvbiAoZXJyLCBibG9iKSB7CiAgICAgIGlmICghZXJyICYmIGJsb2IpIHsKICAgICAgICBjb25zb2xlLmxvZygnMScpOwoKICAgICAgICBfdGhpczguc2V0RmlsZU5hbWUoYm9va3Muam9pbignLycpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzOC5pbml0RXB1YihibG9iKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygnMScpOwoKICAgICAgICBfdGhpczguc2V0RmlsZU5hbWUoYm9va3Muam9pbignLycpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBVcmwgPSAiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL2VwdWIvIikgKyBfdGhpczguZmlsZU5hbWUgKyAnLmVwdWInOwoKICAgICAgICAgIF90aGlzOC5pbml0RXB1YihVcmwpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["EbookReder.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"Ebook-Reder\">\n        <div id=\"read\"></div>\n        <div class=\"ebook-reader-mask\" @click=\"onMaskClick\" @touchmove=\"move\" @touchend=\"moveEnd\"></div>\n    </div>\n</template>\n\n<script>\n    import { ebookMinx } from '../../utils/mixin'\n    import {\n        getFontFamily,\n        saveFontFamily,\n        getFontSize,\n        saveFontSize,\n        getTheme,\n        saveTheme,\n        getLocation\n    } from '../../utils/localstorage.js'\n    import Epub from 'epubjs'\n    import { getLocalForage } from '../../utils/localForage'\n\n    global.epub = Epub\n    export default {\n        mixins: [ebookMinx],\n        data() {\n            return {\n                touchStart: '',\n                touchTime: ''\n            }\n        },\n        methods: {\n            move(e) {\n                let offSetY = 0\n                if (this.firstOffsetY) {\n                    offSetY = e.changedTouches[0].clientY - this.firstOffsetY\n                    this.setOffsetY(offSetY)\n                } else {\n                    this.firstOffsetY = e.changedTouches[0].clientY\n                }\n                e.preventDefault()\n                e.stopPropagation()\n            },\n            moveEnd(e) {\n                this.setOffsetY(0)\n                this.firstOffsetY = null\n            },\n            onMaskClick(e) {\n                const offSetX = e.offsetX\n                const width = window.innerWidth\n                if (offSetX > 0 && offSetX < width * 0.3) {\n                    this.prevPage()\n                } else if (offSetX > 0 && offSetX > width * 0.7) {\n                    this.nextPage()\n                } else {\n                    this.showTitleAndMenu()\n                }\n            },\n            prevPage() {\n                if (this.rendition) {\n                    this.rendition.prev().then(() => {\n                        this.refreshLocation()\n                    })\n                    this.hideTitleAndMenu()\n                }\n            },\n            nextPage() {\n                if (this.rendition) {\n                    this.rendition.next().then(() => {\n                        this.refreshLocation()\n                    })\n                    this.hideTitleAndMenu()\n                }\n            },\n            showTitleAndMenu() {\n                if (this.menuVisible) {\n                    this.setSettingVisible(-1)\n                    this.setFontFamilyVisible(false)\n                }\n                this.setMenuVisible(!this.menuVisible)\n            },\n            initFontSize() {\n                const fontSize = getFontSize(this.fileName)\n                if (!fontSize) {\n                    saveFontSize(this.fileName, this.defultFontSize)\n                } else {\n                    this.currentBook.rendition.themes.fontSize(fontSize)\n                    this.setDefaultFontSize(fontSize)\n                }\n            },\n            initFontFamily() {\n                const font = getFontFamily(this.fileName)\n                if (!font) {\n                    saveFontFamily(this.fileName, this.defaultFontFamily)\n                } else {\n                    this.currentBook.rendition.themes.font(font)\n                    this.setDefaultFontFamily(font)\n                }\n            },\n            initTheme() {\n                let defaultTheme = getTheme(this.fileName)\n                if (!defaultTheme) {\n                    defaultTheme = this.ThemeList[0].name\n                    saveTheme(this.fileName, defaultTheme)\n                }\n                this.setDefaultTheme(defaultTheme)\n                this.ThemeList.forEach(element => {\n                    this.rendition.themes.register(element.name, element.style)\n                })\n                this.rendition.themes.select(defaultTheme)\n            },\n            initRendition() {\n                this.rendition = this.book.renderTo('read', {\n                    width: innerWidth,\n                    height: innerHeight,\n                    method: 'default'\n                })\n\n                this.rendition.display().then(() => {\n                    const localtion = getLocation(this.fileName)\n                    this.display(localtion, () => {\n                        this.initTheme()\n                        this.initFontSize()\n                        this.initFontFamily()\n                        this.initGlobleStyle()\n                    })\n                })\n                this.rendition.hooks.content.register(contents => {\n                    Promise.all([\n                        contents.addStylesheet(\n                              `${process.env.VUE_APP_RES_URL}/fonts/daysOne.css`\n                        ),\n                        contents.addStylesheet(\n                              `${process.env.VUE_APP_RES_URL}/fonts/cabin.css`\n                        ),\n                        contents.addStylesheet(\n                              `${process.env.VUE_APP_RES_URL}/fonts/montserrat.css`\n                        ),\n                        contents.addStylesheet(\n                              `${process.env.VUE_APP_RES_URL}/fonts/tangerine.css`\n                        )\n                    ]).then(() => {\n                        console.log('字体全部加载完毕...')\n                    })\n                })\n            },\n            initGesture() {\n                this.rendition.on('touchstart', e => {\n                    this.touchStart = e.changedTouches[0].clientX\n                    this.touchTime = e.timeStamp\n                })\n                this.rendition.on('touchend', e => {\n                    const offsetX = this.touchStart - e.changedTouches[0].clientX\n                    const Time = e.timeStamp - this.touchTime\n                    if (Time < 400 && offsetX > 40) {\n                        this.nextPage()\n                    } else if (Time < 400 && offsetX < -40) {\n                        this.prevPage()\n                    } else {\n                        this.showTitleAndMenu()\n                    }\n                    e.preventDefault()\n                    e.stopPropagation()\n                })\n            },\n            parseBook() {\n                this.book.loaded.cover.then(cover => {\n                    this.book.archive.createUrl(cover).then(url => {\n                        this.setCover(url)\n                    })\n                })\n                this.book.loaded.metadata.then(metadata => {\n                    this.setMetadata(metadata)\n                })\n                this.book.loaded.navigation.then(navig => {\n                    const navItem = navig.toc\n                    this.setNavigation(navItem)\n                })\n            },\n            initEpub(Url) {\n                this.book = new Epub(Url)\n                this.setCurrentBook(this.book)\n                this.initRendition()\n                this.initGesture()\n                this.parseBook()\n                this.book.ready\n                .then(() => {\n                    return this.book.locations.generate(\n                          750 * (window.innerWidth / 375) * (getFontSize(this.fileName) / 16)\n                    )\n                })\n                .then(locations => {\n                    this.setBookAvailable(true)\n                    this.refreshLocation()\n                })\n            }\n        },\n\n        mounted() {\n            const books = this.$route.params.fileName.split('|')\n            const fileName = books[1]\n            getLocalForage(fileName, (err, blob) => {\n                if (!err && blob) {\n                    console.log('1')\n                    this.setFileName(books.join('/')).then(() => {\n                        this.initEpub(blob)\n                    })\n                } else {\n                    console.log('1')\n                    this.setFileName(books.join('/')).then(\n                          () => {\n                              const Url =\n                                    `${process.env.VUE_APP_RES_URL}/epub/` + this.fileName + '.epub'\n                              this.initEpub(Url)\n                          }\n                    )\n                }\n            })\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .Ebook-Reder {\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n\n        .ebook-reader-mask {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            top: 0;\n            left: 0;\n            z-index: 150;\n            background: transparent;\n        }\n    }\n</style>\n"],"sourceRoot":"src/components/ebook"}]}